<!DOCTYPE html>
<!-- saved from url=(0036)https://www.sigbus.info/compilerbook -->
<html xmlns="http://www.w3.org/1999/xhtml" lang="ja-JP" xml:lang="ja-JP"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  
  <meta name="generator" content="pandoc">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <meta name="author" content="Rui Ueyama &lt;ruiu@cs.stanford.edu&gt;">
  <meta name="dcterms.date" content="2020-03-16">
  <title>低レイヤを知りたい人のためのCコンパイラ作成入門</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <style type="text/css">
@font-face {
font-family: 'Oxygen Mono';
font-style: normal;
font-weight: 400;
font-display: swap;
src: url(data:font/woff2;base64,d09GMgABAAAAACOkAAwAAAAAQJwAACNQAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGhYGYACBPBEICuxQ1BELgzQAATYCJAODOgQgBYQ2B4QeG9IxsyLYOACgoM0k+C8TuCGiuD9AFRaEzfYAYzxpplTeZBKNQ5nKcy+9PkGZW489f+PlBEVRFGU/PptP/mzWx887hCIjJJmF+toP69l9n0IkgcsjyESzRRmVWFSsovgI5OlTBApIEyrg/QHW+U/WWLFQcbIv1MkTUSfnQtzpccYZ7txhpfMwNjW3xMIi/+TSIv9+jp6f270xsJuqMUu3R3vZP5aLhOwpZG+rLsiJOp9IFZKq6wyzUj2xV01MaXNylBrqU8t/Dd7v6P2+uf93JtlLM7vJJ3IChfrdwAPiJGNyb92FMqvWsrDAgfMr2bbuwf8/16fNCyyyZBBqV7g9WeHKQubdzZk8mPchpcBippSUMlmeKWUR3T91VYAOMFPKLADaIgjJQpMx9Y7BVThbHaLqC06+yuS7bGPaRdofE49S64gYMG9w82MPg4A8xLAOIZ5t29sT1SIAUbOtAOyZw7gHZC/GfhBlHjJsBWgCDNNy599sIiBB7S308l8UYA7EtVQDuwBsKFoHqLbo9PNAGVfWlZ+LbiNFRfHZWfKbG8rXXXVP3fNqOUV5xWOKyorqilaKDooDSrXK+34PcGnLuOYzQFbxkOKRCS2/pCu8DEuhbub8C+31HseYUUP6Naml9XLiXOBBw36AQlCIXnRFV6Tf2+HJu0PZBjaMbjArMCHne6KgFwVWkXB57msVrAUMgEWDVS5dZvFlVyFsC5YKZXVQUtxUsMfFu6U2LtmKQUtbF18ELKTKbIyu187jaN7KNkssWsGrvlCuaNqC44HIIGKaGKGa+Nk8zjnur1vbcRpKJQ8AC1VsH/23bEM5nbLr3j11itTnhom80e5UHrloiVKe2rosrSwrg3bOCiflsfxcJmbs2iw+dHHV03vBbQR6OrbcAcmLuU0T7YhIqzyFMbxfUGcoIuYmiUqfCF1waIbdNo1T54ql/JHdbABQi3iskh9oiEPmBBo1NP6nC268m8YnsvjpvOlon1wOM05kkqbJjy0xTxiK2banifYRt+f4rSIMpVaVSUrcG1kGihH+YWyp+1ZHxJhbGtfHLSDDIUlNefw/Cg8ZysDzOYtD2R8lGVSxpCUnVsALmxyFjOiBZUsCXTjRfiuiA6VtWIDwkZfjonmG51RjAWpCbd20mdz65/JJ8q+k6Gj392XjRd1rlBOdHY/DlflobpzjhWBW2DGgHXI1mqUZMyngoa9dI5yQJD8ES43yn340sVFaoqCxwwoFS7/xCpJCu9rK1MAlNJ1PQLmaZECWARw13odLuFHbe7veRS1H41p4bBQCoz/ts1UjvDDK1M3wcwEKkWUKhDdWVs0UuR4KNxnoInolWj54zm/2RRlQY9EuvyelDJb4aqypjBUMIxk6jO8EqlWlncaClyEh6Te2gFGDRZbssgZPs7NiNOL0rGu+gf+x/ALHsMlyXzJWFmoyiXaNi2DypIeaMgzDJHIFr47XF0whQZlDhmykn87uv7ZwFLBMi4pv0rXf0rFOkh8Ir3jtgsYjQP5p8qFBW+63WebNtWWMFfQpnK5zfJF6E00se0QBX9D8JT4O9NZKomnN6SilcR2TSBB79UUUwglI8YDKOKEYlIoZia8WolNVpSDJOi0kdCH8su7VIcswrrbEy24q2hmPVl60IhUbyreX5LL1HB+YoCsgTyAnC40YyMZJoAqoIoLneLV1k4SV3+CUGh73l+h2VjMqw6HE+2v027lnFY5XU1q3qpqz4NvisrRZ89TMB4nOJF2l7PmDSDt84aFddDBQr+zGnj2t6W0g0q3S+mBCKBIzqjrxYr9oq+m4kHeiwQP99DbU1DTlBu8evo2P4824say6hqiMy4ahDBqZM6q4TyzgNa6mX6BfRuR1d0VlHOiUROPZFbHRn5s51sQt642YIONUwJ6evN2DGRZe2+DVNVpfpQ2fGtlpO1kYG3shHl6GOXl909arG7NXNkpTo7xBry1BgPumTXiX3xStcHez44GtJjSGV0GWaFlcW5wGIkqOyoWHw4ywL+lHUgEOStaulKIqUb5DFGCQNahmEkrOZhRJJJaqyPMe1VpNglJt3bOVMljRrPv3jVJCDbq8tGObLZcQjLbZmFeiJFntybSu8INb1NJoujvSudSUltYtPmPMgJYC5dhqbblIkp4CBcIMiA4k/l/0pwFk22N3jZRwfajRNczvPetDEqla1o53KSBjOfg4npumxEZozQ1oy3ftZq/hjVIsv0fTJvHiEa1bhyS6Sn3zyh5xKM3a7RxRSqllGHI3a7NNfMFXTzHn3Z7wNl6Hg6nnuzq5UOzRKTi/4ixOy1jW+fuiFQVGa3Y9rWjWjTyKavBdU/SaPlYYki9rLdV9cmVaJYX+ONCJ1JdzaqcLaOAKGbDl2JMSWvT+x2JoSufYb1CQkjFK0R4luAa1FmUgmMDS0AzhVhs6Mm7kGJDeVXx9Wc1rhvV36lFxyU1s4g2sgfDSiizbLC/GdoRP2/Binw3K1j588VGdN+26oYbFh2QrTsnBFRleEx8PF8uAZMhy9Zk6QH5dJFgv8jkuohw1Ky5zQIjVgAf23mvXxvjrPSP/xKwP20K1e2czOA68Wbb0H5N9NTzAg08vw65f2ls3dUCYdri9R24VjZAF30hZP8FVKNMqoEC3oO+nNqChpx47rAWXwp+OJd4g5I9i1T7axZzzwJZpm/p+WFRGPYmq0ppnnhbbRU6roUODGs06lyt1YquoGIdxhJvk5J7UB96aL8VP4i6Q6es/HvoJzAhIS2zq/ahnWHPFiYwpw5kLsf1AfMmOxRFHCSzODDbTXuUuVsBkjrXVUw74wUf8t5/arBiD5x4uJypNXLag+EVXy7q8/N3UP3fY7J7JPwdg2TyVaxF+AYnDJcsP3TbB39nd+CVaXiHjGOUSXlUkXRlOJZ4LkX4aoxEOtcy1kX57PbD1fwt548+OH1r4n5YUo39KvfMS+iBJB7Rk44pIfDAPmd0QriQJ+3RBAQsF8BBs1AQPPzt3NZf0IiklGxC55CQkBJS9GrNew1LhVnhxwSERq787ylve9nKmK8fREwKlJFjRquI0zvA/TmjZ3hwknm7623KFsrW1TQaNfIEd5b8Sr65x1qRlXlr0jAeTrsnt+KzaNSkJJ9cj3WDFAUEoZcSpf+YVoZd1z7DJpfBxVVNagag2mlfEnCgNmFOWbONcfZUg0Pf9M7FiUf9EfKuVyZ9xV8e0M1rdKMfGVCgGUvK8xiRrK0jTBiE3xC4vhivL0dJKsChV+iVldplQr/BmcDhRXWrjNRgWJGXSFuVm0agxq9YU6gKz/UDBaBCD4MIIX8x5cNO34CXY6GU8HYPhlln7lS8k7dhHibFjZFwxgDrd5bXrJgPO+FyKu2s0kS1JxNh1CxrsrWZIiTHKdL6EyXZ6eXdmjYZt/IJVJuFwiARiu+6KahXftLta1jo3KXKVXIYEn/b4KlxZCieqLi9Xe5WIS2TFil1f8E1wI07LJm986+G4wtzMiy2M79hMqlcmYsKuzD5jmqC/YsSlpz+XshOqF/Qx1uub2N0hLCBbVjsMIuwJ/7wpRSVHSB420av9iCb+bjzMwWC9htwECndv5QLXmzAnjH4AFya2DrzEJC9lfhS/CtM4nkxwLDFNgE2wHVHBLF6kpjDxwhmcwSDKzHHOF0QNS3jlzHv5cRFxvXrFBv/LVct69/KtzRl42gxWFaIaGo2IhBQ1CP2lCW5SI6ZxRS1OWcvwsa8KCPgrYt1nmMbVRnj5We4z+74A8/1nfAowD1A0kq1Wl62IUs0PK6jx7fp0P/XtDpr2656VpF0JWW0LXH0UvNoevvpYnLbr1bUpUbbnz2n34zz15bT5c4ZB5eHj8A+3xfKiHGtS/RokfjfYnYx74xxBu7L6grOPG77IyzeQ5dTFzrsrpFto/IpsVdT1+9CJtEEQIT+LE80qWCxI4cj+6y8XUrUYngkKu+l2aP1A89IF4yK/ih0086DlkpZNvOWS7rM5Hv/zlZN81CnTklmEbzWP3wXrxr8m6r6j4Nj24lLqSGRwAiMxEFMqvv6nJ8E6O+ZVfzG3lFFrEN2X/I87Lq+5ODahFoO8ikt5+Gv7nsL+6Ryacb2bYdNap92DHuu5G/mOPreRbjYjoLx9wzaGzywGhhsM2CK6LSMK88/F6ucrnoDigd6DiFTJCDN4k9jz9jsTUNHk8cT/GL8YnETb3BlG6HjdfeXby0dvn74fNn6JAZpcwbZbXxq+3uq89bnhO0whjSJ4LkaAnaz12Qtn4V9dXV0wJxtyEYEy82BSzzigspXWjfEpbSHyii4L/JynWqUQH6NPn7tjhu0LfOyvc9aLTv+Ffow9FHOY6ehf+A9fG0HMuRMkHwhVmF+tvwQCaCuGIwOXM/+y3E8RxDoJnra9VrmP994uVRe9iSK7BrKKGV7zHNn8pqNJm8bUgrLnJUbORiC/veD0q6+67A4YOUn4pY+l8YjworNHnPH0rBJuTaFDy/kyuTWBG8i5C+XH2fK7lwd/L8OX2S186qI6NgMinvfW65WZw7OnT9WobU+9mvlK/woW9zJPTr9xTLt3eJ1x8F5TuIKlcnIvzsQhhR7dLFln5nkk9+tiDbZpvHYxHGN6MnkFIvXPDcG5cSnGtNjZmVyZcKu8xVf8N9I8OSjrU5QOEP3afpWr9RWEf+j0kurkyzBv5NV0QEMF/4fNagqVcIVKTFlpkl7Z27zwYXMlBuGBq5oyPxgtOvT2Gv7dtSHRg9FF6mPTrcMkcskf2SWk168cdh3BcOvjmSGps11wfkC8rl8XF26Vt7T99Vpt+aP1pPxXPLx32u8tOn0FQ2Strq5usS5CFwzanXR0dQ4KDLgFSHcHADY6Y9R+8xsZqcw7bvDlFLiO3qiorwDVCnYFiOyUdtkvSUUilV51G9wlgbPYztcdEUGfM5G7wzX6BPewsMAw3+CA8CjLfTGTov6+QPEKsjqXnxAVQ+q/iaCjT1dgL7CcwDC270iIT6Lp7JHY3C1auHXLcf8XNWIZts1yBQQe87Jpfe1gFUPlZGtOfsSnhVrhtSL7jIINj+LNniz/C1vL/X+ur0hSE3SmPOPWgjgN0U7d26+KP47a52X4NKmNXD181fRyHOm0T7pwkGIaNdqOGndP0PkprRpmyAHd5Qn3FVjrXPpGe9XGskLZOhwbT11uyIqtxxme7JctM3kw37Jg2Xr3OsWNe6Ly8KhfIgisq+F+zQ0X1TTlKTL3X1kDp7IMVMnJBLO4AG5P4mD8/utd5cOlKUh6Ve7vqQPXmRFV4YptV16mFv8FhLpk8ia26r3qnqH18WExDupHXGrxOiGf8BKY/fILknWpILAeIlVX8zO9GYb6+mdBYB0tU0f6FtoOqPrX5JTlxO5E44CUiS9RI3oBZ2M52QgnrUa3pl/lRNe73vs38hzx1Y9d+sKOty9vppX8YhaAc1OlWao91cycswdxNRQDy3AbdpOzhhmGHvbGoVTS0vHtmQFG4qH3Ky+Fw+elwPLH+tuvZ5Uw5h85s+RKQ4yKNXhbhxSp+2IrA7nva2sz4vy+PwL0rz2bszbifBfMnit1TE728dxHyqpjY92A8Pedo3XZy0S9m2idROm83YLL3Km/54D/l+90H1Oxt6aG776Xtl+mwZMQmsXq3aTu3F11HWjtYveRJHIpk1imkLr66Zw7A5/rqxtxYTOTbZTC+6sntoRAhWCxJDL3r1vRogNrksp/RtmzdwU7kM6LCnEiaRiEOxklX7SgYp8kbI27kNgsxYkl7PiAtCms8zeXvMgpZrwrz4lUn+rFlIQ/dAqlzf63dv1ferpjTXHcFLmy6HUB9u8lt6X40kHao18bjyXGyODEWmf0gABqFvN7GGAWdRh2voh9mn07mTsalXIn385+EgMb0vrqEbX1J0cE7Cv8gMl3sKi9x6/Gc1HIf313inGFsSXcuX5R8OT/M2cGQUhgfUcxwDzgTs2jhr837LOcsh52/wVzs94K2yVrnis+K+tH2kuAXkdn5NdoEsfiGLGFUFkCQkg+A14DvpNyrSsI6rk9GlobMC0GE4hAmWkwyCw9A+epW6fiiif//QFNp30nlMYv98uP8x3e5hsEPo0qgyrQfNUrP1FFmQBT6R+H6uXO7ueUGeX4Rkb7XSyjvb8WsaWzrl225pD6rHPwYMPBAnvk9YCoqqkuw2wnnOGkKkOmThoSW2WqUDg07tRF5Lxi3DO8ZFVBW/mG4SO54NX19KnZNfuvtqzmFMIMpSgE6cvDmgBBEY4s2LW4JEUtUW9FIL0quj80Ufm+tSbEROjmZrkrz/1ZOPdNK9MLzLZ0oGGMvmQxfyypfkhe1T6QIwuCRyf70pduvbnn9o9e0/mUjEnqmXhQK0zndUrgXblAefPI9o3tlEDPuffnk0RmE60pxcWbrSmdsrjH35Vx0D55+Tj9+M3vx5MUonwBL1IV5xEsof66siybng3mRfeU/Psp+Dtf0G8tzjalpxSlcwTqLwp/Z6vHNBWmhb08lCbOlqx6esnY337LImJZKFY9Ue+UeYS2y6MnZTLE0nO5Cw79auE3JLM1sgCFZrMnC9fMnM1cMjI7zgS/mww/J7iw85E3KHXiY1VxZri3UDU/o+Qr6J8uW9Hd6WGGMPosGql0V3GOTKPb3gRcp4N8tFqtEF2B7VR5m0Cr2r306s1VneKd67rR/o/b+lcfpOoWfTR+Xsa68wpuuND/j73mEpwmbtkKWlcWUL2dd+URzk7z3X1c44hh+SDV6AJWT9P5F8ao1nhrtHfN3W5snWjtEdf4hCZ8MCDq8f4jM5MdxIOxhUYoIqmVlvlqEtstQk5tgNiseYfLqvGPKDK0iv7yGcyiSmLWzXz+kkl+HrsX5KlgC8+sC///Z7MKPtrTJvunv9fPlYKGRrVVLb49WtvdmiMLgryTDfrezfHxUideOlcvW7LbUohgMaYzjtIadx4NtDhT6GjnmINqmASBj+OyPJ72vi0h78bCTX1Su9+8Rm1Tm8Ph+CSWJXkTTXiSXRnUmzV8a2gEzNvcSxqOPx3sJL+wckaUNHFMHhQE1dv5Be+/iGjRSG7cmZ4f4ZG4VuWqUVhnyw4DckiltYOv7JweqBIu80XJZdg5xh4MuCFSNa0QnmiDkWALomMemMlWKedxTEfW6ID8EpePy9+d/EEipPxLSCH9mITkSwF7by/clJ/A3pI/ib0HPTMScdgpYWMvMYLXEzFjdyFj9wHxeuyCGOEiiOxg7/B38ndexsmGmdwUmzgwcT1RH0pv71PJvSbLF5ImrxFvmIIJulmiOibXWOb2P1H6ucXUYRrVWjuVCxLfsc8rlZnGHjyV+08rfdMXA56rpJaiQiFakVBzIektt21skW8bKnbQTv5NX9ojnc2j1c7bBlZmfGnABDnu0LaBb7FtjAsy0yD0rhWE3oFhHJbUXFgkRCsUaikivWno+HaAtpu8P7Y29EstJSdH74KdPz3tS+HKZgt6t2Ln+PvC18GPYHiE9sDBZ7rUKKkaEa5wmWOtc5+I+ju5SDENUePPcXU5Ii2b7sEHuiYtm3ubfGQUY5ABn+SKeJIlBpLMPQitA+Q2C/f+xASJb0Wf28R9vXRzQ21TxRIyxMJROnmB3q3ihcyg7KOMd9jqXbARsMe5/iw6+46Pms5MaZAySk63zm9iA+tbWVRwx4GbzBt4H+3KspjIxeRco08g5/c5L8OXmrX39NrbR6FkzRDSm0fX9p7mE3womW8eofeehJERYeS9p+iJqmM3buj/nEGs8bRYw5WO+bONe39va6KlL0V2nO24/effjLMjHRONo8agNFk9MDRgMrAwAOPeJzCzHxyxKK3nuOPCDPfHQy67fq9Xu6NR36rH4xoR0FxiQf5YU3TFQ30A5YAgehbGUwpxBmMh533cCpFqRR4BNAtoqXf4VZlgEIrvR/WlqXd5pBbdpOSA/v3fwitu0SIBYv4RkaJCPQHRIgGiYSHhooHgoaqbkxh4404v7+DtO2EJ/jolldE381YCUdjKpjVK8HU3+wslZ8rSXeWDxucMp09Zr03lvBpUwV+9mPb/IQTB+x7jfcsUXvZmvFDV84+kbbzCrSjB8hefyVugihlNIBQmKwjclcw3cyDyVfL9RxFJqxP08ozpzG4mfsCb+GopyROjHF0jOtHxWG/vU29qWkoAs72hwpRnDGoy9JivVZmHGYNaDAMmOLfd2mqgRXUCYhwHNSy9+KP49rVPRzAxEjEjKe1Y04bejle64B9ZkeuX23mqQNLHs37Dp8qhND/9fwVdovf62ddfW2VPcC4lfBLSJLo9Kfh7Z0gV79vmiRfdFdnN/MeL/1F3kuRXowVpLz5lb4KM6TN6Nx3sdjYq70xo3uDy3xmvS+iI8K+dkZ6gpvfl48fyU3qhgVXBrji2PNrF/sb+zOxifmLvwQHTMVbyh0GKYM5JT//4oDKMZXxdUWhOuUKJXymPTYANpgpTHeELB8c9w/xSeXzTsFjGx7slJJ2kg5F555JSfe0TyWkqvRXfyPbVtk358zX6KUkgr/qdf+JNxATkGgRNgkDmPLpb9NdhwK96S7NG20M4fKA8CgRRtYheva/O/2jjuXMXXiF2vuzAU59zeUIYfuW1VFliUWyeh3+PlHvmAeHQ9MMWoOIY76UZqAT0iOPBpgQpoOUzi8tBwc+lqO5VCeNrPmOvkFGi+fhO6pPVuOdrqQ9WgDKtxDzEGNBmGDHjVJhHGaMv2p771SUD3DHmSRRMscD8G6LvLg/00KNh5sSmpfpDlmiX7rbrOtjBF6/SFsc0YCvliBLKv5/UAFFOvJt6mMpS31glP2MCqnihaSKl0l12kwfbD4xLM5M+DeYK55UHx44xZ5iFETnTI+f6+wPqVXhtA20cKpyqw/wgwDuFUcfjLIRH1m1H+OH7WvowLFkn4VBE3tm+yERimtpr8gfZ9rTNmfyFGt20pIndbrvJgx38ncfaYhhGbOVc0azyv04iwPCnw87XHWGyd3bqVQ3XAWR5ZMyJ5H8zk0/YyYRzRIO9INcrJKyJEh8VnT10XbsK89ZFYr7Cxj15pMZ5RMcfaIm1yO8zEW/WsMKIsd8NW9QO3QFOMyrNxrBdjzblYzypu8Pa0RbZrcZ9+3d6IXyxXDc38s8l5urNR6xHa4DxPkTIcEZCPCvNGeOMymIE7feekIlFgoEaP8p5BuNdcj5r1+ycKuYpe6UyUT7keeqfUfYZ/OVGNOsL92XP3clp3ciOtssUqtLSKFtAojmzUuk/fi+NGuF0SYfl/SVbvFLfhzSzL/8r5bPElXP9ka25lvvKhTo250BQd+48tle+VtFfL8oZUI4rUX41Ichopot1s7f5E6cKZ/kiTN94/uUP1zgl8U71LP/d7IwOdEhhcKxpll1uMDUIXRfvFJrEDHHw0qy4dN7ladhbwb9eAVK5WhpT7Ok/JVj1PHY4x5vmUqAaJ05HsEiulqiDWXk9Rb5kQx/DMvRaX0/Fo1FkhNKS1EKEd1BARaCrzoVM945lx+rw6tNhaLcShtORuwLDQS9wccGx0FIk47xvP67vFzUtZHDKamZJSu3ez7BigaesNtMunEyG+hdh+S+qqo9hU1Z4VzXn0rzGKWXWdlDLpXhQH5/Y/rQt+e3C7qfdxdO0Bhqg5DM0C9Xw2EyBdr599n/E+ByhHMlQLtVPcMH/3ypwALUR6HrInrGZnxirE/L01NPozPYL6F3HeipWz5HS9QJsCOk40qwMSk4WlzDDeR098LtYXKZPvZUx4+URVXJ9dLovZgqE/p0G6faLtaIXq2uf1zZpgZTxwYdDeY4OiFWEplGzsrN0HyorWKfDm8Xkc6Y8s025QSnVk+qT/ffLQG9+fQssmvr8oefoOilIb9ROyzNxmwiYqE/HeZxvCuLj2pv6jvmMMYKQbgUMJ/EJgWH3hy5xXmF/KJuXp7joOWLV8mVqO2Rq1PIcnXVDXP8HRIAXb1jNrXc33lXwhgHiYX55FodGWqggTNNOPGtGoZPcrOOt0XgvGzhEOniK50R2ydUWoi9WKKlSID2DtnSGMAxT+1hTLBDYx3rCAoWdgL4XdVkvQJ9t0vOCQXwBBrinPc+YxGcgWd8TZxJeXOx9UW9mgeUBk7+7EF+0IeZTWG887XvGOPFsqXdKIhyuU0zMs3m7O7dKL47FR5mHDa3chjaxnS87CTufd4IXgMwJ5rIbKszD60YAtdNK1120GYZf9czYmzOIQJkJeMdVR+6vPMwq0/1h4fC2rFB9JW/4FhB4jzvK+NUeZNF1LCyocqwgy+7EwZFKWGxKeHDqdLhWgkwRaz8L1B7MfLpLu/s6Lfw6qZU0ZFdRziYHXyCV0exmwIdXvoJVAQCgDI8dQFodVAGkhQDzmxezivTJkH9O3N/fI57Ttd8bPOEt439vYfS/+vtvv2UqUo8LQh5xG1TEgwcAQpMSMobCCZ9MjgxD58wFNR7iNDzsq6N0CgS+xrfiUqZPhgIIF/1IgxUcgMJehSEPMmVlI16tIgssSIEFi8dNE1CKV7Bwli60HtNgPaYhPVyy46psmFEGhIPLlhHhP6VPhq67FgTusa9X+tdEn+njxT53v6oqoAwWnaJFtVSmNBdxgEBK6ZKhDmipwtYDUFB/KlyxhK0FpAp1yXAHQHWxHgBUU2W56B2++qdSKXzcKZAqvANBIFOudLhfvwLyxH+YBNQNpUMEOdN4lXk1aDX5So/7/SuO0pakzGKvRBgfiG0ps7T0z6K0wL7wZXOeIZXkcOdtto1UAbNjckVL1lSzqFBPuyVHezzgdGRtpSdZh+QK9qiT5rbRksjPeuYm17vWw164LUmGMv+a91gaOiZXtOSuqhRTN5+GjskVw/dzBLaOBnyheA8UU7Argz0ORq8viU5DZrzG4Gn37wzPlG9JPW4CFYXXQi6wU+1FZCoKj6HlsDJ6TWWkGL8IpaIKgCPt8Ehq5XmlDmLfN/ZMWpoJmO8JD0DzM+tVdka2bL6xWMp1cP8fITuGBx/xhGv/QgrlUguAFAeA4DuzTUWG2vzRApXWapv7hMNeBdxlwPxFoq86SqpqaA59VqE8sdDYtDC6zTSKD2a0stXjjBoci73WGRopa9QDx8F5VOc88V0KuiW91tOHhY1ihJ8Z1SIUs4TmwtG5qlj0twz8Os2AfoNyTVlTYNJzA+45Jc6ySs3wJfNdqHmBDqGLdcvm2sdNjUBvGZRNnedS4HuuCKoMbgl8dSmVTpSFLDVsny661xoQXYfhOoiXMj0cciMqoHrgSfdOSxxCKcCgORTFF+1oRIeBQeYGTWlcToMCjNiIrMO8G+uC1ueS45SCSvnf9PzHM+e73uDt0N+j4FndbPSJAoEdnYAXsIToIYCjli4bwOKFha+UlzJnabZMe14Fg0SFS4McBTwc5GmzsaKVHRQx1YFBMfXlHG4BLZ0DI0OmXFmSJUpCpEhTLC0bGjFgKBQR3QDxMUyXIV2qUeJES0OoJchlEHLheNmIcmUu0MQmjSY0iYd6YmWYiCSFFjIep8lKk0jkIx4BawoijWtwJ3dAiXsCj79eWIOXHLkSw6rSrb4ij7o8A/WxTUSSKloWsXuiyIoilhn0NILk62kG9Fih1kKJECaIRrJRhiTJlE1GptTgFiy6urIu35SBTTjzaj6ulOPeulqVbgg8yWGYyYo++ASxg0UzxSfQI0lTLc1oPm0ifV6cuONFO9dwDtlKL4C+sV34nc+bjpSMHHLJI58CCikiYx9ZcvY74KBDDpOn4IijjjlOkRJlKlSpUadBkxZtOhB06dGPnb8djJkwZcacBUtWrNmwZcceEgoahgNHTpy5wHLlxp0HT15wvPnw5cdfgEBBgoUIFSZchEhRouPjjJPKXMb2RrnTqpzXqyN+Nj1VipmAYnYSYt0VfyTMsT4/fPdTm0E3XDMkRqxacW6Jd91Nt61YteatBOvuuGtYos/qPHTfA0ne++AUvGQp0qRK1yLDCZmyEJAQkWV7J0eeXBT5qKa1KlSgSLE9H814ZMSox154Ysy4SVOWTeDgouk3Z96lRNj2KdFkcT7ZIJhmK5Tq0BFtpBlrprYl/38VR+J6C8SEX6MEScnpRAAAAA==) format('woff2');
unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}


@font-face {
font-family: Cousine;
font-style: normal;
font-weight: 400;
src: url(data:font/woff2;base64,d09GMgABAAAAAB1EAA4AAAAANoQAABztAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGi4bEBwaBmAAgVgREArRaMAtC4JCAAE2AiQDhBoEIAWDUAeKXxuPK2WGHGwcgOmxHUvw/58S6BjjqDtYVA5GiyhB6bBxlQMpMWkD0e24JC5XOdrPe+/IvQkCq+Tfgpc5eHQERYmPw97tsKsTCNZmw2Rz4H/aCElmD2Bu3YoMiSwZICOiBYHREjWiY4wsBQkxCEGk0iieFxUVRIxGJYIunf1PpxAEK6V7CEIa0KqVLfiYv83lOtcLJ1AzbZlJ/9AKi7Pcm/NzRg7OGNYFohMA3PqeDMkSBUoQRxdngdJ/KyJIVmAJoaLb7M/de4QhlQQemEXW3bffgkRoNDzhHZK4DX/n2zp6/vqFcocI4jWDzlG9424dYYqc2cB10w16pvIxmibSOWSprg95gqhtTTd1h+d4jCC7qRiy//9cnzb3v9wFTgFJqO0KtcZUVZjkvQzcl7nTOS+Zhcx8gvxf/AhTmgJ6IEe6cgHQFZBsHQppUK0rCSkra9uQMJdb/wQzvcxvA/j7MfUfmrFMB6F46gWPoYDiaPvnOBcgAIAGYCgSMACAAoQljDhcIOSIAN4J1CRrEdUp6BjE6zwH7IAIeLwjgQIedaLQ35ThjsIQWwkgePjvG+WFX8U0wAirvBBaKMUA0mQvqcXR0gpwdbT/0Id/CkDWu/xvQEx/3wHQ2K4BAPyABgAEoIxw0LD6bPACA6CADnUwxQKLrLDOVrsccsxp77nuPxoCUNEmmJXbkRIrrbfdbocdd8YFN3PmrMkbz1rOmg01CjRAXanqjKT0VG58woAmBFNYwgp8FU/+XVx1nUSMOBESJEnhokiJMhXctOEUBPAy1xHCD29uIUKQqxgERw3xVUtRAe6QTTwejJ6MDzz5knP/AQASanEHKlkloZ85yFGCTAEo7VUuRKH4jDglquERufMLmaWzDDyD7DP/ySR5hZp+rrg003KfxkwbdNOeVAszM7KKFKcUfh4T2PTo3JIdqVI8O7kDDSmhdOkTQOQoxAxNmVIFbLT5JsvXjiFm6mDFMw/aIB2graYk8sbcCOHlrfsPMcdJdnRgTjNvegnLXEFd8gsTfFztInsDp27j413WzW7e+/B89rEZq2DuEcU2Lm1JGRFZbS6HpXm+CDyHhXJY9OZ7rf2bfkqKs/4RMvWaKt9KSXkzArQ0ZtmgoCB4psG/Bt7QdleMmWwSjdy127kHe0MWBeGIjyH4IgBfhBCW/RIpLgVlzvqq3ZoHs9Cru2FHiu1O3MetLKwOkkTLlJpvxY2KLGu8G026z+Ys7BvYNGYF2mc2uWIn4W5n7mHala52V4nE6ztVudaUSqS84TY5cEOJh1bVqO7i/qC63GpTp0XdDt9XonKH213ef78oH0PohfObDE3U+mYNYEzK6ltCOMlyExcXomylaF0MYmRQK0Yrz+DMKdM4HVQm9dU+TLXJgpBhHxW0nVxl+b3WPjJM3FyM6UFwRKfIpUeWuwl6NjfBRXwrZDHXUBTYa2NEhnRG0Q36ueFYbqxaKvXbEtuE9UiacUTvFUfdqafSuaAGYzHWxBr68VJzMwCtGIl9mizDAG6ziHREATswWBwqOMyw+xmpbal2lXu8ChSDMXIQl+wYHlllN3cCvmy5glvKmRJ4AXfVWq0YSUFOMXH69G5NMBaWlZixtFci1I5wWW5YnUtdXtJeHqBX42yGlOPE4aWw7AYXeLk+THVzy9z53Lu9reEuASNpOYKL1mJXUEQdPIyKSStN7e1VNs6oOIP+A1q3wn4R709Dg5Y9CrUKFk/rvuqVqTCjul9jvO/O2aZmLYUlIQQObZigZNEPcZUrXiOFjzKiIIhMmy40juceFWxxTMYjlKN7AUhjOlVC86cXeu4Oc2tV+1Fz6OO2yz2dkk36y3MTRUVWNPHrpcO48JE1L0dNCUPYunOU1fFWp6g6OIoffPLZiO/Fzp8Ld+/YVG84ne2Px2rDKA0mk7s8I0qi/lqli54qir8Ir45frr95E2U077HiKC1b1FBcyknGmivXWSeDiYlbxVlC5SNJfc6M7xezmT2w3nTZBE+QhAFsfcII9FYwp6TyEWq3Z0FQdeDVykualhDm7seoDSNw98WvOb3l/xzBU4/1/lbpY7jklavEPonZjG9rkWqGcnxC/Hv54Y0utzK6zdptmOvwDAqRmwnrbBdF7cTEjEElCUYf9kuWOCun5M9z4BhYlZKdIh8I99kgxjfam5ntG6M2aBlM1MoJOR3x1PuUVpvc1Uw0DabVpPIu3p1eALP25rr6jsHzIs3FDgszFrcFQg2KuGLtrbmJqlpH+atM58EHhMh507AQUmq9lAY41vqZJCpHCvZu8hxTpTLd5UjiBkX5KNO4nJ6IN+PYR1Oa95jib3uBQzds8F6OCW5y9E3ytb8I/zijlXBHLrdW7Q9kjA3zzc26EsqGzox9LUbcdDeq506d7nO+wt0ZyQOVp0cATNeJFYQxfmhx1dE6sYfvUi1SylUqZcoSASZpI4BNTr/6roFfMel3O09QNvjOg7xaaU7IGkQ/Dr7johvRAztFkBImoIYQlO+CgIpWbSZTZ0S/qLZ2aanlSdGvvzIOflfbTd+lWjTfxy7PCdSKnQti6y/u2Li8iJdIusuHMW0bqzyVceQuWYs9HjVZlGzbl22Ik3POxl/e3sg6Vtcmi7hg4K460mqYSvmkDetQ9mMkDS2o/zgn5omuMmdULqfSUvmSsCutRK706Br4jRB+kNsZKKlh2Y6yWqblrHD9TpDzYayG0WxSutxATOqiEU3oQRTe+XieKdqoW+Lkq2LMcKvfeOQul8i+KGmp4041QElwg62E25Ue7gLWVNp1U8NInlX46OC0DbOw23zrr0/zJ19cHqcMil7p3vPm3ZWy8gS4cqhMG+Dj7OZ7eZJHmskIHbzKc2o5gytuZbsiSM99kp4M0esWW2YLWqIsFV99Nja3SpXL+HnsFCpUjaAex8oCpzex/5zNKLeyCLnqSnI8ZyGQ8CJEeh3q7Gztu1+5uxCbmxq3m+ixz4rcLVMiItrfXSgoTYZBBX+Fl5NEubxgsF5O6DU4PIX1OTSvRmpuXU0WlpOkR30DLzSYyCbTqtp4vS6w4AIhIZfHbaXYP9/U5dbjWowMSU/7XKMhqXl/J1JPkCdpwXAMcCp1JAV8KPrxl4NtNKGnmlK1Gqjyk5Xyku/yvTJ4zOdgIKo/Nq6/U9O1MfAZjBFJo4wLXx4BxoB0apRQ2p7I3sU4Psz44nKNa+1/Lf9LW6dEDscOne1RXe2IA/Uexj6GId/2vPNlTbiqKEtyzkC7YXa7FMtunHA4KcO/vwMBbYAxqCU96iIRSWsIElwOowqbnjVNq1Kp8qsBmk4DNZImrSZp1xOOXie39dwHHnyrRsv/3zWE7Sih1ycXqYPEa6/x2reP5XeO8Vh8QUn7tLRVv594oy87zOEiVTjx9v9mh+rzZwXR99sG97nD9wTQkYylGZ4DJZ5PQ+9eG4rLP36+fJ1sUJf+fBeuiw6squdZ6RqZ69sr2cDg83ByzNyzkHIOJIlncfUEuTt956/xN+a/1X3lIG3f2zvVe4ukTAJRvL45rF3LfDqzRtCM1lyzLvoNXIM5I+PbxgdnawTvKO81yMSWKglzviXNFioJ83pBOg8dQuDL+NEVrsppWnrX1ICYpoq5p3sVq43BxYEMwZPUNJdiSHPO8V//8YEyjvvWf1sbVu0cM0XVAolp+Zmx87UlZgtbM4szoF/By/iL//2bb0J0bGfsb768Z73N8TBvp76h9OHOdumTsubi+yBTNTfRPiEz0TkBBp9G06LuPQmt4fjr2PfDEe0HxPPplZz2qo5vuL/1XUQ4nyH4In4mszb7yd797Pnq7PglNnOFAKJH8r07DDyqed/sr2PUmrrHgJww2q2DcoNmvAeUSLp9/TOoxIFoRQRz29mC2NcPMookHo89lih8mB77Jv8ZBr3POzA2wLNPhrqz39ExXIeZoKlsm1Eqa21rm66kmaCo7rgKap7vI+HL2gwzO/cjjq2Ua9nScchzMQpRtxUC7RTJvdDNWCVZv+tJgiU4Dfm9iMWsuI7XHHPc27U7sXlxi6Ce/tBRrdI63sv3Om7hQ31712xZZct1RjRLPbnG+dTk0CaN/oA9aoZXr2kpXk5+5Hhvc8Eo47gUgiOCp+y0zQPwVp5fvBoePG2vDSZWx1Ahg2iyc72zDxvuVm076HqnOskalukFpsXYmzpPOb3PhQVvX7fMi6DndfQRTfvq9B87OaWU8Dm5koZKDNouWW/7dvSXxA2XmxsPFholaxtngIN5wLaS7WJNYhCD8mZJzEBu0nkrykzfCNrzaTExaUtgUqHC+Ev8hKa2pfYN1Wcumle7ktP8LLnxXDkHgy1K9PpzjU+rW8YFe75Ou+7ZVAsY4WigIuR9plfRKHaU8wnHzvjmWgB8aB/+K+YZHRawFJoX6eMD/ipvhkro1sqDqhgnSicuTZRPwNWwnqh0elRv1hlWQbVtK28bG9829jpb+u781XnJ9KNBibdN/L7rAZMR/UoHrtbXg0p2kbSxn+ga+2fyYeNpVVXzyePJ2LNEt/0N0qKsB1WtTwdudTiZ8aBS0gXnNaQp59kd/cKrfK1S5O6UxIUJ2TjRV8rM7bSKGUKRMLvEfJAjVyqUozzD68CCylniqza4B5SjvaRaEtZsYppEyYwiNhKhHTAGuQb8C91L2QvBbRzCFM9aD0kMS01Jbz+GkICjGLvy4tzpcOvYeOndLCX5Bnml7JKFkbHW4dODc8vYYhAluH7l1WOeHDRuuxxNJb1IOtjP9konH9jvP+zo6T16NphBluW1f0BalI6magseNL7NwqsLhhHV945fPLue406GiXCWGAXMwPuDpy/mN8e7/uw5VnL3rlBjvePCQivTiN3yvzrkbYpr63NL1xrnS2qoGsqB/guWrmzDZEXBXqVY5Gieyx6jPyYkOs0+rf2JJ1oOYhIsI70j2RK56wSrjAy9cb62RclqoXw23ErZJtcEBwUnPNxK3SctnoZokBlhHNZLBAuoP/HZ5TKAqk6vZ15AZlRS02hD1KjdpEsfmkscYYkKWP042HtzNgH0vJ8nf4h6uf8uKfpk68NeOA/+bWkmA5pXCM2cxkWJflySToXhFEJzJlFBrkuYlY99qE+ge2xK4chw59CMlXbJZxBSmnc4UsbXKPJKCWZ2e9ELm+HV7DKwDZyjhKl1HFG2JorHRS0ZLtyChh7AHIxdKQgqiE0rH2yLGpU3EzSQ4lhIxzHLu3m4o/GowDt39ILFX70EPbzlyM6NO/t9HB3YSZaRlqqJPMv2XPmQYSVPmPKKjpt6mdLCihyiulsSHVSW2shBMfSPPUr28pC8z+M8ve4GnzJk/uJRnSmzCvMN4YznqRQiaOm6G3ra70OpFmNQz9MrMO7uVAQGuuiTTxKzl5twehZoDe3e0ZOvH6P7JQdlyTQzHVt9x2Xk+VpYo05Tx9TCHZBC3anpY3tkqxlUYF0vkxYngtfAuehLCwXLWir4lAoqBkol8d2WGwq170kbyj//glgZMWGhZRIeEZkE+roavD/ljw4ePfyvdqxRlL6u8MHbDGNFcYvbygR1Zog8Caq5zYNXn3TEBrmHKfGtC2QEmLgmhtg3tIqKcN4qnuDSk5iCkYgWRFLlQE5z1ueN3WNEdUv1EcL5in3Oas3pTyhvRi+3wPgM0W3MxMh0c2rW79iTgze7ge+67uGPVv4Sn8wKtlg0W1xWOb64je/n63FdEj9vtieH3+HCpOmWkZnreP1ZM2jhB9rMJfSV+cSY08yZdaN8w3OWoo3d9ChuixLFF35aW6cnqvvcL0n5x7pQOP3YMD8qToh5J5TqsPGI4otaBXEfvO2hrIugrtjL2I4a8CdlCId341Is7diH7TgDyS2roppwaqUd+b5DfQygzyTGQC75eexwkKtqmlZw7rla39Pyu00z4sfTPbFxySXxDdD2EG+fW2dC/SxUyOzI2GGeZUFBjTSRtn1hwX8pgtksnDVg3XxmwmcjkEv/Mof3Cmj9FjBkp8OE3xQtqavIAvqqfpYQmg2ePRQM57J3KcuopGhqnbaastW4a9DzD0/X1j+9eDLwoiZYSyDxTyii9XpuQuR4VnVvqnpFZV1WbjmprKy4Oi+/vG6tU81Tw27YoZRg2dAHRpE/vfayQt9M18jRKLBdVBsU0sQqXJJnKwpUsXL393ZWDN5O9ouKujbGhv6NJHfs8D0kr2d+f0z9ykjf3XVRNL/XX1jK/BOzvpR4nAGGrK463hJlrulduqJSZrZOfAuKPxKuLXmrOAdAZmGTC5MVnTTfpPxspa5eUKBCs6cSCoKq2ih/n4RtJinaqbcQqH0mDPDjFAmtxpYDjV7NXiTrQVDF8wlG8VG+two8jOVJFqjTYTJLiq8dI6gwChnrCKK4aEOr46KmD2MludnFT3G61K0DKmpqejY+3rSeVV1FyqwCOkDeQ1rmfeCp2v3f0lHuAX5BoJHWx3bK95b7NExyLfB+XJmsgvPbEucsZwMtamGFclJ9+dbjL60S1x7LAc3Xn73Ml853bXr93ThRQkNyQMvg/NRC6+RV7OPpaVBJi5V84Cp0mamevdfKL0alP5IRxfPx2nEPX/00Lb1LSiChuXJhL0Q1CW9YIujI+CyOz0NL3ceW+Kr1nd81HpWeeMl6bpOsTBNgZ+k96YDQsa0TnrXL+wB02gfceaUsm24Ut44C5gUjGERbCldemK3yuRCswXdFqPmzfUZO6zCBl4nFJ8v9Q8NBVanvMl+S9ttBB2bLVTH+JuChlGuQsUJ+WiyPCqPj60MwEDxj/j17WPhOgXlu9tDuHRjpbPqoXLHFq9YuGu7N+DFcF2j5q5m4xcqYLBGywayZuMlqktCID/Bu97OIjgz2L/8vruIGzztiK+i0BD2TQdxRUeV8ty5Vjh8wKEm+KR1jGJ44YVgaNrpF7tbXb98wN7kKCqcseVpdfGbRrhZ1+btPe9vrGy7kW5vopOeOtXVWaOYYV3O1tx3O2T4eDajXrtQuTSTdVEJp54FUFfYKUT5BB2c53XGpV+zl3oOX3IV8xKyCtkyEoLOPhYGz4yUmPFIsMNTFIca3f2urp9ru6pp390SBqE9Rpv6kVE1eW7JFt6yeZOnq4QPF3unQs3Lw+fGTqdMBIz/R+0CQUHO9ZpU7M3p1TU2cw/hfd5UWoYosUjY0SMmzuH+w9vsoYAyglemsvkQgyNw0R3y98nnVYXFZuctQw//J+tNdsVjY8OBEVnLejL107L3HuhQIjlr1pFopWQgaJ7oZRekklr+m/85/YuzPYyE4yaNrVucbHe/u4KHgruAo0Fqi4uDh8dAnNLc6PN4luPC2XkJOarm1obKRqs5I2w2BYBFwCbZRTPFwbzFpEdGnT+HzVsCaad7nopHeHeeX7T+uffz/yc1BL/vSMa8rIgMi6Vom7sYRPUlttswmQrb9agqB3vOc777+1Aug76n61uTrdzN/a/O/dqL6EprjH4kkCAJ2vqaVMB+I/6duh5PAaCVKYPfLLctV9hMlZFglOB9PuQR6E+Y7Lka5SkUaThtOi/gTfLk7vj54bwT+lcHIZzRRQ+all9Tc/EOROl6a5sLucbI9FYWYwq7yeEV9gpAmzovJP1TNrfSSuXccQShYre98n8kLMPSmRdHxfPpnT0H2rzrXLKux8SnqVikMwXG5K29/IhcQs+U3Ojuqb94hnm+puwsGCgm3YPvVyZnQOSpVOhwlEZ1cI0I2Q95pZTLYtETaaamqLkqNTQ1pNO47zIk85/tsZQwMPpvqMuEqeB/yZBADJqcmA+ozeB5W8DLhdBnUPY+mjrzPgz7+SvYkE57bV0vSpJKdv6iJCc/ly5c9dk2G+CPWZyTd86MKeVTrLZu8H0e07ExfWT+Ht5trWWByLrYMGg/V5Qhp25O5NDuoWFKUZl/XigvSJfHMK9iUPcm519hcvPRwM3+7rr1wGdQOXh3ToeGv6MvtoieFNYMNqVmpDkKPobrwcUnVYDfc9bbKrpInRc+Oj6nIEL/F9h9DfdmhUM5PobJXnt1+H7Pvs389HPD6LjICHcm4c6OeCX8d02CUTATMwa+FNOUeujzWJpkKYD5gVyeX/rHFdyu0WU/b9KVK1s7V7hztTMhNmP31P/1W0ZPSaKqZ7gfEw6KU6IlNLVX9bgtnQsjMm8orNHLUx1v7dDTdGxgdmHmNRUKdOi7C+pvIDVU/UhQZAJCD6F/Rf32Asym9Zv/5ch/qVMh8ekNLzLBxQzIQ+wxIMit3glxQChZBJagFjaAVdIJeMAhGwWyYgJ6gTtgBiYgQmQUT8GbJSGvCc/yiGuuFrWwb4I24Uq75KISBLQ2dy/4yk1WzqbFda1hsdy1D6dSAqAITSrh44H+UmiOkLPDnBKs4J3wEh+AUFIEviqBI0HABycy274x/u16P/Dza+cf/BR2eCqD2jxkAFOkFAOjVNpwNa83NBKHTxEP+HaMH2pVqqnXfOnDHgDZOY+ANJpyZgyQsIwJWIL3aDHZ+v3KM9mtXuMTmuCDMPXm+Fy8yD7lXKH0/Ketv7CqBzqkjrVNxKJoeQXuiv3U4psS3sDJwrUlZwuxEj5U8Xc8roAL1mz79m2Rz0v8mAhjt7irAN/RyyGCPg9X6Hec7lhDwDPUrm0M38qALERQTk5OFixXFUPj26JQlCABAqHayzs8GF71mQ8GOAQAs6iV0A4D7UqtLZyJ/6jEf7RgASkB8NkeBrDdsAECvpWb8SlDFlEfZkN5EKgCmn87MKXuKqY0gAtt4mcd09ANzFmZgAhk5AivGCgo3eL8uU2BBOFyFi1ANinxMxXo6M2oWzJwNgCqEqDjrOUPGNDya4HI1FW3OpcHt4tsLNgEUQIOXGafTxBFopwECFZ6Qcy0EjiGSSWbBNGRYjUWGMAALztUquJyRgwqfowlOupA1gH839Uz4CYTgVBbLAwSgBxJxUAU/SxH9hrMIyv83CdHusYCDAKFKtOEFVz6ogAvuEuVuQkZAEFNNkm68QrkwMeMkQjuFMgKZkNn9lggy5oYMkMAAcnARoG7ICAWKKcBPMAbtGUA02J+JADqIBiRmnIkCRSg7Ew28MHsmBthhn8hi/LEyOiWS8UcfMjSocz+Bs7BzoFweiUcxDwIM5Nxh4vDiiSJ5CoVlMlKMyGiP6IZjA9JDscA4hUwISq6MfLkm8aVdYAgYie1AMMnKUAUaLPR09e3l691Oel8JtKgwTUkLpijkw2puBrYy+IYKkyOnRCxlEsTYOSGUYRCUPQkjV87tkoBcvbmGkoqukYqbSPYMkR5dmXZkzyt//8LSTQrxEiZClDgp0ijKzYfcStRo0KTFUMfQr19OMFXTDdOyHZfb4/X5ARCCERTD0xMOgqRohuV4QZRkcoVSleZIqjVand5gNJktVpvdkdqoO11uj9fnV1BUUlZRzV+M1DU0tbR1dPX0DQyNjE1MzcwtLK2sbWzt7B0cnZyBCwOBTBabw0UxnCAp2tXN3cPTy5t3Hz5t+eXbT68d9r3GmPRfzftkxhc4Bvic08EK2Dtv5wGTHbNZfi37Oauhtz4fMPXfDohbc/iiwu+49XMNRY/zDWfs/yQ/JTS20Ki6Rr5yUkVZV5S01jSoIPS9LznNHVn1pFLWJqJ+LGZmOFWRgBbfaQ6VEUudPNLiLvdC678TsXXZPuxNV7OOZl3N5qiUjmR95ENyYqSpNWZF4FvyEpl5X86+oZiTUmnxvexBz8vBNJiG91PqJtSLWnx5rIHREUY8N/K2Vj1iBOogLNu23Oz9smmBi2uWlLWVTx/gZDEDarf7eMwXodmj+QVq5fLpdITS7kyagskfnmc/orTIDXm5RmNzR2Cz19yTMGPBioENOw6c+ODCjS8exJahgSAIgiAIgiAIgiAIiqIoiqIoiqIoiqJocWyG75JzBUN8/x8AAA==) format('woff2');
unicode-range: U+0370-03FF;
}
html {
font-size: 100%;
-webkit-text-size-adjust: 100%;
-ms-text-size-adjust: 100%;
}
body {
color: #222;
font-family: 'Hiragino Kaku Gothic ProN W3', 'Hiragino Sans', arial;
font-size: 16px;
line-height: 1.7;
padding: 1em;
margin: auto;
max-width: 42em;
background: #fefefe;
}
a {
text-decoration: none;
color: #1a73e8;
}
a:visited {
color: #7759ae;
}
#TOC a {
color: #1a73e8;
}
p {
margin: 1em 0;
}
img {
max-width: 100%;
}
h1, h2, h3, h4, h5, h6 {
color: #000;
line-height: 125%;
margin-top: 2em;
font-weight: normal;
}
h4, h5, h6 {
font-weight: bold;
}
h1 { font-size: 2.5em; }
h2 { font-size: 2.0em; }
h3 { font-size: 1.5em; }
h4 { font-size: 1.2em; }
blockquote {
color: #666666;
margin: 0;
padding-left: 3em;
border-left: 0.5em #EEE solid;
}
hr {
height: 4.5em;
border: none;
border-bottom: 1px solid black;
}
pre, code, kbd, samp {
color: #000;
font-family: 'Oxygen Mono', Cousine, courier;
}
pre {
white-space: pre;
padding: 1em;
font-size: 15px;
border: 1px solid lightgray;
line-height: 1.5;
}
b, strong {
font-weight: bold;
}
dfn {
font-style: italic;
}
ins {
background: #ff9;
color: #000;
text-decoration: none;
}
mark {
background: #ff0;
color: #000;
font-style: italic;
font-weight: bold;
}
sub, sup {
font-size: 75%;
line-height: 0;
position: relative;
vertical-align: baseline;
}
sup {
top: -0.5em;
}
sub {
bottom: -0.25em;
}
ul, ol {
margin: 1em 0;
padding: 0 0 0 2em;
}
li {
margin-bottom: .4em;
}
li:last-child {
margin-bottom: 0;
}
ul ul, ol ol {
margin: .3em 0;
}
dl {
margin-bottom: 1em;
}
dt {
font-weight: bold;
margin-bottom: .8em;
}
dd {
margin: 0 0 .8em 2em;
}
dd:last-child {
margin-bottom: 0;
}
img {
border: 0;
-ms-interpolation-mode: bicubic;
vertical-align: middle;
}
figure {
display: block;
text-align: center;
margin: 3em 0;
}
figure img {
border: none;
margin: 0 auto;
}
figcaption {
font-size: .9em;
margin: 1em 0 .8em;
}
table {
margin-bottom: 2em;
border-bottom: 1px solid #ddd;
border-right: 1px solid #ddd;
border-spacing: 0;
border-collapse: collapse;
}
table th {
padding: .2em 1em;
background-color: #eee;
border-top: 1px solid #ddd;
border-left: 1px solid #ddd;
}
table td {
padding: .2em 1em;
border-top: 1px solid #ddd;
border-left: 1px solid #ddd;
vertical-align: top;
}
.author, .date {
font-size: 1.2em;
text-align: center;
}
.center {
display: block;
text-align: center;
}
.note, .ref {
background: #fafafa;
border: 1px solid #e0e0e0;
border-radius: 1em;
padding: .5em 1em;
margin-top: 3em;
}
.note p:first-child {
font-weight: bold;
}
.note {
overflow-y: auto;
}
pre {
overflow-y: auto;
}
pre code {
white-space: pre;
font-size: 15px;
}
a > code {
color: inherit;
}
.sourceCode {
overflow: inherit;
}
code span.co {
font-style: normal;
}
.fig {
border: none;
display: block;
margin: 3em auto;
}
.invisible {
display: none;
}
.stack table td:nth-child(2) {
border: 1px solid white;
border-left: 1px solid #ddd;
}
</style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
  <link href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAW9klEQVR42u1dXXIcxw3mEXKD+AbxYySlyjpBojeTfohOIMUH0N8BrNBP2aVLIn0AScx7JDIH0FJ+T0jmALb3BBYz6Aa60T39A/TM/nKnaktlmsvdGaDx8wH4sLe3u3bXtl5fPjj53Z2DH766u3/03L8mj+Fnu6ezzUL/ZvrXuwfTT/cOpjfF1/7kHfzu7qltyQXCvLc/vQLh3t2fXndK8P0f9yf3737z6vf0O3/6evqHOwdHD+D/db83t4owvZIqgn3/D1/xF/xs9/RXfOo7QZ5ZwU8uNCb+3sHRQ1AWVJpZLEyyKGAtyhZl8munVMc797LkCwQGDx+EcOfr6d9a/w4oAlkE40I6qwECJQEbi7I/PYHPAKvCX/Az+H/0flCknSIsV/jzMcywEXpnQfjJNkIXCtNaIq9InQK93Emp1Z9Hfpb78UUI3yhAlyGQNbECnLxpdUmd8E8p0IT/3klUIHBjcjGIy0fu0/Pu30Mws2MJ35xc9PFgAaxyTQ/xv18331PnGtCKvN9JuCB4LvTu1P27e+gvwJQ6HwtRe/cz42f3pz/xwMsoQ2Qd1G7EZQ5HzwOLgDHAICWAAHLnDjJmsnuwFGCBwCWmkj3QU2dm7etMG3jZv2XdSO69pARD8AIXTO7/4887yTvhGxN+c2d/8nepj7RBVpdudWY6DNyOnrucXqgITpG6v1X7/M4qfTDftTGyR2W/gO9+6+OBQPjKU9WZ6lfwvpTft3/XKwKcutzD1gjfxwjgJtoFaFzdzhWY0/SmRfhdLPAFBoGvBAp24mKEyOxqhd8XYFtmAEoLwSDFGvx1a9BEEAamRk/177WnHxRBnFVQTo+pWKvw/XeYPJX68rtfT/9iMgmbtdzIXqCwW1qfSPnvsU9/UhG6GIPw/iHCZ4qYdQVG6Cad9FgCZC1QdyAE0cYT/v0Qw6TQRHxWj7fo9NvT06Ld2tOfBngI2Rv2UMkVkBUDAVrMwAl9btHDowdZJak8B3gvWQ6Il4akueujAAeTS9D+ZssxBJVD0IhcwtBArBPOW3ItHr+YnoLgpFZEcj8IJM3h/jc6RpBofS1da03BKOgkv83BnRZXgBbgzJ32zrxrT2j3nb6D90s+H1HJm41WAjTh8zbz3UXO3YkZZPqjoBPTRWNepUpgTL0/8XMy0S1uiQ4E/KsInsESXG4cjmBPDPjHzgVE6Y9Lg7pTnir4UPAHJ6Yl7ULX8aGMBZSVAHsNnvkY4ug5/Ax/Pm8JTK1L1N3XxuAIhMyJWrKqBR+Eir/54csGy2H8fumE1pTAnDzKHgB6jhSUTHmTFTCYwOTjMoPhZeT4Z3H6QwETpDqFNM8UfajgAwWhSCGuwHfLTaY8X08pQVgdnF7n4o8h6Skpz7LS4YWeeN+OBV0z3elnJ6X72RPtjXIzCX87VIgyWOKCpk7xtIGm6eTxBaJedbB0KluD29LByH/e5Nf18O+smpZ7WK1BHDwYHijZFm8oC0dgSWcZeHSMcOtcayYjrOBCGnGTb26Atu+3vE8bQC5Y+PZhldIgEEhLQwRZjpwgsbP3lOXhn3x5WQf2IE4/YwrwWvldZ/BqCgS7+9TjIm2B8dj+3vjmWloCgU6jAogsh7EMFka9ZnHDM2m6xK2YDfps/KCJtluxiub4wSrcarqMbCBiMX2JmWytoFlfL384THCfWLdQURFAyCkrpm0CoVMp+b7wOdTnCKkxHJC4/zGVEo8Rd4wJ6txIfWSLmfP5//SRMjp+6/yyq8L1FSGI8jN9AwQbS+/TIo42ODPDI9BaDoATfI6qIthLia/g/Sa47vw+QttPVqIA/kHLy7ktCkCBjjRCzuXH2O/XUwTXkFKYI3BAT6UJxJzowuCInVCCPscuvTVp7uSFT3vhe0wu4zkDnxJ3L4hzgj5Icy+XFh9ZcpGoBYjobvKzWgFQwyV+XJIbhxbBQrkS804pJfe3RoE6Bc10MM/tz2xDqwwMqp9k+EynGFB74PEOpMTLGkLBit4b3Xv0bdFYwJmPqZR8gojwBYl5Z/WEnimnDmYSNncDGkVvzZC6f//p5xsn7xZqEQCO1fjlIWmg9D1SZIwifTg5NuULmkiTgSJOCT3mkDYNnObKvlpwZ6gCOIuExS24x4V1E2n98hAFkEbUktOfawPD2b9TNx3cmVHWNnYWzgROXkiaQrU5+hgKECnsxdA5hlH8cio6pvTHnCpbLDo2JhUiXNEsv42G3ctN7uSVS9IDiEjenAWK7qRzFyFtCsXA7uMiFaCUBo4xzDL4y1KghE2R2VEv40P5y5y0yY+u+kaRMBaI/O8FoE8mbfKdwZX28LP4b+SCKkmRSXNQWvP5mlV1SjBm6bimADRPF5/mTmD/wyDlR3AftcCLMPKSq+FtYvD3fFMlpk3ev98EUDFUFI0F6gI7TiSBBSxroZxyPcsEhcUBj7iGMUYWkALJqpaIwKyxMoSc3zHNEvyUQxmYRcaaByJVgBL06lM3SxRBc4X9XNo3iXKl5JO9qYZM9/cLApDGAS3xkQPJKqk1G2a5HD0GcJO8TOi52T4XGAmxAFYEul9KR1N1AtcFxHy+7+hx/v1zlA4Ofhmr5+OZYw7xlixeU4akCMbdQRkjM6APZqdd3BBpf1eGH9RcDWuNepSqURDC52DYirB5bNF3HSZ1/IX16b+gFxtBO3Xvz1iZGNIFgdCkUANGomokkXYg1yteNGCBtX9NNoDtT5djKAAFTvD5DnMv8QpgZxIIDdwBnJzSd0+ibQw8ovfG8wHJw3Jw9K2PTXLBKyiWHQ8T+v+PmtKzpgM5i3XzWnlj+fKJFEIuKYBH8+iVOGWsr3BoAGROaQ969YxirN3tC00xi4JW75LCfkgTqCYsq9T/j4HfxPDp3Fa35Cd5QGQcoFzuhHPqFkbYRMpJD5K4BsbGQUgZom6k0xwWUTssHFnl3U5c2bDJxSkD/K62SbZFaaKAysKnJBx40C1dqeJ6OSpAXLzBqtgVD/54G1epLW1cSLxPJJXqQqp1/ZayHePawEKwmMIqQ6fsDe11agVIRdND6gG1OCDF7smJHkOzatMrinBzLduLvDDFOmeWxxFOgiLYVLIcrNFprh0m12bvLIMta2vuV6UACLJc5horMbf8qFaAxA3H6STi7hepB8fef1/Ssr2MyyNuk59dOdhnD7OSgLXRvDP//JAAsCXLwuQKQG1SBc6cRy3DGmQ9IGrmSJyfprWflwsCQek4Xj8mPdwYSkCNGnHvQY4CB1PAmfwUw2SV/X0MzE8kPZAqqy0pr2r63xKo4U0NPEopgPtMjtevEYlC4I4wFnBpYqYtTTPxnGs9DyqamVKwKgugHLtmVjWdQTHlai0biBWA07i5Vqg1nI/zSuDrBNSnyNvSKEZQoaPYIFOqaLLA9CyI2zQ4gLQTV9IbmODaPZGMiXMFiKL8m1aGkWUrAY2Z2aDQpoiJRlXRqdT0YQaNIXiIxcCRfmQZQJDJr7EV6E/TdoJngQp/KOU0EJsso3Rw3WfkiVKO+gLie+Xs5JI2Lm0fJkLMrqIp9v/aho9UvGAHRrDokknNahO1TgFwNo/y5THoXZaiAA4G9q+cSefxQWtMVktTxcrT0pxA7+GTwbXUrGTS+GAmoXmkMC30Mqu64rpEytWCEljSCc8FFFu3IePgPHAWdQe1VKai6FyMxFE/fJSrPuO5NPlHwiQ2iRmDtaL9JxZAqk7AKebJGgwdBffdS2gJajGEFufn0zXaYRH3gDDecEOdZuPG0QMG+Dxd+SBkqxWwJfDf4lPo7j3CUXqNKI1TzgzMc+wontSqwJegQaZihm1qk5J+WZq6ITCEAJNY8yVp4/q6ATyB2J1E2U+NLwkVZD7G6SdXLOIqlpZsGejhGLZTEzSCaPm7HKgTB1GbSLDsFBmtGWUHEgCI8I6W7t4cQQb7+avcF75fJzC0hE+pNmvK2SWRejClk/hC0WzdbG9DL7JiVPL1fft5AIieoy+DK9nMkBspzXlUCSpLrVvcT2dxZ9DyCmcA7zFImSXyXy6SXic+HG0wSO1rKHCqo+To3tzoPct4OMJYw0CojpPz9VUYn7db5YQv9e2pG4z3/KTaqrzvdHjCo70NvvBePrpA27ejv8/gA72RdDTf8xT7eYjB1LmRcjJG+NZX7GKtqgk/ofXvS8IPkTNrBVj3imuTaqGIWz8FsPdBGY1zl6ymUWNS540osZvO9W80Ib5cIGw9y7Hmplk88LokfK4w5uR7n/kyB6JsqgJQOdtPEvs1MlImdR5HkBJwLmQJTF4tRPGInlKYNkzczag9rq13I6UjRXA9hBscAGYymnlfmKZ55L2UjSTsRoIpJ0yjNdtSK/WYPXYCByFwrERZ1E5WO58zGtaNDgC5AnQP+7+p+/G+Xb9Eg1da1VRzNdTXK8CwJUe+nbwcwXoFsJ+3fQpgIeG0AnjLpzxcrxeiAGz27YM2B019QQnnPcGesQto6T1cbxfg2UOCPQb4rBU+/My7AIwJVAuzTXvZ+72SMKIdO0riRBflHsdpzK0NAin9w6zGnWAXBJr0eVYPAsONazyWGBwEFtNAoRIwIoUPuVw2Re0apIG8iLIlaaALbAelgel1e/RsJda6mAZmgSAh6wRH8fJAkFeCMhDkV7lvQRA48zER9TX2+xuoapcGgjybaQkIqtYZSkBQqVAhWbUiSWd4wJfCrRk/3+XWQsGZA4IWcM79My++LRQKlhSDSqtWNMUg3kZdKwZtciDYLwa5OUZZMciTX1/Ii0H5sm+xGCQdVeLFiV45WNG2devKwWgdJVwJ4TZ1HQqbYzCploO1DSG881SyniUVK4DCxKvcbkdDSJ5MkiGnze4vnu7iKWepIUS12IG3MA1uCWPxxfa0hJkY53N8kkstYX7mcXJB8PiAhlAXS8Sr89rgwVJQUWlvTjycj7Gy8aGGoCl04NbulQR/cVMoM+OpptDUmprRmkKJBq92QAe3hbvuU8u6WfWN2bZw6o6N2sJXtSCh7fRfltvCbRwQ7lvq718YrS1cEkeMNxhSJi/WDIaARdnewRC+azjdTj9oMIQRYIoUSDsaRtMt8R+Px6PjGfbaDmHHhO3jizPuZtZ+NIyV0VOjYRgIXkmJLVpGw3jHtqqrSroJUzwcymbYae+fZjiUiJTC4ZP17RGIuYm5AsQ7hxcxHMqHaxjfgpi7WKxt6vHwkMxAPR5OKSfV1dd7PNynWqyxxgkelLptPLzAeWwpbmc0CdQ8Hr5MggigOoGHdjsIIvrcihryzBJBRLDQOsGOpqaJWwZFDDJgXfHljzWKGI6krVM8wBszCON3ebd9HeYoYjQwd8zN5FvM/ULr0nMXxwGMZDgJQnCuGiU6lSaJ4u7B9qrNaiRR8aKHVQuf6GTR37KZh/xB0VO+srzet5afjE4SxXDjXn15ME1cBmm0Jv7oYcC1a2/ykARcoolb+L6cQprFyafNaDz6+DFp4iJG9nm8n3l0BeBKAB/MiSJbgQktUWRqYTSycF+GuLkeiRx06mPqXIpJohV0NRawGlFkvK8ID+R1C1NrkwIESoAMVGMtgpYoALcM4cJoYt7uTj1ri05x+Y550UKMEMAxW7vSzR0VvqWYKja5iq6ziIYOdxVUsaHGM2rUlZNFG0WYp7aCRBDs2Rhk0fHaG85FTMGeliyadifF7W8EDnGhDxXmaNvGaUmTZCdvMo8VWg4tXTxZiNweITSjh7R6tbaXF1Ou9K4jlmNL6OJBkG5PsF0okaK0n/MNK4LnM9NkD4Pp4nuaFHLWHsqiUPnCydaFEcGQxcHRt6X9QbFQ/SaymILe9Cz8zHn96cWszZlk+5lfIQvLJo4e0sr6hS+MaFj2WS0WxelbDtThII52ZUzJz+V24aSyF7ZYcb6olTF2KQVtHpl+T+lsbUnWZq2MyS4r5EzWRGvuN2CsbmnUdGYUFYIru6fwU+pUgpmOl0YFjRmZpVGlMey1WRqV2a00mgL0Uher/T/FD5lAi9oSJakCuI4XXBvHF1Jm9wSZbWZ2yQQumrj2xFRWkdBXX/HGjLQPzrdWLWdtXB1GdpNZi1wbVxKQ2YCR373T27ZFC5WcazFpHvpbWtzsX1c1X0sLKEtFFASfzgNGkm1YHOkJPcZfHNm2OrbT2M6UBgseo22g1dVsFERxX4umPudrEbv4XJqYId6joM6AKGRqdWyVgUOx1Gkhq2OFbC7NWcDmLo+OYW1fSSN2UwZJn4f1CRf1z9d7eTTOHYwt/CF1gPVZH+9h7XCRZLqSZlbJRnt7yDLk/Puq1sc7Uuj96S8LLZO3LCEkBgy928j3zmutQB8nsPm/pJzMBjlPe66KFkFSKRvd3SLiqnS9BHCOMjn32Aqg7lJtwaE18YbECkTtWNntGtmUkmH9uRVvHhybXMLflkTfBCXLA2u4D+OiODR9srSSuKY/bZACKOONnGLGfXhk7j1hY77L2E06V/w+lWvz2Y7Jxc/t5nJEEhGStsRRds8QfznswmRASYRxLiWUWJgVkH54iwLUiin537fuKSd4LlxPzJyedqaASnqf3Pz7GoWFoyVZjgRCBsuDY15PVkaewUaYRdQxrRVEaYdynKNzYqrajmPahxyviXcgijCg0vRJUjqMA6MzSmPjV8mft+IHI1oBJCMQKEGVkqyIktWbH9CkP+bU9Zrl1n4aybJw+nlEOYhSgqYXczj68wZLv3h+XdLWljRQEgiaOCHYV2C2hB+3TBBhB85F60h2atZxUe5RU2tYlhLMS+1YYy2cDrpmwq6ckxT1rLZtLWgv6xRL6vtz5Wnp/akp3sZq8BgPIPJ7bzA9eRb60/aAxdHVJRZJQ0BUSd3e6K3Z5CIcUK33GBY5dwSfqUVWawsnVhsXhDOBn7CH7l+1+r5Lf2zZ9jgSuF8XnxF6LiAszsMzQdh6gadhCbgPCq3nQ0a4tY0dQz9vqRbBdL1EZWFV6oPFHufTG6jiJGts4lm+lFKXdvzVJp0FcPes4fQ3fd7KLvR1c1yt/iL1gpw5lfrEswDawC5m3NIIP8wyiLzCL2pmlHhtBA7K+2Kxxsu9TbtqvDgVU/mhJYgMArsIufTFEwX7VrSomYCmltOo7ZJyPIGVbSzr6xYEY+FFH30w+a0V745XpklW31RPYrgD+FBbhNHUOkq7FjbNCjQBQrz9q+VzI17+YEVds0JjESciyXon3rss7NSV7FrYIAUId9ktM/jhOf5QmpnYF6Nr+J5PLRMZRrLGICHJsL9zlmtM3chLyohdSn+ahlLZ8osh9Pf89OYqhFQm5n0HfjBl8hjb6d/z95vGE2pqNRVDN2l8Hc8bbvzl83PdcgQeSIoxfsaaAaY6pL9vUwIVvkBNsVgJJMEmUt7fYpArRfSwRUpggzJtQCgFQRDEOXanPhJWqxJIm0JLwZxfwhGmwbUBkq26UpuvtLFA6mH53jg3q3+S7QRWKoEbshiwQ2mj8/hFKgE8EC03IY8jHIGC59c9lwSaGiWgAY7WVFTE1XsrlcDtzrMz/ZKHw8Cdd1E5+FwrIF7NzHIiKZtDSn9DEjvcuguDtetepy02Vkbzfcc91gwItAakSTHzeUpwQ/rs2fLNnekXKMJJaZTMFYps8HQxFlNY2CM4nZl5Q2oXGyB8RgLxYSdhfe4f9MjF7qG0iaxZCd2KO2eN3rYqlJs6whR0J9EFXGMrQYoAik8PSwTPqd+HQs67S6UEw2BevqnDFKBiilszFQVInUX0gj5+RPF8Cjq5WCV/4a3MKPxCZUsMoQrSHCdAn7PfMZXV6WbmS53S2V0JoMgSRl3HRJM8SzBRvy22HHKCRyn8Cu+P45Nbg+JtjDWIWUfzBBXbjbvvlMGso73PcXeI9LWduLtrd23t9X+gU6snDZgnyQAAAABJRU5ErkJggg==" rel="icon" type="image/png" sizes="128x128">

  <script type="text/javascript" async="" src="./低レイヤを知りたい人のためのCコンパイラ作成入門_files/analytics.js"></script><script type="text/javascript" async="" src="./低レイヤを知りたい人のためのCコンパイラ作成入門_files/js"></script><script data-external="1" async="" src="./低レイヤを知りたい人のためのCコンパイラ作成入門_files/js(1)"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-23118142-2');
  </script>

  <script>
  window.addEventListener('DOMContentLoaded', () => {
    let elems = [];
    let i = 0;
    for (const e of document.getElementsByClassName('index')) {
      e.id = `index${i}`;
      i++;
      elems.push(e);
    }
    elems.sort((a, b) => { return a.innerText.localeCompare(b.innerText); });

    var div = document.getElementById('index');
    var ul = document.createElement('ul');
    div.appendChild(ul);

    for (const e of elems) {
      var li = document.createElement('li');
      ul.appendChild(li);

      var a = document.createElement('a')
      li.appendChild(a);

      a.href = `#${e.id}`;
      a.innerText = e.innerText;
    }
  });

  window.addEventListener('DOMContentLoaded', () => {
    for (let elem of document.querySelectorAll('.note p:first-child')) {
      elem.innerText = 'コラム: ' + elem.innerText;
    }

    for (let elem of document.querySelectorAll('.ref')) {
      var p = document.createElement('p');
      p.innerText = "リファレンス実装";
      p.style.fontWeight = 'bold';
      elem.prepend(p)
    }

    for (let elem of document.querySelectorAll('h1, h2, h3, h4')) {
      var a = document.createElement('a')
      a.href = '#' + elem.id;
      a.innerText = elem.innerText;
      a.style = 'text-decoration: none; color: inherit;'
      elem.innerText = '';
      elem.appendChild(a);
    }
  });
  </script>
</head>
<body>
<header id="title-block-header">
<h1 class="title"><a href="https://www.sigbus.info/compilerbook#" style="text-decoration: none; color: inherit;">低レイヤを知りたい人のためのCコンパイラ作成入門</a></h1>
<p class="author">Rui Ueyama &lt;ruiu@cs.stanford.edu&gt;</p>
<p class="date">2020-03-16</p>
</header>
<nav id="TOC" role="doc-toc">
<ul>
<li><a href="https://www.sigbus.info/compilerbook#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB">はじめに</a>
<ul>
<li><a href="https://www.sigbus.info/compilerbook#%E6%9C%AC%E6%9B%B8%E3%81%AE%E8%A1%A8%E8%A8%98%E6%B3%95">本書の表記法</a></li>
<li><a href="https://www.sigbus.info/compilerbook#%E6%9C%AC%E6%9B%B8%E3%81%AE%E6%83%B3%E5%AE%9A%E3%81%99%E3%82%8B%E9%96%8B%E7%99%BA%E7%92%B0%E5%A2%83">本書の想定する開発環境</a></li>
<li><a href="https://www.sigbus.info/compilerbook#%E8%91%97%E8%80%85%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6">著者について</a></li>
</ul></li>
<li><a href="https://www.sigbus.info/compilerbook#%E6%A9%9F%E6%A2%B0%E8%AA%9E%E3%81%A8%E3%82%A2%E3%82%BB%E3%83%B3%E3%83%96%E3%83%A9">機械語とアセンブラ</a>
<ul>
<li><a href="https://www.sigbus.info/compilerbook#cpu%E3%81%A8%E3%83%A1%E3%83%A2%E3%83%AA">CPUとメモリ</a></li>
<li><a href="https://www.sigbus.info/compilerbook#%E3%82%A2%E3%82%BB%E3%83%B3%E3%83%96%E3%83%A9%E3%81%A8%E3%81%AF">アセンブラとは</a></li>
<li><a href="https://www.sigbus.info/compilerbook#c%E3%81%A8%E3%81%9D%E3%82%8C%E3%81%AB%E5%AF%BE%E5%BF%9C%E3%81%99%E3%82%8B%E3%82%A2%E3%82%BB%E3%83%B3%E3%83%96%E3%83%A9">Cとそれに対応するアセンブラ</a>
<ul>
<li><a href="https://www.sigbus.info/compilerbook#%E7%B0%A1%E5%8D%98%E3%81%AA%E4%BE%8B">簡単な例</a></li>
<li><a href="https://www.sigbus.info/compilerbook#%E9%96%A2%E6%95%B0%E5%91%BC%E3%81%B3%E5%87%BA%E3%81%97%E3%82%92%E5%90%AB%E3%82%80%E4%BE%8B">関数呼び出しを含む例</a></li>
</ul></li>
<li><a href="https://www.sigbus.info/compilerbook#%E6%9C%AC%E7%AB%A0%E3%81%AE%E3%81%BE%E3%81%A8%E3%82%81">本章のまとめ</a></li>
</ul></li>
<li><a href="https://www.sigbus.info/compilerbook#%E9%9B%BB%E5%8D%93%E3%83%AC%E3%83%99%E3%83%AB%E3%81%AE%E8%A8%80%E8%AA%9E%E3%81%AE%E4%BD%9C%E6%88%90">電卓レベルの言語の作成</a>
<ul>
<li><a href="https://www.sigbus.info/compilerbook#%E3%82%B9%E3%83%86%E3%83%83%E3%83%971%E6%95%B4%E6%95%B01%E5%80%8B%E3%82%92%E3%82%B3%E3%83%B3%E3%83%91%E3%82%A4%E3%83%AB%E3%81%99%E3%82%8B%E8%A8%80%E8%AA%9E%E3%81%AE%E4%BD%9C%E6%88%90">ステップ1：整数1個をコンパイルする言語の作成</a></li>
<li><a href="https://www.sigbus.info/compilerbook#%E3%82%B9%E3%83%86%E3%83%83%E3%83%972%E5%8A%A0%E6%B8%9B%E7%AE%97%E3%81%AE%E3%81%A7%E3%81%8D%E3%82%8B%E3%82%B3%E3%83%B3%E3%83%91%E3%82%A4%E3%83%A9%E3%81%AE%E4%BD%9C%E6%88%90">ステップ2：加減算のできるコンパイラの作成</a></li>
<li><a href="https://www.sigbus.info/compilerbook#%E3%82%B9%E3%83%86%E3%83%83%E3%83%973%E3%83%88%E3%83%BC%E3%82%AF%E3%83%8A%E3%82%A4%E3%82%B6%E3%82%92%E5%B0%8E%E5%85%A5">ステップ3：トークナイザを導入</a></li>
<li><a href="https://www.sigbus.info/compilerbook#%E3%82%B9%E3%83%86%E3%83%83%E3%83%974%E3%82%A8%E3%83%A9%E3%83%BC%E3%83%A1%E3%83%83%E3%82%BB%E3%83%BC%E3%82%B8%E3%82%92%E6%94%B9%E8%89%AF">ステップ4：エラーメッセージを改良</a></li>
<li><a href="https://www.sigbus.info/compilerbook#%E6%96%87%E6%B3%95%E3%81%AE%E8%A8%98%E8%BF%B0%E6%96%B9%E6%B3%95%E3%81%A8%E5%86%8D%E5%B8%B0%E4%B8%8B%E9%99%8D%E6%A7%8B%E6%96%87%E8%A7%A3%E6%9E%90">文法の記述方法と再帰下降構文解析</a>
<ul>
<li><a href="https://www.sigbus.info/compilerbook#%E6%9C%A8%E6%A7%8B%E9%80%A0%E3%81%AB%E3%82%88%E3%82%8B%E6%96%87%E6%B3%95%E6%A7%8B%E9%80%A0%E3%81%AE%E8%A1%A8%E7%8F%BE">木構造による文法構造の表現</a></li>
<li><a href="https://www.sigbus.info/compilerbook#%E7%94%9F%E6%88%90%E8%A6%8F%E5%89%87%E3%81%AB%E3%82%88%E3%82%8B%E6%96%87%E6%B3%95%E3%81%AE%E5%AE%9A%E7%BE%A9">生成規則による文法の定義</a></li>
<li><a href="https://www.sigbus.info/compilerbook#bnf%E3%81%AB%E3%82%88%E3%82%8B%E7%94%9F%E6%88%90%E8%A6%8F%E5%89%87%E3%81%AE%E8%A8%98%E8%BF%B0">BNFによる生成規則の記述</a></li>
<li><a href="https://www.sigbus.info/compilerbook#%E5%8D%98%E7%B4%94%E3%81%AA%E7%94%9F%E6%88%90%E8%A6%8F%E5%89%87">単純な生成規則</a></li>
<li><a href="https://www.sigbus.info/compilerbook#%E7%94%9F%E6%88%90%E8%A6%8F%E5%89%87%E3%81%AB%E3%82%88%E3%82%8B%E6%BC%94%E7%AE%97%E5%AD%90%E3%81%AE%E5%84%AA%E5%85%88%E9%A0%86%E4%BD%8D%E3%81%AE%E8%A1%A8%E7%8F%BE">生成規則による演算子の優先順位の表現</a></li>
<li><a href="https://www.sigbus.info/compilerbook#%E5%86%8D%E5%B8%B0%E3%82%92%E5%90%AB%E3%82%80%E7%94%9F%E6%88%90%E8%A6%8F%E5%89%87">再帰を含む生成規則</a></li>
<li><a href="https://www.sigbus.info/compilerbook#%E5%86%8D%E5%B8%B0%E4%B8%8B%E9%99%8D%E6%A7%8B%E6%96%87%E8%A7%A3%E6%9E%90">再帰下降構文解析</a></li>
</ul></li>
<li><a href="https://www.sigbus.info/compilerbook#%E3%82%B9%E3%82%BF%E3%83%83%E3%82%AF%E3%83%9E%E3%82%B7%E3%83%B3">スタックマシン</a>
<ul>
<li><a href="https://www.sigbus.info/compilerbook#%E3%82%B9%E3%82%BF%E3%83%83%E3%82%AF%E3%83%9E%E3%82%B7%E3%83%B3%E3%81%AE%E6%A6%82%E5%BF%B5">スタックマシンの概念</a></li>
<li><a href="https://www.sigbus.info/compilerbook#%E3%82%B9%E3%82%BF%E3%83%83%E3%82%AF%E3%83%9E%E3%82%B7%E3%83%B3%E3%81%B8%E3%81%AE%E3%82%B3%E3%83%B3%E3%83%91%E3%82%A4%E3%83%AB">スタックマシンへのコンパイル</a></li>
<li><a href="https://www.sigbus.info/compilerbook#x86-64%E3%81%AB%E3%81%8A%E3%81%91%E3%82%8B%E3%82%B9%E3%82%BF%E3%83%83%E3%82%AF%E3%83%9E%E3%82%B7%E3%83%B3%E3%81%AE%E5%AE%9F%E7%8F%BE%E6%96%B9%E6%B3%95">x86-64におけるスタックマシンの実現方法</a></li>
</ul></li>
<li><a href="https://www.sigbus.info/compilerbook#%E3%82%B9%E3%83%86%E3%83%83%E3%83%975%E5%9B%9B%E5%89%87%E6%BC%94%E7%AE%97%E3%81%AE%E3%81%A7%E3%81%8D%E3%82%8B%E8%A8%80%E8%AA%9E%E3%81%AE%E4%BD%9C%E6%88%90">ステップ5：四則演算のできる言語の作成</a></li>
<li><a href="https://www.sigbus.info/compilerbook#%E3%82%B9%E3%83%86%E3%83%83%E3%83%976%E5%8D%98%E9%A0%85%E3%83%97%E3%83%A9%E3%82%B9%E3%81%A8%E5%8D%98%E9%A0%85%E3%83%9E%E3%82%A4%E3%83%8A%E3%82%B9">ステップ6：単項プラスと単項マイナス</a></li>
<li><a href="https://www.sigbus.info/compilerbook#%E3%82%B9%E3%83%86%E3%83%83%E3%83%977-%E6%AF%94%E8%BC%83%E6%BC%94%E7%AE%97%E5%AD%90">ステップ7: 比較演算子</a>
<ul>
<li><a href="https://www.sigbus.info/compilerbook#%E3%83%88%E3%83%BC%E3%82%AF%E3%83%8A%E3%82%A4%E3%82%B6%E3%81%AE%E5%A4%89%E6%9B%B4">トークナイザの変更</a></li>
<li><a href="https://www.sigbus.info/compilerbook#%E6%96%B0%E3%81%97%E3%81%84%E6%96%87%E6%B3%95">新しい文法</a></li>
<li><a href="https://www.sigbus.info/compilerbook#%E3%82%A2%E3%82%BB%E3%83%B3%E3%83%96%E3%83%AA%E3%82%B3%E3%83%BC%E3%83%89%E3%81%AE%E7%94%9F%E6%88%90">アセンブリコードの生成</a></li>
</ul></li>
</ul></li>
<li><a href="https://www.sigbus.info/compilerbook#%E5%88%86%E5%89%B2%E3%82%B3%E3%83%B3%E3%83%91%E3%82%A4%E3%83%AB%E3%81%A8%E3%83%AA%E3%83%B3%E3%82%AF">分割コンパイルとリンク</a>
<ul>
<li><a href="https://www.sigbus.info/compilerbook#%E5%88%86%E5%89%B2%E3%82%B3%E3%83%B3%E3%83%91%E3%82%A4%E3%83%AB%E3%81%A8%E3%81%AF">分割コンパイルとは</a>
<ul>
<li><a href="https://www.sigbus.info/compilerbook#%E5%88%86%E5%89%B2%E3%82%B3%E3%83%B3%E3%83%91%E3%82%A4%E3%83%AB%E3%81%A8%E3%81%9D%E3%81%AE%E5%BF%85%E8%A6%81%E6%80%A7">分割コンパイルとその必要性</a></li>
<li><a href="https://www.sigbus.info/compilerbook#%E3%83%98%E3%83%83%E3%83%80%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%AE%E5%BF%85%E8%A6%81%E6%80%A7%E3%81%A8%E3%81%9D%E3%81%AE%E5%86%85%E5%AE%B9">ヘッダファイルの必要性とその内容</a></li>
<li><a href="https://www.sigbus.info/compilerbook#%E3%83%AA%E3%83%B3%E3%82%AF%E3%82%A8%E3%83%A9%E3%83%BC">リンクエラー</a></li>
<li><a href="https://www.sigbus.info/compilerbook#%E3%82%B0%E3%83%AD%E3%83%BC%E3%83%90%E3%83%AB%E5%A4%89%E6%95%B0%E3%81%AE%E5%AE%A3%E8%A8%80%E3%81%A8%E5%AE%9A%E7%BE%A9">グローバル変数の宣言と定義</a></li>
</ul></li>
<li><a href="https://www.sigbus.info/compilerbook#c%E6%A8%99%E6%BA%96%E3%83%A9%E3%82%A4%E3%83%96%E3%83%A9%E3%83%AA%E3%81%A8%E3%82%A2%E3%83%BC%E3%82%AB%E3%82%A4%E3%83%96%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB">C標準ライブラリとアーカイブファイル</a></li>
<li><a href="https://www.sigbus.info/compilerbook#%E3%82%B9%E3%83%86%E3%83%83%E3%83%978-%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E5%88%86%E5%89%B2%E3%81%A8makefile%E3%81%AE%E5%A4%89%E6%9B%B4">ステップ8: ファイル分割とMakefileの変更</a>
<ul>
<li><a href="https://www.sigbus.info/compilerbook#%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%AE%E5%88%86%E5%89%B2">ファイルの分割</a></li>
<li><a href="https://www.sigbus.info/compilerbook#makefile%E3%81%AE%E5%A4%89%E6%9B%B4">Makefileの変更</a></li>
</ul></li>
</ul></li>
<li><a href="https://www.sigbus.info/compilerbook#%E9%96%A2%E6%95%B0%E3%81%A8%E3%83%AD%E3%83%BC%E3%82%AB%E3%83%AB%E5%A4%89%E6%95%B0">関数とローカル変数</a>
<ul>
<li><a href="https://www.sigbus.info/compilerbook#%E3%82%B9%E3%83%86%E3%83%83%E3%83%9791%E6%96%87%E5%AD%97%E3%81%AE%E3%83%AD%E3%83%BC%E3%82%AB%E3%83%AB%E5%A4%89%E6%95%B0">ステップ9：1文字のローカル変数</a>
<ul>
<li><a href="https://www.sigbus.info/compilerbook#%E3%82%B9%E3%82%BF%E3%83%83%E3%82%AF%E4%B8%8A%E3%81%AE%E5%A4%89%E6%95%B0%E9%A0%98%E5%9F%9F">スタック上の変数領域</a></li>
<li><a href="https://www.sigbus.info/compilerbook#%E3%83%88%E3%83%BC%E3%82%AF%E3%83%8A%E3%82%A4%E3%82%B6%E3%81%AE%E5%A4%89%E6%9B%B4-1">トークナイザの変更</a></li>
<li><a href="https://www.sigbus.info/compilerbook#%E3%83%91%E3%83%BC%E3%82%B5%E3%81%AE%E5%A4%89%E6%9B%B4">パーサの変更</a></li>
<li><a href="https://www.sigbus.info/compilerbook#%E5%B7%A6%E8%BE%BA%E5%80%A4%E3%81%A8%E5%8F%B3%E8%BE%BA%E5%80%A4">左辺値と右辺値</a></li>
<li><a href="https://www.sigbus.info/compilerbook#%E4%BB%BB%E6%84%8F%E3%81%AE%E3%82%A2%E3%83%89%E3%83%AC%E3%82%B9%E3%81%8B%E3%82%89%E5%80%A4%E3%82%92%E3%83%AD%E3%83%BC%E3%83%89%E3%81%99%E3%82%8B%E6%96%B9%E6%B3%95">任意のアドレスから値をロードする方法</a></li>
<li><a href="https://www.sigbus.info/compilerbook#%E3%82%B3%E3%83%BC%E3%83%89%E3%82%B8%E3%82%A7%E3%83%8D%E3%83%AC%E3%83%BC%E3%82%BF%E3%81%AE%E5%A4%89%E6%9B%B4">コードジェネレータの変更</a></li>
<li><a href="https://www.sigbus.info/compilerbook#%E3%83%A1%E3%82%A4%E3%83%B3%E9%96%A2%E6%95%B0%E3%81%AE%E5%A4%89%E6%9B%B4">メイン関数の変更</a></li>
</ul></li>
<li><a href="https://www.sigbus.info/compilerbook#%E3%82%B9%E3%83%86%E3%83%83%E3%83%9710%E8%A4%87%E6%95%B0%E6%96%87%E5%AD%97%E3%81%AE%E3%83%AD%E3%83%BC%E3%82%AB%E3%83%AB%E5%A4%89%E6%95%B0">ステップ10：複数文字のローカル変数</a></li>
<li><a href="https://www.sigbus.info/compilerbook#%E3%82%B9%E3%83%86%E3%83%83%E3%83%9711return%E6%96%87">ステップ11：return文</a></li>
<li><a href="https://www.sigbus.info/compilerbook#%E5%B9%B4%E3%81%AEc%E3%82%B3%E3%83%B3%E3%83%91%E3%82%A4%E3%83%A9">1973年のCコンパイラ</a></li>
<li><a href="https://www.sigbus.info/compilerbook#%E3%82%B9%E3%83%86%E3%83%83%E3%83%9712-%E5%88%B6%E5%BE%A1%E6%A7%8B%E6%96%87%E3%82%92%E8%B6%B3%E3%81%99">ステップ12: 制御構文を足す</a></li>
<li><a href="https://www.sigbus.info/compilerbook#%E3%82%B9%E3%83%86%E3%83%83%E3%83%9713-%E3%83%96%E3%83%AD%E3%83%83%E3%82%AF">ステップ13: ブロック</a></li>
<li><a href="https://www.sigbus.info/compilerbook#%E3%82%B9%E3%83%86%E3%83%83%E3%83%9714-%E9%96%A2%E6%95%B0%E3%81%AE%E5%91%BC%E3%81%B3%E5%87%BA%E3%81%97%E3%81%AB%E5%AF%BE%E5%BF%9C%E3%81%99%E3%82%8B">ステップ14: 関数の呼び出しに対応する</a></li>
<li><a href="https://www.sigbus.info/compilerbook#%E3%82%B9%E3%83%86%E3%83%83%E3%83%9715-%E9%96%A2%E6%95%B0%E3%81%AE%E5%AE%9A%E7%BE%A9%E3%81%AB%E5%AF%BE%E5%BF%9C%E3%81%99%E3%82%8B">ステップ15: 関数の定義に対応する</a></li>
<li><a href="https://www.sigbus.info/compilerbook#%E3%83%90%E3%82%A4%E3%83%8A%E3%83%AA%E3%83%AC%E3%83%99%E3%83%AB%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%BC%E3%83%95%E3%82%A7%E3%82%A4%E3%82%B9">バイナリレベルのインターフェイス</a></li>
</ul></li>
<li><a href="https://www.sigbus.info/compilerbook#twos_complement">コンピュータにおける整数の表現</a>
<ul>
<li><a href="https://www.sigbus.info/compilerbook#%E7%AC%A6%E5%8F%B7%E3%81%AA%E3%81%97%E6%95%B4%E6%95%B0">符号なし整数</a></li>
<li><a href="https://www.sigbus.info/compilerbook#%E7%AC%A6%E5%8F%B7%E3%81%82%E3%82%8A%E6%95%B4%E6%95%B0">符号あり整数</a></li>
<li><a href="https://www.sigbus.info/compilerbook#%E7%AC%A6%E5%8F%B7%E6%8B%A1%E5%BC%B5">符号拡張</a></li>
<li><a href="https://www.sigbus.info/compilerbook#%E7%AC%A6%E5%8F%B7%E3%81%AE%E5%8F%8D%E8%BB%A2">符号の反転</a></li>
</ul></li>
<li><a href="https://www.sigbus.info/compilerbook#%E3%83%9D%E3%82%A4%E3%83%B3%E3%82%BF%E3%81%A8%E6%96%87%E5%AD%97%E5%88%97%E3%83%AA%E3%83%86%E3%83%A9%E3%83%AB">ポインタと文字列リテラル</a>
<ul>
<li><a href="https://www.sigbus.info/compilerbook#%E3%82%B9%E3%83%86%E3%83%83%E3%83%9716-%E5%8D%98%E9%A0%85%E3%81%A8%E5%8D%98%E9%A0%85">ステップ16: 単項<code class="notranslate">&amp;</code>と単項<code class="notranslate">*</code></a></li>
<li><a href="https://www.sigbus.info/compilerbook#%E3%82%B9%E3%83%86%E3%83%83%E3%83%9717-%E6%9A%97%E9%BB%99%E3%81%AE%E5%A4%89%E6%95%B0%E5%AE%9A%E7%BE%A9%E3%82%92%E5%BB%83%E6%AD%A2%E3%81%97%E3%81%A6int%E3%81%A8%E3%81%84%E3%81%86%E3%82%AD%E3%83%BC%E3%83%AF%E3%83%BC%E3%83%89%E3%82%92%E5%B0%8E%E5%85%A5%E3%81%99%E3%82%8B">ステップ17: 暗黙の変数定義を廃止して、intというキーワードを導入する</a></li>
<li><a href="https://www.sigbus.info/compilerbook#%E3%82%B9%E3%83%86%E3%83%83%E3%83%9718-%E3%83%9D%E3%82%A4%E3%83%B3%E3%82%BF%E5%9E%8B%E3%82%92%E5%B0%8E%E5%85%A5%E3%81%99%E3%82%8B">ステップ18: ポインタ型を導入する</a>
<ul>
<li><a href="https://www.sigbus.info/compilerbook#%E3%83%9D%E3%82%A4%E3%83%B3%E3%82%BF%E3%82%92%E8%A1%A8%E3%81%99%E5%9E%8B%E3%82%92%E5%AE%9A%E7%BE%A9%E3%81%99%E3%82%8B">ポインタを表す型を定義する</a></li>
<li><a href="https://www.sigbus.info/compilerbook#%E3%83%9D%E3%82%A4%E3%83%B3%E3%82%BF%E3%81%8C%E6%8C%87%E3%81%97%E3%81%A6%E3%81%84%E3%82%8B%E5%80%A4%E3%81%AB%E4%BB%A3%E5%85%A5%E3%81%99%E3%82%8B">ポインタが指している値に代入する</a></li>
</ul></li>
<li><a href="https://www.sigbus.info/compilerbook#%E3%82%B9%E3%83%86%E3%83%83%E3%83%9719-%E3%83%9D%E3%82%A4%E3%83%B3%E3%82%BF%E3%81%AE%E5%8A%A0%E7%AE%97%E3%81%A8%E6%B8%9B%E7%AE%97%E3%82%92%E5%AE%9F%E8%A3%85%E3%81%99%E3%82%8B">ステップ19: ポインタの加算と減算を実装する</a></li>
<li><a href="https://www.sigbus.info/compilerbook#%E3%82%B9%E3%83%86%E3%83%83%E3%83%9720-sizeof%E6%BC%94%E7%AE%97%E5%AD%90">ステップ20: sizeof演算子</a></li>
<li><a href="https://www.sigbus.info/compilerbook#%E3%82%B9%E3%83%86%E3%83%83%E3%83%9721-%E9%85%8D%E5%88%97%E3%82%92%E5%AE%9F%E8%A3%85%E3%81%99%E3%82%8B">ステップ21: 配列を実装する</a>
<ul>
<li><a href="https://www.sigbus.info/compilerbook#%E9%85%8D%E5%88%97%E5%9E%8B%E3%82%92%E5%AE%9A%E7%BE%A9%E3%81%99%E3%82%8B">配列型を定義する</a></li>
<li><a href="https://www.sigbus.info/compilerbook#%E9%85%8D%E5%88%97%E3%81%8B%E3%82%89%E3%83%9D%E3%82%A4%E3%83%B3%E3%82%BF%E3%81%B8%E3%81%AE%E6%9A%97%E9%BB%99%E3%81%AE%E5%9E%8B%E5%A4%89%E6%8F%9B%E3%82%92%E5%AE%9F%E8%A3%85%E3%81%99%E3%82%8B">配列からポインタへの暗黙の型変換を実装する</a></li>
</ul></li>
<li><a href="https://www.sigbus.info/compilerbook#%E3%82%B9%E3%83%86%E3%83%83%E3%83%9722-%E9%85%8D%E5%88%97%E3%81%AE%E6%B7%BB%E5%AD%97%E3%82%92%E5%AE%9F%E8%A3%85%E3%81%99%E3%82%8B">ステップ22: 配列の添字を実装する</a></li>
<li><a href="https://www.sigbus.info/compilerbook#%E3%82%B9%E3%83%86%E3%83%83%E3%83%9723-%E3%82%B0%E3%83%AD%E3%83%BC%E3%83%90%E3%83%AB%E5%A4%89%E6%95%B0%E3%82%92%E5%AE%9F%E8%A3%85%E3%81%99%E3%82%8B">ステップ23: グローバル変数を実装する</a></li>
<li><a href="https://www.sigbus.info/compilerbook#%E3%82%B9%E3%83%86%E3%83%83%E3%83%9724-%E6%96%87%E5%AD%97%E5%9E%8B%E3%82%92%E5%AE%9F%E8%A3%85%E3%81%99%E3%82%8B">ステップ24: 文字型を実装する</a></li>
<li><a href="https://www.sigbus.info/compilerbook#%E3%82%B9%E3%83%86%E3%83%83%E3%83%9725-%E6%96%87%E5%AD%97%E5%88%97%E3%83%AA%E3%83%86%E3%83%A9%E3%83%AB%E3%82%92%E5%AE%9F%E8%A3%85%E3%81%99%E3%82%8B">ステップ25: 文字列リテラルを実装する</a></li>
<li><a href="https://www.sigbus.info/compilerbook#%E3%82%B9%E3%83%86%E3%83%83%E3%83%9726-%E5%85%A5%E5%8A%9B%E3%82%92%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%8B%E3%82%89%E8%AA%AD%E3%82%80">ステップ26: 入力をファイルから読む</a></li>
<li><a href="https://www.sigbus.info/compilerbook#%E3%82%B9%E3%83%86%E3%83%83%E3%83%9727-%E8%A1%8C%E3%82%B3%E3%83%A1%E3%83%B3%E3%83%88%E3%81%A8%E3%83%96%E3%83%AD%E3%83%83%E3%82%AF%E3%82%B3%E3%83%A1%E3%83%B3%E3%83%88">ステップ27: 行コメントとブロックコメント</a></li>
<li><a href="https://www.sigbus.info/compilerbook#%E3%82%B9%E3%83%86%E3%83%83%E3%83%9728-%E3%83%86%E3%82%B9%E3%83%88%E3%82%92c%E3%81%A7%E6%9B%B8%E3%81%8D%E7%9B%B4%E3%81%99">ステップ28: テストをCで書き直す</a></li>
</ul></li>
<li><a href="https://www.sigbus.info/compilerbook#program">プログラムの実行イメージと初期化式</a>
<ul>
<li><a href="https://www.sigbus.info/compilerbook#%E5%AE%9F%E8%A1%8C%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%AE%E6%A7%8B%E9%80%A0">実行ファイルの構造</a></li>
<li><a href="https://www.sigbus.info/compilerbook#%E3%83%87%E3%83%BC%E3%82%BF%E3%82%BB%E3%82%B0%E3%83%A1%E3%83%B3%E3%83%88%E3%81%AE%E5%86%85%E5%AE%B9">データセグメントの内容</a></li>
<li><a href="https://www.sigbus.info/compilerbook#%E5%88%9D%E6%9C%9F%E5%8C%96%E5%BC%8F%E3%81%AE%E6%96%87%E6%B3%95">初期化式の文法</a></li>
<li><a href="https://www.sigbus.info/compilerbook#%E3%82%B0%E3%83%AD%E3%83%BC%E3%83%90%E3%83%AB%E5%A4%89%E6%95%B0%E3%81%AE%E5%88%9D%E6%9C%9F%E5%8C%96%E5%BC%8F">グローバル変数の初期化式</a></li>
<li><a href="https://www.sigbus.info/compilerbook#%E3%83%AD%E3%83%BC%E3%82%AB%E3%83%AB%E5%A4%89%E6%95%B0%E3%81%AE%E5%88%9D%E6%9C%9F%E5%8C%96%E5%BC%8F">ローカル変数の初期化式</a></li>
</ul></li>
<li><a href="https://www.sigbus.info/compilerbook#%E3%82%B9%E3%83%86%E3%83%83%E3%83%9729%E4%BB%A5%E9%99%8D-%E8%A6%81%E5%8A%A0%E7%AD%86">ステップ29以降: [要加筆]</a></li>
<li><a href="https://www.sigbus.info/compilerbook#dynamic-linking">スタティックリンクとダイナミックリンク</a>
<ul>
<li><a href="https://www.sigbus.info/compilerbook#%E3%82%B9%E3%82%BF%E3%83%86%E3%82%A3%E3%83%83%E3%82%AF%E3%83%AA%E3%83%B3%E3%82%AF">スタティックリンク</a></li>
</ul></li>
<li><a href="https://www.sigbus.info/compilerbook#type">Cの型の構文</a>
<ul>
<li><a href="https://www.sigbus.info/compilerbook#%E5%9E%8B%E3%82%92%E8%A1%A8%E3%81%99%E5%9B%B3">型を表す図</a></li>
<li><a href="https://www.sigbus.info/compilerbook#%E5%9E%8B%E3%82%92%E8%A1%A8%E3%81%99%E8%A8%98%E6%B3%95">型を表す記法</a></li>
<li><a href="https://www.sigbus.info/compilerbook#c%E3%81%AE%E5%9E%8B%E3%81%AE%E8%AA%AD%E3%81%BF%E6%96%B9">Cの型の読み方</a>
<ul>
<li><a href="https://www.sigbus.info/compilerbook#%E3%83%8D%E3%82%B9%E3%83%88%E3%81%97%E3%81%A6%E3%81%84%E3%81%AA%E3%81%84%E5%9E%8B%E3%81%AE%E8%AA%AD%E3%81%BF%E6%96%B9">ネストしていない型の読み方</a></li>
<li><a href="https://www.sigbus.info/compilerbook#%E3%83%8D%E3%82%B9%E3%83%88%E3%81%97%E3%81%A6%E3%81%84%E3%82%8B%E5%9E%8B%E3%81%AE%E8%AA%AD%E3%81%BF%E6%96%B9">ネストしている型の読み方</a></li>
</ul></li>
<li><a href="https://www.sigbus.info/compilerbook#%E7%B7%B4%E7%BF%92%E5%95%8F%E9%A1%8C">練習問題</a></li>
</ul></li>
<li><a href="https://www.sigbus.info/compilerbook#%E3%81%8A%E3%82%8F%E3%82%8A%E3%81%AB">おわりに</a></li>
<li><a href="https://www.sigbus.info/compilerbook#%E4%BB%98%E9%8C%B21x86-64%E5%91%BD%E4%BB%A4%E3%82%BB%E3%83%83%E3%83%88-%E3%83%81%E3%83%BC%E3%83%88%E3%82%B7%E3%83%BC%E3%83%88">付録1：x86-64命令セット チートシート</a>
<ul>
<li><a href="https://www.sigbus.info/compilerbook#%E6%95%B4%E6%95%B0%E3%83%AC%E3%82%B8%E3%82%B9%E3%82%BF%E3%81%AE%E4%B8%80%E8%A6%A7">整数レジスタの一覧</a></li>
<li><a href="https://www.sigbus.info/compilerbook#%E3%83%A1%E3%83%A2%E3%83%AA%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B9">メモリアクセス</a></li>
<li><a href="https://www.sigbus.info/compilerbook#%E9%96%A2%E6%95%B0%E5%91%BC%E3%81%B3%E5%87%BA%E3%81%97">関数呼び出し</a></li>
<li><a href="https://www.sigbus.info/compilerbook#%E6%9D%A1%E4%BB%B6%E5%88%86%E5%B2%90">条件分岐</a></li>
<li><a href="https://www.sigbus.info/compilerbook#%E6%9D%A1%E4%BB%B6%E4%BB%A3%E5%85%A5">条件代入</a></li>
<li><a href="https://www.sigbus.info/compilerbook#%E6%95%B4%E6%95%B0%E8%AB%96%E7%90%86%E6%BC%94%E7%AE%97">整数・論理演算</a></li>
</ul></li>
<li><a href="https://www.sigbus.info/compilerbook#%E4%BB%98%E9%8C%B22git%E3%81%AB%E3%82%88%E3%82%8B%E3%83%90%E3%83%BC%E3%82%B8%E3%83%A7%E3%83%B3%E7%AE%A1%E7%90%86">付録2：Gitによるバージョン管理</a>
<ul>
<li><a href="https://www.sigbus.info/compilerbook#git%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%9F%E3%83%AF%E3%83%BC%E3%82%AF%E3%83%95%E3%83%AD%E3%83%BC">Gitを使ったワークフロー</a></li>
<li><a href="https://www.sigbus.info/compilerbook#%E3%82%B3%E3%83%9F%E3%83%83%E3%83%88%E3%81%99%E3%82%8B%E3%81%A8%E3%81%8D%E3%81%AE%E6%B3%A8%E6%84%8F%E7%82%B9">コミットするときの注意点</a></li>
<li><a href="https://www.sigbus.info/compilerbook#git%E3%81%AE%E5%86%85%E9%83%A8%E6%A7%8B%E9%80%A0">Gitの内部構造</a></li>
</ul></li>
<li><a href="https://www.sigbus.info/compilerbook#docker">付録3：Dockerを使った開発環境の作成</a>
<ul>
<li><a href="https://www.sigbus.info/compilerbook#%E3%82%BB%E3%83%83%E3%83%88%E3%82%A2%E3%83%83%E3%83%97%E6%89%8B%E9%A0%86">セットアップ手順</a></li>
<li><a href="https://www.sigbus.info/compilerbook#%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%9F%E3%83%93%E3%83%AB%E3%83%89">コンテナを使ったビルド</a></li>
<li><a href="https://www.sigbus.info/compilerbook#%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A%E3%81%AB%E6%96%B0%E3%81%9F%E3%81%AA%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%82%92%E8%BF%BD%E5%8A%A0">コンテナに新たなアプリケーションを追加</a></li>
</ul></li>
<li><a href="https://www.sigbus.info/compilerbook#%E5%8F%82%E8%80%83%E8%B3%87%E6%96%99">参考資料</a></li>
<li><a href="https://www.sigbus.info/compilerbook#%E7%B4%A2%E5%BC%95">索引</a></li>
</ul>
</nav>
<hr>
<h1 id="はじめに"><a href="https://www.sigbus.info/compilerbook#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB" style="text-decoration: none; color: inherit;">はじめに</a></h1>
<p><em>このオンラインブックは執筆中です。完成版ではありません。<a href="https://goo.gl/forms/DWmgm5fChpJ6IEFI3">フィードバックフォーム</a></em></p>
<p>この本には一冊の本に盛り込むにはやや欲張りな内容を詰め込みました。本書では、C言語で書かれたソースコードをアセンブリ言語に変換するプログラム、つまりCコンパイラを作成します。コンパイラそのものもCを使って開発します。当面の目標はセルフホスト、すなわち自作コンパイラでそれ自身のソースコードをコンパイルできるようにすることです。</p>
<p>この本では、コンパイラの説明の難易度が急に上がりすぎないように、様々なトピックを本書全体を通じて次第に掘り下げていくという形で説明することにしました。その理由は次のとおりです。</p>
<p>コンパイラは、構文解析、中間パス、コード生成といった複数のステージに概念的に分割することができます。よくある教科書的アプローチでは、それぞれのトピックについて章を立てて解説を行うことになりますが、そのようなアプローチの本は話が途中で狭く深くなりすぎて、読者がついていけなくなりがちです。</p>
<p>また、ステージごとに作っていく開発手法では、全てのステージが完成するまでコンパイラを動かしてみることができないので、全体が動き始めるまで自分の理解やコードが決定的に間違っていても気づくことができないという欠点があります。そもそも次のステージの入力としてなにが期待されているのか、自分で作ってみるまでよくわからないので、その前のステージで何を出力すればよいのかもよくわからないのです。完成するまで何のコードもまったくコンパイルできないのでモチベーションを保つのが困難という問題もあります。</p>
<p>本書ではその罠を避けるために別のアプローチをとることにしました。この本の最初のほうで、読者はごく単純な言語仕様の「独自言語」を実装することになります。その言語はあまりにも単純なので、それを実装する時点では、コンパイラの作り方について詳しく知っている必要はありません。その後、読者は本書を通じて「独自言語」に機能を追加していって、最終的にそれをCと一致するものに育て上げることになります。</p>
<p>そのようなインクリメンタルな開発手法では、細かいコミットを刻みつつ、ステップ・バイ・ステップでコンパイラを作っていくことになります。この開発手法では、どのコミットにおいてもコンパイラはある意味常に「完成形」です。ある段階ではただの電卓レベルのことしかできないかもしれないし、ある段階では相当限定されたCのサブセットかもしれないし、ある段階ではほぼCと言える言語かもしれない、というようになります。ポイントは、どの段階でも、その時点の完成度に合わせたリーズナブルな仕様の言語を目指すという点です。開発中に一部の機能だけを突出してC言語ぽくすることは行いません。</p>
<p>データ構造やアルゴリズム、コンピュータサイエンス的な知識についても、開発段階に応じて順次解説していきます。</p>
<p>インクリメンタルな開発では、本書を読んでいるどの時点においても、読者はそこまでのレベルにおいてのリーズナブルな言語の作り方の知識をまんべんなく持っている、ということが達成されることになります。これはコンパイラ作成の一部のトピックだけ極端に偏って詳しい状態よりずっとよい状態です。そして、本書を読み終わるころには、すべてのトピックについてまんべんなく知識が得られていることでしょう。</p>
<p>また、この本は、大きなプログラムを1から書くにはどうすればよいのかということを説明している本でもあります。大きなプログラムを作るスキルというのは、データ構造やアルゴリズムを学ぶのとはまた違った一種独特のスキルなのですが、そういったものを解説している本はあまりないように思います。また、仮に解説してもらっても、実際に体験してみなければ、開発手法の良し悪しというものはよくわからないものです。本書は、自作言語をC言語に育てていくプロセスが、一つの良い開発手法の実体験になるようにデザインされています。</p>
<p>筆者の目論見が成功していれば、この本を読むことで、読者はコンパイラ作成のテクニックやCPU命令セットの知識だけではなく、大きなプログラムを小さなステップにわけて少しづつ作っていく方法や、ソフトウェアテストの手法、バージョン管理の手法、そしてコンパイラ作成のような野心的なプロジェクトに取り組むときの心構えすら学ぶことができるはずです。</p>
<p>この本の想定読者は普通のCプログラマです。Cの言語仕様を熟知しているスーパーCプログラマである必要はありません。ポインタや配列が理解できており、他人の書いた小規模なCプログラムを、少なくとも時間をかければ読める、というレベルであれば十分です。</p>
<p>この本の執筆にあたって、言語仕様やCPUの仕様については、単に仕様を説明するだけではなく、なぜそのようなデザインが選ばれたのかについての解説をできる限り行うようにしました。また、読者の興味を引くようなコンパイラやCPU、コンピュータ業界やその歴史についてのコラムを散りばめて、楽しく読み進められるように心がけました。</p>
<p>コンパイラ作成は大変楽しい作業です。最初のころはバカバカしいくらい単純なことしかできなかった自作言語が、開発を続けていくとたちまちのうちに自分でも驚くくらいC言語っぽく成長していって、まるで魔法のようにうまく動くようになります。実際に開発をしてみると、その時点でうまくコンパイルできるとは思えない大きめのテストコードがエラーなしにコンパイルできて、完全に正しく動くことに驚くことがよくあります。そういうコードはコンパイル結果のアセンブリを見ても自分ではすぐには理解できません。時折、自作のコンパイラが作者である自分を超える知性を持っているように感じることすらあります。コンパイラは仕組みがわかっていても、どことなく、なぜここまでうまく動くのか不思議な感じがするプログラムです。きっとあなたもその魅力に夢中になることでしょう。</p>
<p>さて、前置きはこれくらいにして、さっそく筆者と一緒にコンパイラ開発の世界に飛び込んでみましょう！</p>
<div class="note">
<p>コラム: なぜC言語なのか</p>
<p>数多くあるプログラミング言語の中で、この本ではなぜCを選んだのでしょうか？ あるいはなぜ自作言語ではないのでしょうか？ この点については、絶対にCでなければならない理由はないのですが、ネイティブコードを出力するコンパイラの制作手法を学ぶために何らかの言語を選ばなければいけないとしたら、Cはさほど多くないリーズナブルな選択肢のうちの一つだと思います。</p>
<p>インタプリタ方式の言語では低レイヤについてあまり学ぶことができません。一方でCでは普通はアセンブリにコンパイルするので、コンパイラを作ることで、Cそのものと同時に、CPUの命令セットやプログラムの動く仕組みなどを学ぶことができます。</p>
<p>Cは広く使われているので、コンパイラがきちんと動くようになったら、ネットからダウンロードしてきた第三者のソースコードをコンパイルして遊ぶことができます。例えばミニUnixのxv6をビルドして遊ぶことができるでしょう。コンパイラの完成度が十分に高ければ、Linuxカーネルすらコンパイルすることが可能なはずです。こういった楽しみ方はマイナーな言語や自作言語ではできません。</p>
<p>Cのようなネイティブな機械語にコンパイルされる静的型付け言語で、Cと少なくとも同じくらい広く使われているものとして、C++があります。しかしC++は、言語仕様があまりにも巨大で、気軽に自作コンパイラを作るのは不可能で、現実的に選択肢に入りません。</p>
<p>オリジナルの言語をデザインして実装するのは、言語のデザインセンスを磨くという意味ではよいのですが、落とし穴もあります。実装が面倒なところは、言語仕様でそれを避けることにより実装しないで済ませてしまうことができるのです。言語仕様が標準として与えられているCのような言語ではそうはいきません。その縛りは学習という意味ではわりとよいものだと思います。</p>
</div>
<h3 id="本書の表記法"><a href="https://www.sigbus.info/compilerbook#%E6%9C%AC%E6%9B%B8%E3%81%AE%E8%A1%A8%E8%A8%98%E6%B3%95" style="text-decoration: none; color: inherit;">本書の表記法</a></h3>
<p>関数や式、コマンドなどは本文中で<code class="notranslate">main</code>や<code class="notranslate">foo=3</code>、<code class="notranslate">make</code>のように等幅フォントで表示します。</p>
<p>複数行に渡るコードは、次のように等幅フォントを使って枠の中に表示します。</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode c notranslate"><code class="sourceCode c notranslate"><span id="cb1-1"><a href="https://www.sigbus.info/compilerbook#cb1-1"></a><span class="dt">int</span> main() {</span>
<span id="cb1-2"><a href="https://www.sigbus.info/compilerbook#cb1-2"></a>  printf(<span class="st">"Hello world!</span><span class="sc">\n</span><span class="st">"</span>);</span>
<span id="cb1-3"><a href="https://www.sigbus.info/compilerbook#cb1-3"></a>  <span class="cf">return</span> <span class="dv">0</span>;</span>
<span id="cb1-4"><a href="https://www.sigbus.info/compilerbook#cb1-4"></a>}</span></code></pre></div>
<p>枠で囲まれたコードがユーザがそのまま入力することを想定しているシェルコマンドの場合、<code class="notranslate">$</code>から始まる行はプロンプトを表しています。その行の<code class="notranslate">$</code>以降をシェルに入力してください（<code class="notranslate">$</code>そのものは入力しないようにしてください）。<code class="notranslate">$</code>以外の行は、入力したコマンドからの出力を表しています。例えば下のブロックは、ユーザが<code class="notranslate">make</code>という文字列を入力してエンターを押した場合の実行例です。<code class="notranslate">make</code>コマンドからの出力は<code class="notranslate">make: Nothing to be done for `all'.</code>です。</p>
<pre class="shell notranslate"><code class="notranslate">$ make
make: Nothing to be done for `all'.</code></pre>
<h3 id="本書の想定する開発環境"><a href="https://www.sigbus.info/compilerbook#%E6%9C%AC%E6%9B%B8%E3%81%AE%E6%83%B3%E5%AE%9A%E3%81%99%E3%82%8B%E9%96%8B%E7%99%BA%E7%92%B0%E5%A2%83" style="text-decoration: none; color: inherit;">本書の想定する開発環境</a></h3>
<p>本書ではIntelやAMDなどのいわゆる普通のPCで動く64ビットのLinux環境を想定しています。読者がお使いのディストリビューションに合わせてgccやmakeといった開発ツールをあらかじめインストールしておいてください。Ubuntuであれば以下のコマンドを実行することで、本書で使用しているコマンドをインストールできます。</p>
<pre class="notranslate"><code class="notranslate">$ sudo apt update
$ sudo apt install -y gcc make git binutils libc6-dev</code></pre>
<p>macOSはLinuxとアセンブリのソースレベルでかなり互換性がありますが、完全互換ではありません（具体的には「スタティックリンク」という機能がサポートされていません）。この本の内容に従ってmacOS対応のCコンパイラを作成するのは不可能ではないものの、実際に試してみると、細かな点でいろいろな非互換性に悩まされることになるでしょう。Cコンパイラ作成のテクニックと、macOSとLinuxの差異を同時に学ぶというのは、お勧めできることではありません。何かがうまく動かない場合、どちらの理解が間違っているのかよくわからなくなってしまうからです。</p>
<p>したがって本書ではmacOSは対象外とします。macOSでは何らかの仮想環境を使ってLinux環境を用意するようにしてください。Linuxの仮想環境を用意するのが初めてだという読者は、Dockerを使って開発環境を作成する方法を<a href="https://www.sigbus.info/compilerbook#docker">付録3</a>にまとめておいたので参考にしてください。</p>
<p>WindowsはLinuxとはアセンブリのソースレベルで互換性がありません。ただし、Windows 10ではLinuxを1つのアプリケーションのようにWindows上で動作させることが可能で、それを使うことでWindows上で開発を進めていくことができます。Windows Subsystem for Linux（WSL）というアプリケーションがそのLinux互換環境です。本書の内容をWindowsで実践するときは、WSLをインストールして、その中で開発を進めるようにしてください。</p>
<div class="note">
<p>コラム: クロスコンパイラ</p>
<p>コンパイラが動作するマシンのことを「ホスト」、コンパイラが出力したコードが動作するマシンのことを「ターゲット」といいます。本書ではどちらも64ビットのLinux環境ですが、ホストとターゲットは必ずしも同じである必要はありません。</p>
<p>ホストとターゲットが異なるコンパイラのことをクロスコンパイラといいます。たとえばRaspberry Piの実行ファイルを生成するWindowsで動くコンパイラはクロスコンパイラです。クロスコンパイラは、ターゲットのマシンがコンパイラを動かすには貧弱だったり特殊だったりするときによく使われます。</p>
</div>
<h3 id="著者について"><a href="https://www.sigbus.info/compilerbook#%E8%91%97%E8%80%85%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6" style="text-decoration: none; color: inherit;">著者について</a></h3>
<p>植山 類（<a href="https://twitter.com/rui314">@rui314</a>）。高速なリンカ<a href="https://lld.llvm.org/">lld</a>のオリジナル作者かつ現メンテナで、lldはAndroid（バージョンQ以降）やFreeBSD（12以降）、Nintendo Switch、ChromeやFirefoxなど、多くのOSやプロジェクトにおいて、実行ファイルを作成する標準リンカとして採用されています（したがって筆者が書いたツールが作成したバイナリが、読者の手元のコンピュータに入っている可能性は高い）。コンパクトなCコンパイラ<a href="https://github.com/rui314/8cc">8cc</a>の作者でもあります。ソフトウェアに関するエッセイは主に<a href="https://note.mu/ruiu">note</a>に書いています。</p>
<div class="note">
<p>コラム: コンパイラをコンパイルするコンパイラ</p>
<p>CコンパイラがCで書かれているといった自己参照的な状況は珍しくありません。C以外でも、数多くの言語実装がその言語自体を使って書かれています。</p>
<p>すでに言語Xの実装がある場合、その言語自身を使って新たなXコンパイラを作ることに論理的な矛盾はありません。もしセルフホストをしようと思ったら、単に既存のコンパイラで開発を進めていって、自作のものが完成したらスイッチすればよいだけです。この本で我々が行おうとしているのはまさにその方法です。</p>
<p>しかし既存のコンパイラがない場合はどうすればよいのでしょうか？ そのときには別の言語を使って書くしかありません。セルフホストするつもりでX言語の最初のコンパイラを書くときには、Xと異なる既存のY言語を使って書き、コンパイラの完成度が高まったところで、コンパイラ自身をY言語からX言語に書き直す必要があります。</p>
<p>現代の複雑なプログラミング言語のコンパイラも、その言語の実装をコンパイルするために使った別のコンパイラ、というように系譜をさかのぼっていくと、最終的に、コンピュータの黎明期に誰かが機械語で直接書いた単純なアセンブラにたどりつくはずです。現存するすべての言語実装のある意味の究極の祖先にあたるそのアセンブラが、単一なのか複数あったのかはわかりませんが、現在のコンパイラがごく少数の祖先から出発しているのは間違いないでしょう。コンパイラ以外の実行ファイルも普通はコンパイラが生成したファイルですから、現存するほぼすべての実行ファイルは、その原始のアセンブラの間接的な子孫にあたるわけです。これは生命の起源のような面白い話ですね。</p>
</div>
<hr>
<h1 id="機械語とアセンブラ"><a href="https://www.sigbus.info/compilerbook#%E6%A9%9F%E6%A2%B0%E8%AA%9E%E3%81%A8%E3%82%A2%E3%82%BB%E3%83%B3%E3%83%96%E3%83%A9" style="text-decoration: none; color: inherit;">機械語とアセンブラ</a></h1>
<p>この章では、コンピュータを構成するコンポーネントと、我々が作成するCコンパイラからどのようなコードを出力すればよいのかということについて、大雑把なイメージをつかむことを目標とします。具体的なCPUの命令などについてはまだ深入りはしません。まずは概念を把握することが重要です。</p>
<h2 id="cpuとメモリ"><a href="https://www.sigbus.info/compilerbook#cpu%E3%81%A8%E3%83%A1%E3%83%A2%E3%83%AA" style="text-decoration: none; color: inherit;">CPUとメモリ</a></h2>
<p>コンピュータを構成するコンポーネントは、大きくCPUとメモリにわけることができます。メモリはデータを保持できるデバイスで、CPUは、そのメモリを読み書きしながら何らかの処理を行なっていくデバイスです。</p>
<p>概念的に、CPUにとってはメモリはランダムアクセス可能な巨大なバイトの配列のように見えます。CPUがメモリにアクセスするときは、メモリの何バイト目にアクセスしたいのかという情報を数値で指定するわけですが、その数値のことを「アドレス」といいます。例えば「アドレス16から8バイトのデータを読む」というのは、バイトの配列のように見えているメモリの16バイト目から8バイト分のデータを読む、という意味です。同じことを「16番地から8バイトのデータを読む」ということもあります。</p>
<p>CPUが実行するプログラムと、そのプログラムが読み書きするデータは、どちらもメモリに入っています。CPUは「現在実行中の命令のアドレス」をCPU内部に保持していて、そのアドレスから命令を読み出して、そこに書かれていることを行い、そして次の命令を読み出して実行する、ということを行なっています。その現在実行中の命令のアドレスのことを「<span class="index" id="index1">プログラムカウンタ</span>」（PC）や「<span class="index" id="index2">インストラクションポインタ</span>」（IP）といいます。CPUが実行するプログラムの形式そのもののことを「<span class="index" id="index3">機械語</span>」(machine code)といいます。</p>
<p>プログラムカウンタは必ずしも直線的に次の命令だけに進んでいくわけではありません。CPUの「分岐命令」（branch instruction）という種類の命令を使うと、プログラムカウンタを、次の命令以外の任意のアドレスに設定することができます。この機能によってif文やループなどが実現されています。プログラムカウンタを次の命令以外の場所に設定することを「ジャンプする」あるいは「分岐する」といいます。</p>
<p>CPUはプログラムカウンタのほかにも、少数のデータ保存領域を持っています。例えばIntelやAMDのプロセッサには、64ビット整数が保持できる領域が16個あります。この領域のことを「<span class="index" id="index4">レジスタ</span>」（register）と呼びます。メモリはCPUから見て外部の装置で、それを読み書きするには多少の時間がかかりますが、レジスタはCPU内部に存在していて、遅延なしにアクセスすることができます。</p>
<p>多くの機械語は、2つのレジスタの値を使って何らかの演算を行なって、その結果をレジスタに書き戻すというフォーマットになっています。したがってプログラムの実行というものは、CPUがメモリからレジスタにデータを読み込んできて、レジスタとレジスタの間でなんらかの演算を行い、その結果をメモリに書き戻す、ということで実行が進んでいくことになります。</p>
<p>特定の機械語の命令を総称として「<span class="index" id="index5">命令セットアーキテクチャ</span>」（instruction set architecture, ISA）あるいは「命令セット」といいます。命令セットは一種類というわけではなく、CPUごとに好きにデザインしてかまいません。とはいえ、機械語レベルの互換性がないと同じプログラムを動かせないので、命令セットのバリエーションはそれほど多くありません。PCでは、Intelやその互換チップメーカーであるAMDの、<span class="index" id="index6">x86-64</span>と呼ばれる命令セットが使われています。x86-64は主要な命令セットの1つですが、x86-64だけが市場を独占しているというわけではありません。例えばiPhoneやAndroidではARMという命令セットが使われてます。</p>
<div class="note">
<p>コラム: x86-64命令セットの名称</p>
<p>x86-64は、<span class="index" id="index7">AMD64</span>や<span class="index" id="index8">Intel 64</span>、<span class="index" id="index9">x64</span>などと呼ばれることもあります。同一の命令セットにこのように複数の名前がついているのには歴史的背景があります。</p>
<p>x86命令セットは1978年にIntelが作ったものですが、それを64ビットに拡張したのはAMDです。64ビットプロセッサが必要になりつつあった2000年頃、IntelはItaniumというまったく新しい命令セットに全社を挙げて取り組んでいて、それと競合することになる64ビット版x86にはあえて取り組んでいませんでした。その隙を突いてAMDが64ビット版x86の仕様を策定して公開しました。それがx86-64です。そのあとAMDはブランディング戦略の都合上か、x86-64をAMD64と改名しました。</p>
<p>その後Itaniumの失敗が明白になり、Intelは64ビット版x86を作ることしか選択肢がなくなってしまったのですが、そのころにはAMD64の実際のチップがそれなりに数が出ていたので、それと似て非なる拡張命令セットをいまさら策定するのも難しく、IntelもAMD互換の命令セットを採用することになりました。Microsoftからも互換性維持のプレッシャーがあったと言われています。そのときにIntelは、AMD64とほぼ全く同じ命令セットにIA-32eという名前をつけて採用しています。64ではなくIA-32e (Intel Architecture 32 extensions) という名前をつけたことには、64ビットCPUの本丸はあくまでItaniumであるという、成功しなかった命令セットに対する未練が透けて見えるようです。そのあとIntelはItaniumを完全に見捨てる方針を取るようになり、IA-32eはIntel 64という普通の名前に改名されました。Microsoftは長すぎる名前を嫌ってか、x86-64のことをx64と呼んでいます。</p>
<p>上記のような理由で、x86-64はたくさんの異なる名前を持っているのです。</p>
<p>オープンソースプロジェクトでは、特定の会社の名前が入っていないx86-64という名称が好まれることが多いようです。本書でもx86-64という名称を一貫して使っています。</p>
</div>
<h2 id="アセンブラとは"><a href="https://www.sigbus.info/compilerbook#%E3%82%A2%E3%82%BB%E3%83%B3%E3%83%96%E3%83%A9%E3%81%A8%E3%81%AF" style="text-decoration: none; color: inherit;">アセンブラとは</a></h2>
<p>機械語はCPUが直接読んでいくものですから、CPUの都合だけが考慮されていて、人間にとっての扱いやすさというものは考慮されていません。こういった機械語をバイナリエディタで書いていくのは、不可能というわけではないものの、とても辛い作業です。そこで発明されたのが<span class="index" id="index10">アセンブラ</span>です。アセンブリは機械語にほぼそのまま1対1で対応するような言語なのですが、機械語よりもはるかに人間にとって読みやすいものになっています。</p>
<p>仮想マシンやインタープリタではなくネイティブなバイナリを出力するコンパイラの場合、通常、アセンブリを出力することが目標になります。機械語を直接出力しているように見えるコンパイラも、よくある構成では、アセンブリを出力したあとにバックグラウンドでアセンブラを起動しています。本書で作るCコンパイラもアセンブリを出力します。</p>
<p>アセンブリのコードを機械語に変換するのは「コンパイルする」ということもありますが、入力がアセンブリであることを強調して特別に「<span class="index" id="index11">アセンブル</span>する」ということもあります。</p>
<p>読者の方々はアセンブリをいままでにどこかで見たことがあるかもしれません。もしアセンブリを見たことがなければ、今が見てみるよい機会です。<code class="notranslate">objdump</code>コマンドを使って、適当な実行ファイルを逆アセンブルして、そのファイルの中に入っている機械語をアセンブリとして表示してみましょう。以下は<code class="notranslate">ls</code>コマンドを逆アセンブルしてみた結果です。</p>
<pre class="shell notranslate"><code class="notranslate">$ objdump -d -M intel /bin/ls
/bin/ls:     file format elf64-x86-64

Disassembly of section .init:

0000000000003d58 &lt;_init@@Base&gt;:
  3d58:  48 83 ec 08           sub    rsp,0x8
  3d5c:  48 8b 05 7d b9 21 00  mov    rax,QWORD PTR [rip+0x21b97d]
  3d63:  48 85 c0              test   rax,rax
  3d66:  74 02                 je     366a &lt;_init@@Base+0x12&gt;
  3d68:  ff d0                 call   rax
  3d6a:  48 83 c4 08           add    rsp,0x8
  3d6e:  c3                    ret
...</code></pre>
<p>筆者の環境では<code class="notranslate">ls</code>コマンドには2万個ほどの機械語命令が含まれているので、逆アセンブルした結果も2万行近い長大なものになります。ここでは最初のごく一部だけを掲載しました。</p>
<p>アセンブリでは、基本的に機械語1個につき1行という構成になっています。例として次の行に着目してみましょう。</p>
<pre class="notranslate"><code class="notranslate">  3d58:  48 83 ec 08           sub    rsp,0x8</code></pre>
<p>この行の意味は何でしょうか？ 3d58というのは、機械語が入っているメモリのアドレスです。つまり、<code class="notranslate">ls</code>コマンドが実行されるとき、この行の命令はメモリの0x3d58番地に置かれるようになっていて、プログラムカウンタが0x3d58のときにこの命令が実行されることになります。その次に続いている4つの16進数の数値は実際の機械語です。CPUはこのデータを読んで、それを命令として実行します。<code class="notranslate">sub rsp,0x8</code>というのは、その機械語命令に対応するアセンブリです。CPUの命令セットについては章を分けて説明しますが、この命令は、RSPというレジスタから8を引く（subtract = 引く）という命令です。</p>
<h2 id="cとそれに対応するアセンブラ"><a href="https://www.sigbus.info/compilerbook#c%E3%81%A8%E3%81%9D%E3%82%8C%E3%81%AB%E5%AF%BE%E5%BF%9C%E3%81%99%E3%82%8B%E3%82%A2%E3%82%BB%E3%83%B3%E3%83%96%E3%83%A9" style="text-decoration: none; color: inherit;">Cとそれに対応するアセンブラ</a></h2>
<h3 id="簡単な例"><a href="https://www.sigbus.info/compilerbook#%E7%B0%A1%E5%8D%98%E3%81%AA%E4%BE%8B" style="text-decoration: none; color: inherit;">簡単な例</a></h3>
<p>Cコンパイラがどのような出力を生成しているのかというイメージを掴むために、Cコードとそれに対応するアセンブリコードを比較してみましょう。最も簡単な例として次のCプログラムを考えてみます。</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode c notranslate"><code class="sourceCode c notranslate"><span id="cb6-1"><a href="https://www.sigbus.info/compilerbook#cb6-1"></a><span class="dt">int</span> main() {</span>
<span id="cb6-2"><a href="https://www.sigbus.info/compilerbook#cb6-2"></a>  <span class="cf">return</span> <span class="dv">42</span>;</span>
<span id="cb6-3"><a href="https://www.sigbus.info/compilerbook#cb6-3"></a>}</span></code></pre></div>
<p>このプログラムが書かれているファイルを<code class="notranslate">test1.c</code>とすると、次のようにしてコンパイルして、<code class="notranslate">main</code>が実際に42を返していることを確認することができます。</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode c notranslate"><code class="sourceCode c notranslate"><span id="cb7-1"><a href="https://www.sigbus.info/compilerbook#cb7-1"></a>$ cc -o test1 test1.c</span>
<span id="cb7-2"><a href="https://www.sigbus.info/compilerbook#cb7-2"></a>$ ./test1</span>
<span id="cb7-3"><a href="https://www.sigbus.info/compilerbook#cb7-3"></a>$ echo $?</span>
<span id="cb7-4"><a href="https://www.sigbus.info/compilerbook#cb7-4"></a><span class="dv">42</span></span></code></pre></div>
<p>Cでは<code class="notranslate">main</code>関数が返した値はプログラム全体としての終了コードになります。プログラムの終了コードは画面に表示されることはありませんが、暗黙のうちにシェルの<code class="notranslate">$?</code>という変数にセットされているので、コマンド終了直後に<code class="notranslate">$?</code>を<code class="notranslate">echo</code>で表示することで、そのコマンドの終了コードを見ることができます。ここでは正しく42が返されていることがわかります。</p>
<p>さて、このCプログラムに対応するアセンブリプログラムは次の通りです。</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode asm notranslate"><code class="sourceCode fasm notranslate"><span id="cb8-1"><a href="https://www.sigbus.info/compilerbook#cb8-1"></a>.intel_syntax noprefix</span>
<span id="cb8-2"><a href="https://www.sigbus.info/compilerbook#cb8-2"></a>.globl main</span>
<span id="cb8-3"><a href="https://www.sigbus.info/compilerbook#cb8-3"></a><span class="fu">main:</span></span>
<span id="cb8-4"><a href="https://www.sigbus.info/compilerbook#cb8-4"></a>        <span class="bu">mov</span> <span class="kw">rax</span>, <span class="dv">42</span></span>
<span id="cb8-5"><a href="https://www.sigbus.info/compilerbook#cb8-5"></a>        <span class="bu">ret</span></span></code></pre></div>
<p>このアセンブリでは、グローバルなラベル<code class="notranslate">main</code>が定義されていて、ラベルのあとに<code class="notranslate">main</code>関数のコードが続いています。ここでは42という値を、RAXというレジスタにセットし、<code class="notranslate">main</code>からリターンしています。整数を入れられるレジスタはRAXを含めて合計で16個あるのですが、関数からリターンしたときにRAXに入っている値が関数の返り値という約束になっているので、ここでは値をRAXにセットしています。</p>
<p>このアセンブリプログラムを実際にアセンブルして動かしてみましょう。アセンブリファイルの拡張子は<code class="notranslate">.s</code>なので、上のアセンブリコードを<code class="notranslate">test2.s</code>に記述して、次のコマンドを実行してみてください。</p>
<pre class="shell notranslate"><code class="notranslate">$ cc -o test2 test2.s
$ ./test2
$ echo $?
42</code></pre>
<p>Cのときと同じように42が終了コードになりました。</p>
<p>大雑把にいうと、Cコンパイラは、<code class="notranslate">test1.c</code>のようなCコードを読み込んだ時に、<code class="notranslate">test2.s</code>のようなアセンブリを出力するプログラムということになります。</p>
<h3 id="関数呼び出しを含む例"><a href="https://www.sigbus.info/compilerbook#%E9%96%A2%E6%95%B0%E5%91%BC%E3%81%B3%E5%87%BA%E3%81%97%E3%82%92%E5%90%AB%E3%82%80%E4%BE%8B" style="text-decoration: none; color: inherit;">関数呼び出しを含む例</a></h3>
<p>もう少し複雑な例として、関数呼び出しのあるコードがどのようなアセンブリに変換されるのかを見てみましょう。</p>
<p>関数呼び出しは単なるジャンプとは異なり、呼び出した関数が終了した後に、元々実行していた場所に戻ってこなければいけません。元々実行していたアドレスのことを「リターンアドレス」といいます。仮に関数呼び出しが1段しかなければ、リターンアドレスはCPUの適当なレジスタに保存しておけばよいのですが、関数呼び出しはいくらでも深くできるので、リターンアドレスはメモリに保存する必要があります。実際にはリターンアドレスはメモリ上の<span class="index" id="index12">スタック</span>に保存されます。</p>
<p>スタックは、スタックの一番上のアドレスを保持する1つの変数のみを使って実装することができます。そのスタックトップを保持している記憶領域のことを「スタックポインタ」といいます。x86-64は、関数を使ったプログラミングをサポートするために、スタックポインタ専用のレジスタと、そのレジスタを利用する命令をサポートしています。スタックにデータを積むことを「プッシュ」、スタックに積まれたデータを取り出すことを「ポップ」といいます。</p>
<p>さて、関数呼び出しの実例を見てみましょう。次のCコードを考えてみてください。</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode c notranslate"><code class="sourceCode c notranslate"><span id="cb10-1"><a href="https://www.sigbus.info/compilerbook#cb10-1"></a><span class="dt">int</span> plus(<span class="dt">int</span> x, <span class="dt">int</span> y) {</span>
<span id="cb10-2"><a href="https://www.sigbus.info/compilerbook#cb10-2"></a>  <span class="cf">return</span> x + y;</span>
<span id="cb10-3"><a href="https://www.sigbus.info/compilerbook#cb10-3"></a>}</span>
<span id="cb10-4"><a href="https://www.sigbus.info/compilerbook#cb10-4"></a></span>
<span id="cb10-5"><a href="https://www.sigbus.info/compilerbook#cb10-5"></a><span class="dt">int</span> main() {</span>
<span id="cb10-6"><a href="https://www.sigbus.info/compilerbook#cb10-6"></a>  <span class="cf">return</span> plus(<span class="dv">3</span>, <span class="dv">4</span>);</span>
<span id="cb10-7"><a href="https://www.sigbus.info/compilerbook#cb10-7"></a>}</span></code></pre></div>
<p>このCコードに対応するアセンブリは次のようになります。</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode asm notranslate"><code class="sourceCode fasm notranslate"><span id="cb11-1"><a href="https://www.sigbus.info/compilerbook#cb11-1"></a>.intel_syntax noprefix</span>
<span id="cb11-2"><a href="https://www.sigbus.info/compilerbook#cb11-2"></a>.globl plus, main</span>
<span id="cb11-3"><a href="https://www.sigbus.info/compilerbook#cb11-3"></a></span>
<span id="cb11-4"><a href="https://www.sigbus.info/compilerbook#cb11-4"></a><span class="fu">plus:</span></span>
<span id="cb11-5"><a href="https://www.sigbus.info/compilerbook#cb11-5"></a>        <span class="bu">add</span> <span class="kw">rsi</span>, <span class="kw">rdi</span></span>
<span id="cb11-6"><a href="https://www.sigbus.info/compilerbook#cb11-6"></a>        <span class="bu">mov</span> <span class="kw">rax</span>, <span class="kw">rsi</span></span>
<span id="cb11-7"><a href="https://www.sigbus.info/compilerbook#cb11-7"></a>        <span class="bu">ret</span></span>
<span id="cb11-8"><a href="https://www.sigbus.info/compilerbook#cb11-8"></a></span>
<span id="cb11-9"><a href="https://www.sigbus.info/compilerbook#cb11-9"></a><span class="fu">main:</span></span>
<span id="cb11-10"><a href="https://www.sigbus.info/compilerbook#cb11-10"></a>        <span class="bu">mov</span> <span class="kw">rdi</span>, <span class="dv">3</span></span>
<span id="cb11-11"><a href="https://www.sigbus.info/compilerbook#cb11-11"></a>        <span class="bu">mov</span> <span class="kw">rsi</span>, <span class="dv">4</span></span>
<span id="cb11-12"><a href="https://www.sigbus.info/compilerbook#cb11-12"></a>        <span class="bu">call</span> plus</span>
<span id="cb11-13"><a href="https://www.sigbus.info/compilerbook#cb11-13"></a>        <span class="bu">ret</span></span></code></pre></div>
<p>1行目はアセンブリの文法を指定する命令です。2行目の<code class="notranslate">.globl</code>から始まる行は、<code class="notranslate">plus</code>と<code class="notranslate">main</code>という2つの関数がファイルスコープではなくプログラム全体から見える関数だということをアセンブリに指示しています。これはさしあたり無視してかまいません。</p>
<p>まず<code class="notranslate">main</code>に着目してみてください。Cでは<code class="notranslate">main</code>から<code class="notranslate">plus</code>を引数つきで呼び出しています。アセンブラにおいては、第一引数はRDIレジスタ、第二引数はRSIレジスタに入れるという約束になっているので、<code class="notranslate">main</code>の最初の2行でそのとおりに値をセットしています。</p>
<p><code class="notranslate">call</code>というのは関数を呼び出す命令です。具体的に<code class="notranslate">call</code>は次のことを行います。</p>
<ul>
<li><code class="notranslate">call</code>の次の命令（この場合<code class="notranslate">ret</code>）のアドレスをスタックにプッシュ</li>
<li><code class="notranslate">call</code>の引数として与えられたアドレスにジャンプ</li>
</ul>
<p>したがって<code class="notranslate">call</code>命令が実行されると、CPUは<code class="notranslate">plus</code>関数を実行し始めることになります。</p>
<p><code class="notranslate">plus</code>関数に着目してください。<code class="notranslate">plus</code>関数には3つの命令があります。</p>
<p><code class="notranslate">add</code>は足し算を行う命令です。この場合には、RSIレジスタとRDIレジスタを足した結果がRSIレジスタに書き込まれます。x86-64の整数演算命令は通常2つのレジスタしか受け取らないので、第1引数のレジスタの値を上書きする形で結果が保存されることになります。</p>
<p>関数からの返り値はRAXに入れるということになってました。したがって足し算の結果はRAXに入れておきたいので、RSIからRAXに値をコピーする必要があります。ここでは<code class="notranslate">mov</code>命令を使ってそれを行なっています。<code class="notranslate">mov</code>はmoveの省略形ですが、実際にはデータを移動するわけではなく単にコピーする命令です。</p>
<p><code class="notranslate">plus</code>関数の最後では、<code class="notranslate">ret</code>を呼んで関数からリターンしています。具体的に<code class="notranslate">ret</code>は次のことを行います。</p>
<ul>
<li>スタックからアドレスを1つポップ</li>
<li>そのアドレスにジャンプ</li>
</ul>
<p>つまり<code class="notranslate">ret</code>は、<code class="notranslate">call</code>が行なったことを元に戻して、呼び出し元の関数の実行を再開する命令です。このように<code class="notranslate">call</code>と<code class="notranslate">ret</code>は対になる命令として定義されています。</p>
<p><code class="notranslate">plus</code>からリターンしたところにあるのは<code class="notranslate">main</code>の<code class="notranslate">ret</code>命令です。元のCコードでは<code class="notranslate">plus</code>の返り値をそのまま<code class="notranslate">main</code>から返すということになっていました。ここでは<code class="notranslate">plus</code>の返り値がRAXに入った状態になっているので、そのまま<code class="notranslate">main</code>からリターンすることで、それをそのまま<code class="notranslate">main</code>からの返り値にすることができます。</p>
<h2 id="本章のまとめ"><a href="https://www.sigbus.info/compilerbook#%E6%9C%AC%E7%AB%A0%E3%81%AE%E3%81%BE%E3%81%A8%E3%82%81" style="text-decoration: none; color: inherit;">本章のまとめ</a></h2>
<p>本章ではコンピュータが内部でどのように動いているのかということと、Cコンパイラが何をすればよいのかということについて、概要を説明しました。アセンブリや機械語を見ると、Cとはかけ離れた、ごちゃっとしたデータの塊のように見えますが、実際は意外とCの構造を素直に反映していると思った読者も多いのではないでしょうか。</p>
<p>まだ本書では具体的な機械語についてほとんど説明していないので、<code class="notranslate">objdump</code>で表示されたアセンブリコードの個別の命令の意味はわからないと思いますが、1つ1つの命令は大したことをしていないということが想像できると思います。本章の段階ではそういう感覚が掴めるだけで十分です。</p>
<p>本章のポイントを箇条書きで下にまとめます。</p>
<ul>
<li>CPUはメモリを読み書きすることでプログラムの実行を進めていく</li>
<li>CPUが実行するプログラムと、そのプログラムが扱うデータは、どちらもメモリに入っていて、CPUはメモリから順に機械語命令を読み、その命令を実行する</li>
<li>CPUにはレジスタという小さな記憶領域があり、多くの機械語はレジスタ間での操作として定義されている</li>
<li>アセンブリは機械語を人間にとって読みやすくした言語で、Cコンパイラは普通はアセンブリを出力する</li>
<li>Cの関数はアセンブリでも関数になる</li>
<li>関数呼び出しはスタックを使って実装されている</li>
</ul>
<div class="note">
<p>コラム: オンライン・コンパイラ</p>
<p>Cコードとそのコンパイル結果を眺めてみるのはアセンブリ言語を覚えるためのよい方法ですが、何度もソースコードを編集してコンパイルし、その出力のアセンブリを確認するのは、意外と面倒なものです。その手間を削減できる大変良いウェブサイトがあります。それが<a href="https://godbolt.org/z/RyNqgE">Compiler Explorer</a>（通称godbolt）です。Compiler Explorerで画面の左半分のテキストボックスにコードを入力すると、右半分にそれに対応するアセンブリ出力がリアルタイムに表示されます。Cコードがどのようなアセンブリに変換されるのか確認したいときはこのサイトを使うのがよいでしょう。</p>
</div>
<hr>
<h1 id="電卓レベルの言語の作成"><a href="https://www.sigbus.info/compilerbook#%E9%9B%BB%E5%8D%93%E3%83%AC%E3%83%99%E3%83%AB%E3%81%AE%E8%A8%80%E8%AA%9E%E3%81%AE%E4%BD%9C%E6%88%90" style="text-decoration: none; color: inherit;">電卓レベルの言語の作成</a></h1>
<p>この章では、Cコンパイラ作成の最初のステップとして、四則演算やそのほかの算術演算子をサポートして、次のような式をコンパイルできるようにします。</p>
<pre class="notranslate"><code class="notranslate">30 + (4 - 2) * -5</code></pre>
<p>これは他愛もない目標のようですが、実は結構難しい目標です。数式には、カッコの中の式が優先されるとか、掛け算が足し算より優先されるといった構造があって、それを何らかの方法で理解しなければ正しく計算を行うことはできません。しかし、入力として与えられる数式はただのフラットな文字の列であって、構造化されたデータではありません。式を正しく評価するためには、文字の並びを解析して、そこに隠れた構造をうまく導き出す必要があります。</p>
<p>こういった構文解析の問題は、何の前提知識もなしに解こうとすると相当大変です。実際、こういった問題は昔は難しい問題だと考えられていて、特に1950年代から1970年代にかけて精力的に研究が行われて、いろいろなアルゴリズムが開発されてきました。その成果のおかげで、今では構文解析は、やり方さえ分かっていればさほど難しい問題ではなくなっています。</p>
<p>この章では、構文解析の最も一般的なアルゴリズムの一つである「<span class="index" id="index13">再帰下降構文解析法</span>」（recursive descent parsing）を説明します。GCCやClangなど、みなさんが日常的に使っているC/C++コンパイラも、再帰下降構文解析法を使っています。</p>
<p>コンパイラに限らず、何らかの構造のあるテキストを読むというニーズは、プログラミングをしているとよくでてきます。この章で学ぶテクニックはそういった問題にもそのまま使うことができます。この章で学ぶ構文解析の手法は、大げさではなく一生物のテクニックといってよいでしょう。この章を読んでアルゴリズムを理解して、自分のプログラマとしての道具箱に構文解析の技を入れておきましょう。</p>
<h2 id="ステップ1整数1個をコンパイルする言語の作成"><a href="https://www.sigbus.info/compilerbook#%E3%82%B9%E3%83%86%E3%83%83%E3%83%971%E6%95%B4%E6%95%B01%E5%80%8B%E3%82%92%E3%82%B3%E3%83%B3%E3%83%91%E3%82%A4%E3%83%AB%E3%81%99%E3%82%8B%E8%A8%80%E8%AA%9E%E3%81%AE%E4%BD%9C%E6%88%90" style="text-decoration: none; color: inherit;">ステップ1：整数1個をコンパイルする言語の作成</a></h2>
<p>最もシンプルなC言語のサブセットを考えてみてください。読者の皆さんはどういう言語を想像するでしょうか？ <code class="notranslate">main</code>関数しかない言語でしょうか。あるいは式1つだけからなる言語でしょうか。突き詰めて考えると、整数1つだけからなる言語というものが、考えうる限り最も簡単なサブセットだといってよいと思います。</p>
<p>このステップではまずその最も簡単な言語を実装することにしましょう。</p>
<p>このステップで作成するプログラムは、1個の数を入力から読んで、その数をプログラムの終了コードとして終了するアセンブリを出力するコンパイラです。つまり入力は単に<code class="notranslate">42</code>のような文字列で、それを読むと次のようなアセンブリを出力するコンパイラを作成します。</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode asm notranslate"><code class="sourceCode fasm notranslate"><span id="cb13-1"><a href="https://www.sigbus.info/compilerbook#cb13-1"></a>.intel_syntax noprefix</span>
<span id="cb13-2"><a href="https://www.sigbus.info/compilerbook#cb13-2"></a>.globl main</span>
<span id="cb13-3"><a href="https://www.sigbus.info/compilerbook#cb13-3"></a></span>
<span id="cb13-4"><a href="https://www.sigbus.info/compilerbook#cb13-4"></a><span class="fu">main:</span></span>
<span id="cb13-5"><a href="https://www.sigbus.info/compilerbook#cb13-5"></a>        <span class="bu">mov</span> <span class="kw">rax</span>, <span class="dv">42</span></span>
<span id="cb13-6"><a href="https://www.sigbus.info/compilerbook#cb13-6"></a>        <span class="bu">ret</span></span></code></pre></div>
<p><code class="notranslate">.intel_syntax noprefix</code>というのは、複数あるアセンブリの書き方のなかで、本書で使っているIntel記法という記法を選ぶためのアセンブラコマンドです。今回作成するコンパイラでは必ず冒頭にこの行をお約束として入れるようにしてください。それ以外の行は、前章で説明した通りです。</p>
<p>読者はここで、「こんなプログラムはコンパイラとは言えない」と思うかもしれません。筆者も正直そう思います。しかし、このプログラムは、数値1つからなる言語を入力として受け付けて、その数値に対応したコードを出力するというもので、それは定義から言うと立派なコンパイラです。このような簡単なプログラムも、改造していくとすぐにかなり難しいことができるようになるので、まずはこのステップを完了してみましょう。</p>
<p>実はこのステップは、開発全体の手順からみてみるととても重要です。このステップで作るものをスケルトンとして使って今後開発を進めていくからです。このステップでは、コンパイラ本体の作成に加えて、ビルドファイル（Makefile）、自動テストの作成、gitリポジトリのセットアップも行います。それらの作業について1つ1つ見ていきましょう。</p>
<p>なお、本書で作るCコンパイラは9ccという名前です。ccというのはC compilerの略称です。9という数字に特に意味はないのですが、筆者の以前につくったCコンパイラが8ccという名前なので、それの次の作品ということで9ccという名前にしました。もちろんみなさんは好きな名前をつけてもらってかまいません。ただし、事前に名前を考えすぎてコンパイラ作成が始められないということはないようにしましょう。GitHubのリポジトリも含め、名前は後から変えられるので、適当な名前で始めて問題ありません。</p>
<div class="note">
<p>コラム: Intel記法とAT&amp;T記法</p>
<p>本書で使用している<span class="index" id="index14">Intel記法</span>の他に、<span class="index" id="index15">AT&amp;T記法</span>というアセンブラの記法もUnixを中心に広く使われています。gccやobjdumpはデフォルトではAT&amp;T記法でアセンブリを出力します。</p>
<p>AT&amp;T記法では結果レジスタが第2引数に来ます。したがって2引数の命令では引数を逆順に書くことになります。レジスタ名には<code class="notranslate">%</code>プレフィックスをつけて<code class="notranslate">%rax</code>というように書きます。数値には<code class="notranslate">$</code>プレフィックスをつけて<code class="notranslate">$42</code>というように記述します。</p>
<p>また、メモリを参照する場合、<code class="notranslate">[]</code>の代わりに<code class="notranslate">()</code>を使って、独特の記法で式を記述します。以下にいくつか対比のために例を示します。</p>
<pre class="notranslate"><code class="notranslate">mov rbp, rsp   // Intel
mov %rsp, %rbp // AT&amp;T

mov rax, 8     // Intel
mov $8, %rax   // AT&amp;T

mov [rbp + rcx * 4 - 8], rax // Intel
mov %rax, -8(rbp, rcx, 4)    // AT&amp;T</code></pre>
<p>今回作るコンパイラでは読みやすさを考慮してIntel記法を使うことにしました。Intelの命令セットマニュアルではIntel記法が使われているので、マニュアルの記述をそのままコードに書けるという利点もあります。表現力はAT&amp;T記法もIntel記法も同じです。どちらの記法を使っても、生成される機械語命令列は同一です。</p>
</div>
<h4 id="コンパイラ本体の作成"><a href="https://www.sigbus.info/compilerbook#%E3%82%B3%E3%83%B3%E3%83%91%E3%82%A4%E3%83%A9%E6%9C%AC%E4%BD%93%E3%81%AE%E4%BD%9C%E6%88%90" style="text-decoration: none; color: inherit;">コンパイラ本体の作成</a></h4>
<p>コンパイラには通常はファイルとして入力を与えますが、ここではファイルをオープンして読むのが面倒なので、コマンドの第1引数に直接コードを与えることにします。第1引数を数値として読み込んで、定型文のアセンブリの中に埋め込むCプログラムは、次のように簡単に書くことができます。</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode c notranslate"><code class="sourceCode c notranslate"><span id="cb15-1"><a href="https://www.sigbus.info/compilerbook#cb15-1"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></span>
<span id="cb15-2"><a href="https://www.sigbus.info/compilerbook#cb15-2"></a><span class="pp">#include </span><span class="im">&lt;stdlib.h&gt;</span></span>
<span id="cb15-3"><a href="https://www.sigbus.info/compilerbook#cb15-3"></a></span>
<span id="cb15-4"><a href="https://www.sigbus.info/compilerbook#cb15-4"></a><span class="dt">int</span> main(<span class="dt">int</span> argc, <span class="dt">char</span> **argv) {</span>
<span id="cb15-5"><a href="https://www.sigbus.info/compilerbook#cb15-5"></a>  <span class="cf">if</span> (argc != <span class="dv">2</span>) {</span>
<span id="cb15-6"><a href="https://www.sigbus.info/compilerbook#cb15-6"></a>    fprintf(stderr, <span class="st">"引数の個数が正しくありません</span><span class="sc">\n</span><span class="st">"</span>);</span>
<span id="cb15-7"><a href="https://www.sigbus.info/compilerbook#cb15-7"></a>    <span class="cf">return</span> <span class="dv">1</span>;</span>
<span id="cb15-8"><a href="https://www.sigbus.info/compilerbook#cb15-8"></a>  }</span>
<span id="cb15-9"><a href="https://www.sigbus.info/compilerbook#cb15-9"></a></span>
<span id="cb15-10"><a href="https://www.sigbus.info/compilerbook#cb15-10"></a>  printf(<span class="st">".intel_syntax noprefix</span><span class="sc">\n</span><span class="st">"</span>);</span>
<span id="cb15-11"><a href="https://www.sigbus.info/compilerbook#cb15-11"></a>  printf(<span class="st">".globl main</span><span class="sc">\n</span><span class="st">"</span>);</span>
<span id="cb15-12"><a href="https://www.sigbus.info/compilerbook#cb15-12"></a>  printf(<span class="st">"main:</span><span class="sc">\n</span><span class="st">"</span>);</span>
<span id="cb15-13"><a href="https://www.sigbus.info/compilerbook#cb15-13"></a>  printf(<span class="st">"  mov rax, %d</span><span class="sc">\n</span><span class="st">"</span>, atoi(argv[<span class="dv">1</span>]));</span>
<span id="cb15-14"><a href="https://www.sigbus.info/compilerbook#cb15-14"></a>  printf(<span class="st">"  ret</span><span class="sc">\n</span><span class="st">"</span>);</span>
<span id="cb15-15"><a href="https://www.sigbus.info/compilerbook#cb15-15"></a>  <span class="cf">return</span> <span class="dv">0</span>;</span>
<span id="cb15-16"><a href="https://www.sigbus.info/compilerbook#cb15-16"></a>}</span></code></pre></div>
<p><code class="notranslate">9cc</code>という空のディレクトリを作って、その中に<code class="notranslate">9cc.c</code>というファイルを上記の内容で作成します。そのあと下のように9ccを実行して動作を確認してみましょう。</p>
<pre class="shell notranslate"><code class="notranslate">$ cc -o 9cc 9cc.c
$ ./9cc 123 &gt; tmp.s</code></pre>
<p>1行目で<code class="notranslate">9cc.c</code>をコンパイルして<code class="notranslate">9cc</code>という実行ファイルを作成しています。2行目では<code class="notranslate">123</code>という入力を9ccに渡してアセンブリを生成し、それを<code class="notranslate">tmp.s</code>というファイルに書き込んでいます。<code class="notranslate">tmp.s</code>の内容を確認してみましょう。</p>
<pre class="shell notranslate"><code class="notranslate">$ cat tmp.s
.intel_syntax noprefix
.globl main
main:
  mov rax, 123
  ret</code></pre>
<p>見ての通りうまく生成されていますね。こうしてできたアセンブリファイルをアセンブラに渡すと実行ファイルを作成することができます。</p>
<p>Unixにおいては<code class="notranslate">cc</code>（あるいは<code class="notranslate">gcc</code>）は、CやC++だけではなく多くの言語のフロントエンドということになっていて、与えられたファイルの拡張子で言語を判定してコンパイラやアセンブラを起動するということになっています。したがってここでは9ccをコンパイルしたときと同じように、<code class="notranslate">.s</code>という拡張子のアセンブラファイルを<code class="notranslate">cc</code>に渡すと、アセンブルをすることができます。以下はアセンブルを行い、生成された実行ファイルを実行してみた例です。</p>
<pre class="shell notranslate"><code class="notranslate">$ cc -o tmp tmp.s
$ ./tmp
$ echo $?
123</code></pre>
<p>シェルでは直前のコマンドの終了コードが<code class="notranslate">$?</code>という変数でアクセスできるのでした。上の例では、9ccに与えた引数と同じ123という数字が表示されています。つまりうまく動いているということです。0〜255の範囲の123以外の数を与えてみて（Unixのプロセス終了コードは0〜255ということになっています）、実際に9ccがうまく動くことを確認してみてください。</p>
<h4 id="自動テストの作成"><a href="https://www.sigbus.info/compilerbook#%E8%87%AA%E5%8B%95%E3%83%86%E3%82%B9%E3%83%88%E3%81%AE%E4%BD%9C%E6%88%90" style="text-decoration: none; color: inherit;">自動テストの作成</a></h4>
<p>趣味のプログラミングでテストを書いたことがない読者も多いと思いますが、本書ではコンパイラを拡張するたびに、新しいコードをテストするコードを書くことにします。テストを書くのは最初は面倒に感じるかもしれませんが、すぐにテストのありがたみがわかるようになるはずです。テストコードを書かなかった場合、結局は同じようなテストを手で毎回実行して動作確認をするしかないわけですが、手でやるほうがずっと面倒です。</p>
<p>テストを書くのが面倒だという印象の多くの部分は、テストフレームワークが大げさであったり、テストの思想が時に教条的であるところからきていると思います。例えばJUnitのようなテストのフレームワークはいろいろな便利な機能を持っていますが、導入するのにも使い方を覚えるのにも手間がかかります。したがってこの章ではそういったテストフレームワークを導入することはしません。その代わりに、手書きのとても簡単な「テストフレームワーク」をシェルスクリプトで書いて、それを使ってテストを書くことにします。</p>
<p>以下にテスト用のシェルスクリプト<code class="notranslate">test.sh</code>を示します。シェル関数<code class="notranslate">assert</code>は、入力の値と、期待される出力の値という2つの引数を受け取って、実際に9ccの結果をアセンブルし、実際の結果を期待されている値と比較するということを行います。シェルスクリプトでは、<code class="notranslate">assert</code>関数を定義した後に、それを使って0と42がどちらも正しくコンパイルできることを確認しています。</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode bash notranslate"><code class="sourceCode bash notranslate"><span id="cb19-1"><a href="https://www.sigbus.info/compilerbook#cb19-1"></a><span class="co">#!/bin/bash</span></span>
<span id="cb19-2"><a href="https://www.sigbus.info/compilerbook#cb19-2"></a><span class="fu">assert()</span> <span class="kw">{</span></span>
<span id="cb19-3"><a href="https://www.sigbus.info/compilerbook#cb19-3"></a>  <span class="va">expected=</span><span class="st">"</span><span class="va">$1</span><span class="st">"</span></span>
<span id="cb19-4"><a href="https://www.sigbus.info/compilerbook#cb19-4"></a>  <span class="va">input=</span><span class="st">"</span><span class="va">$2</span><span class="st">"</span></span>
<span id="cb19-5"><a href="https://www.sigbus.info/compilerbook#cb19-5"></a></span>
<span id="cb19-6"><a href="https://www.sigbus.info/compilerbook#cb19-6"></a>  <span class="ex">./9cc</span> <span class="st">"</span><span class="va">$input</span><span class="st">"</span> <span class="op">&gt;</span> tmp.s</span>
<span id="cb19-7"><a href="https://www.sigbus.info/compilerbook#cb19-7"></a>  <span class="fu">cc</span> -o tmp tmp.s</span>
<span id="cb19-8"><a href="https://www.sigbus.info/compilerbook#cb19-8"></a>  <span class="ex">./tmp</span></span>
<span id="cb19-9"><a href="https://www.sigbus.info/compilerbook#cb19-9"></a>  <span class="va">actual=</span><span class="st">"</span><span class="va">$?</span><span class="st">"</span></span>
<span id="cb19-10"><a href="https://www.sigbus.info/compilerbook#cb19-10"></a></span>
<span id="cb19-11"><a href="https://www.sigbus.info/compilerbook#cb19-11"></a>  <span class="kw">if</span><span class="bu"> [</span> <span class="st">"</span><span class="va">$actual</span><span class="st">"</span> <span class="ot">=</span> <span class="st">"</span><span class="va">$expected</span><span class="st">"</span><span class="bu"> ]</span>; <span class="kw">then</span></span>
<span id="cb19-12"><a href="https://www.sigbus.info/compilerbook#cb19-12"></a>    <span class="bu">echo</span> <span class="st">"</span><span class="va">$input</span><span class="st"> =&gt; </span><span class="va">$actual</span><span class="st">"</span></span>
<span id="cb19-13"><a href="https://www.sigbus.info/compilerbook#cb19-13"></a>  <span class="kw">else</span></span>
<span id="cb19-14"><a href="https://www.sigbus.info/compilerbook#cb19-14"></a>    <span class="bu">echo</span> <span class="st">"</span><span class="va">$input</span><span class="st"> =&gt; </span><span class="va">$expected</span><span class="st"> expected, but got </span><span class="va">$actual</span><span class="st">"</span></span>
<span id="cb19-15"><a href="https://www.sigbus.info/compilerbook#cb19-15"></a>    <span class="bu">exit</span> 1</span>
<span id="cb19-16"><a href="https://www.sigbus.info/compilerbook#cb19-16"></a>  <span class="kw">fi</span></span>
<span id="cb19-17"><a href="https://www.sigbus.info/compilerbook#cb19-17"></a><span class="kw">}</span></span>
<span id="cb19-18"><a href="https://www.sigbus.info/compilerbook#cb19-18"></a></span>
<span id="cb19-19"><a href="https://www.sigbus.info/compilerbook#cb19-19"></a><span class="ex">assert</span> 0 0</span>
<span id="cb19-20"><a href="https://www.sigbus.info/compilerbook#cb19-20"></a><span class="ex">assert</span> 42 42</span>
<span id="cb19-21"><a href="https://www.sigbus.info/compilerbook#cb19-21"></a></span>
<span id="cb19-22"><a href="https://www.sigbus.info/compilerbook#cb19-22"></a><span class="bu">echo</span> OK</span></code></pre></div>
<p>上記の内容で<code class="notranslate">test.sh</code>を作成し、<code class="notranslate">chmod a+x test.sh</code>を実行して実行可能にしてください。実際に<code class="notranslate">test.sh</code>を走らせてみましょう。何もエラーが起きなければ、以下のように<code class="notranslate">test.sh</code>は最後に<code class="notranslate">OK</code>を表示して終了します。</p>
<pre class="shell notranslate"><code class="notranslate">$ ./test.sh
0 =&gt; 0
42 =&gt; 42
OK</code></pre>
<p>もしエラーが起きれば、<code class="notranslate">test.sh</code>は<code class="notranslate">OK</code>を表示しません。その代わりに<code class="notranslate">test.sh</code>は、失敗したテストで想定されていた値と実際の値を以下のように表示します。</p>
<pre class="shell notranslate"><code class="notranslate">$ ./test.sh
0 =&gt; 0
42 expected, but got 123</code></pre>
<p>テストスクリプトをデバグしたいときは、bashに<code class="notranslate">-x</code>というオプションを与えてスクリプトを実行してください。<code class="notranslate">-x</code>オプションをつけると、bashは以下のように実行のトレースを表示します。</p>
<pre class="notranslate"><code class="notranslate">$ bash -x test.sh
+ assert 0 0
+ expected=0
+ input=0
+ cc -o 9cc 9cc.c
+ ./9cc 0
+ cc -o tmp tmp.s
+ ./tmp
+ actual=0
+ '[' 0 '!=' 0 ']'
+ assert 42 42
+ expected=42
+ input=42
+ cc -o 9cc 9cc.c
+ ./9cc 42
+ cc -o tmp tmp.s
+ ./tmp
+ actual=42
+ '[' 42 '!=' 42 ']'
+ echo OK
OK</code></pre>
<p>我々が本書を通して使う「テストフレームワーク」は、単なる上記のようなシェルスクリプトです。このスクリプトはJUnitなどの本格的なテストフレームワークとくらべて簡単すぎるように見えるかもしれませんが、このシェルスクリプトの簡単さは、9cc自身の簡単さとバランスが取れているので、これくらい簡単なほうが望ましいのです。自動テストというものは、要は自分の書いたコードを一発で動かして結果を機械的に比較できればよいだけなので、難しく考えすぎず、まずはテストを行うことが大切なのです。</p>
<h4 id="makeによるビルド"><a href="https://www.sigbus.info/compilerbook#make%E3%81%AB%E3%82%88%E3%82%8B%E3%83%93%E3%83%AB%E3%83%89" style="text-decoration: none; color: inherit;">makeによるビルド</a></h4>
<p>本書を通して読者のみなさんは9ccを何百回、あるいは何千回もビルドすることになるでしょう。9ccの実行ファイルを作成して、その後にテストスクリプトを走らせる作業は毎回同じなので、ツールに任せると便利です。こうした用途で標準的に使われているのが<span class="index" id="index16"><code class="notranslate">make</code></span>コマンドです。</p>
<p>makeは、実行されるとカレントディレクトリの<span class="index" id="index17"><code class="notranslate">Makefile</code></span>という名前のファイルを読み込んで、そこに書かれているコマンドを実行します。<code class="notranslate">Makefile</code>は、コロンで終わるルールと、そのルールのためのコマンドの列という構成になっています。次の<code class="notranslate">Makefile</code>はこのステップで実行したいコマンドを自動化するためのものです。</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode makefile notranslate"><code class="sourceCode makefile notranslate"><span id="cb23-1"><a href="https://www.sigbus.info/compilerbook#cb23-1"></a><span class="dt">CFLAGS=-std</span><span class="ch">=</span><span class="st">c11 -g -static</span></span>
<span id="cb23-2"><a href="https://www.sigbus.info/compilerbook#cb23-2"></a></span>
<span id="cb23-3"><a href="https://www.sigbus.info/compilerbook#cb23-3"></a><span class="dv">9cc:</span><span class="dt"> 9cc.c</span></span>
<span id="cb23-4"><a href="https://www.sigbus.info/compilerbook#cb23-4"></a></span>
<span id="cb23-5"><a href="https://www.sigbus.info/compilerbook#cb23-5"></a><span class="dv">test:</span><span class="dt"> 9cc</span></span>
<span id="cb23-6"><a href="https://www.sigbus.info/compilerbook#cb23-6"></a>        ./test.sh</span>
<span id="cb23-7"><a href="https://www.sigbus.info/compilerbook#cb23-7"></a></span>
<span id="cb23-8"><a href="https://www.sigbus.info/compilerbook#cb23-8"></a><span class="dv">clean:</span></span>
<span id="cb23-9"><a href="https://www.sigbus.info/compilerbook#cb23-9"></a>        rm -f 9cc *.o *~ tmp*</span>
<span id="cb23-10"><a href="https://www.sigbus.info/compilerbook#cb23-10"></a></span>
<span id="cb23-11"><a href="https://www.sigbus.info/compilerbook#cb23-11"></a><span class="ot">.PHONY:</span><span class="dt"> test clean</span></span></code></pre></div>
<p>上記のファイルを、<code class="notranslate">9cc.c</code>があるのと同じディレクトリに<code class="notranslate">Makefile</code>というファイル名で作成してください。そうすると、<code class="notranslate">make</code>を実行するだけで9ccが作成され、<code class="notranslate">make test</code>を実行するとテストを実行する、ということができるようになります。makeはファイルの依存関係を理解できるので、<code class="notranslate">9cc.c</code>を変更した後、<code class="notranslate">make test</code>を実行する前に、<code class="notranslate">make</code>を実行する必要はありません。9ccという実行ファイルが9cc.cより古い場合に限り、makeは、テストを実行するより前に9ccをビルドしてくれます。</p>
<p><code class="notranslate">make clean</code>というのはテンポラリなファイルを消すルールです。テンポラリファイルは手で<code class="notranslate">rm</code>してもよいのですが、消したくないファイルを誤って消してしまうと面倒なので、こういったユーティリティ的なものも<code class="notranslate">Makefile</code>に書くことにしています。</p>
<p>なお、<code class="notranslate">Makefile</code>を記述する際の注意点ですが、<code class="notranslate">Makefile</code>のインデントはタブ文字でなければいけません。スペース4個や8個ではエラーになります。これは単に使い勝手の悪い文法なだけなのですが、makeは1970年代に開発された古いツールで、伝統的にこうなってしまっています。</p>
<p><code class="notranslate">cc</code>には必ず<code class="notranslate">-static</code>というオプションを渡すようにしてください。このオプションは<a href="https://www.sigbus.info/compilerbook#dynamic-linking">ダイナミックリンク</a>という章で説明します。このオプションの意味について今は特に考える必要はありません。</p>
<h4 id="gitによるバージョン管理"><a href="https://www.sigbus.info/compilerbook#git%E3%81%AB%E3%82%88%E3%82%8B%E3%83%90%E3%83%BC%E3%82%B8%E3%83%A7%E3%83%B3%E7%AE%A1%E7%90%86" style="text-decoration: none; color: inherit;">gitによるバージョン管理</a></h4>
<p>本書ではバージョン管理システムとして<span class="index" id="index18">git</span>を使います。本書を通してコンパイラをステップ・バイ・ステップで作っていくわけですが、そのステップごとに、gitのコミットを作って、コミットメッセージを書くようにしてください。コミットメッセージは日本語で構わないので、実際に何を変更したのかを1行サマリーとしてまとめるようにしてください。1行以上の詳細な説明を書きたいときは、最初の行の次に1行空行を開けて、そのあとに説明を書くようにします。</p>
<p>gitでバージョン管理を行うのはみなさんが手で生成したファイルだけです。9ccを動かした結果として生成されるファイルなどは、同じコマンドを実行すればもう一度生成できるので、バージョン管理対象には入れる必要はありません。むしろ、こういったファイルを入れてしまうとコミットごとの変更点が不必要に長くなるので、バージョン管理から外して、リポジトリに入れないようにする必要があります。</p>
<p>gitでは<span class="index" id="index19"><code class="notranslate">.gitignore</code></span>というファイルに、バージョン管理から外すファイルのパターンを書くことができます。<code class="notranslate">9cc.c</code>があるのと同じディレクトリに、以下の内容で<code class="notranslate">.gitignore</code>を作成して、テンポラリファイルやエディタのバックアップファイルなどをgitが無視するように設定しておきましょう。</p>
<pre class="notranslate"><code class="notranslate">*~
*.o
tmp*
a.out
9cc</code></pre>
<p>gitを使うのが初めてという人は、gitに名前とメールアドレスを教えておきましょう。ここでgitに教えた名前とメールアドレスがコミットログに記録されます。下は筆者の名前とメールアドレスを設定する例です。読者の皆さんは自分の名前とメールアドレスを設定してください。</p>
<pre class="shell notranslate"><code class="notranslate">$ git config --global user.name "Rui Ueyama"
$ git config --global user.email "ruiu@cs.stanford.edu"</code></pre>
<p>gitでコミットを作るためには、まず変更があったファイルを<code class="notranslate">git add</code>で追加する必要があります。今回は初回のコミットなので、まず<code class="notranslate">git init</code>でgitリポジトリを作成し、その後に、ここまでで作成したすべてのファイルを<code class="notranslate">git add</code>で追加します。</p>
<pre class="shell notranslate"><code class="notranslate">$ git init
Initialized empty Git repository in /home/ruiu/9cc
$ git add 9cc.c test.sh Makefile .gitignore</code></pre>
<p>そのあと<code class="notranslate">git commit</code>でコミットします。</p>
<pre class="shell notranslate"><code class="notranslate">$ git commit -m "整数1つをコンパイルするコンパイラを作成"</code></pre>
<p><code class="notranslate">-m</code>オプションでコミットメッセージを指定します。<code class="notranslate">-m</code>オプションがない場合、<code class="notranslate">git</code>はエディタを起動します。コミットがうまくいったことは以下のように<code class="notranslate">git log -p</code>を実行すると確認することができます。</p>
<pre class="shell notranslate"><code class="notranslate">$ git log -p
commit 0942e68a98a048503eadfee46add3b8b9c7ae8b1 (HEAD -&gt; master)
Author: Rui Ueyama &lt;ruiu@cs.stanford.edu&gt;
Date:   Sat Aug 4 23:12:31 2018 +0000

    整数1つをコンパイルするコンパイラを作成

diff --git a/9cc.c b/9cc.c
new file mode 100644
index 0000000..e6e4599
--- /dev/null
+++ b/9cc.c
@@ -0,0 +1,16 @@
+#include &lt;stdio.h&gt;
+#include &lt;stdlib.h&gt;
+
+int main(int argc, char **argv) {
+  if (argc != 2) {
...</code></pre>
<p>最後に、ここまでで作成したgitリポジトリを<span class="index" id="index20">GitHub</span>にアップロードしておきましょう。特にGitHubにアップロードする積極的な理由はないのですが、アップロードしない理由もないですし、GitHubはコードのバックアップとしても役に立ちます。GitHubにアップロードするためには、新規のリポジトリを作って（この例では<code class="notranslate">rui314</code>というユーザを使って<code class="notranslate">9cc</code>というリポジトリを作成しました）、次のコマンドでそのリポジトリをリモートリポジトリとして追加します。</p>
<pre class="shell notranslate"><code class="notranslate">$ git remote add origin git@github.com:rui314/9cc.git</code></pre>
<p>その後、<code class="notranslate">git push</code>を実行すると、手元のリポジトリの内容がGitHubにプッシュされます。<code class="notranslate">git push</code>を実行した後、GitHubをブラウザで開いて、自分のソースコードがアップロードされていることを確認してみてください。</p>
<p>これで第1ステップのコンパイラの作成は完了です。このステップのコンパイラは、コンパイラと呼ぶには簡単すぎるようなプログラムですが、コンパイラに必要な要素をすべて含んだ立派なプログラムです。これから我々はこのコンパイラをひたすら機能拡張していって、まだ信じられないかもしれませんが、立派なCコンパイラに育て上げることになります。まずは最初のステップが完成したことを味わってください。</p>
<div class="invisible">
<p>「よいデザイン」のコンパイラをお手本にするリスク</p>
<p>コンパイラの世界にはGCCやLLVMといった定評のあるオープンソースのプログラムが存在します。そういったプログラムは、優れたクオリティのコードを効率的に出力することのできる「よいデザイン」に基づいて作られていると考えられています。自作コンパイラを作るときに、そういったコンパイラの内部構成をお手本にしようというのは 自然な考え方でしょう。</p>
<p>そういった既存の大規模なコンパイラをお手本に自作コンパイラを作ろうとすると、まずLLVMのような汎用的な中間言語をデザインして、その中間言語を扱うフロントエンドとバックエンドを作成することになります。また、コンパイラの最適化をよく勉強している人であれば、SSAといった中間形式やSSAを前提にした最適化パスなども加えようとするでしょう。いろいろなベストプラクティスを組み合わせた「僕の考えた最強のコンパイラ」を構想してみるのは楽しいものです。</p>
<p>しかし、大規模コンパイラと同じような「よいデザイン」の構想を先に完成させて、それから実装に取り掛かるという開発スタイルは、実際にはほとんどうまくいきません。</p>
<p>大規模なコンパイラは、最初から抽象化されたよいデザインに基づいて作られたわけではありません。最初はアドホックなところがたくさんあった状態から、だんだん進化を遂げていまの形になっているだけです。完成形だけをみてそれを真似するというのは</p>
</div>
<div class="invisible">
<p>コンピュータの記憶階層と経済性</p>
<p>プログラムを書いていると、ストレージについて、あらゆるところにサイズと速度のトレードオフがあることに気がつくと思います。レジスタは数百バイトしかないストレージですが、ディレイなしでCPUの内部からアクセスできます。DRAMから構成されるメインメモリでは、CPUからのアクセスに100クロック以上かかりますが、数GiBというサイズを確保することができます。レジスタとDRAMの間にはCPUのチップ内に実装されたキャッシュがあり、L1、L2、L3という階層ごとに、小さくて速いメモリから、比較的大きくて遅いメモリまでが用意されています。</p>
<p>このようなストレージの速度と容量のトレードオフはCPUやメインメモリに限りません。SSDはDRAMより大容量で1000倍くらい遅いストレージです。HDDはSSDより大きくてより遅いストレージです。DropboxやGoogle Driveのようなインターネットのストレージは、HDDよりもずっと大きくなることができて、そしてアクセスにはさらに時間がかかります。</p>
<p>なぜストレージには、速いものは容量が小さくて、遅いものは容量が大きいという一般的な法則があるのでしょうか？</p>
<p>一つの理由は、ストレージの種類によっては、容量と速度がトレードオフの関係にあることです。例えばレジスタは増やせば増やすほど良さそうですが、レジスタを増やすと回路規模が増大して、他の機能につかえるシリコンが減ってしまします。また、レジスタの数を増やした分だけ命令セットのレジスタを指定するビットの幅も増やさなければならないので、命令が長くなり、命令キャッシュの利用効率が悪くなります。レジスタを増やすことによる速度向上はある程度以上ではほとんど効果がなくなるので、多ければよいというものでもありません。</p>
<p>SSDやHDDのような外部ストレージについては、実際に、速くて容量が大きいストレージや、遅くて容量が小さいストレージというものは存在します。ただし、速くて大容量のストレージが登場すると、それより劣るテクノロジは市場から駆逐されてしまいますし、同様に遅くて小容量のストレージは作る意味がないので、市場に出回っているテクノロジには、小容量で速いものと、大容量で遅いものしか存在していないのです。コンピュータの博物館にいくと、コアメモリや水銀遅延菅といった、現在主流のメモリ技術と比べると小容量で低速なメモリの実物を見ることができます。</p>
<p>最も速くて最も大容量の不揮発性のストレージがあれば、それが究極の単一のメモリ技術になり得ますが、残念ながらそういったデバイスは今のところ存在しません。すべての評価基準において最高の性能特性を持つメモリ技術が開発されない限り、デコボコの性能特性を持ったストレージシステムをうまく階層化してコンピュータを構成していくのは、技術の選択としては自然な成り行きなのです。</p>
</div>
<div class="ref"><p style="font-weight: bold;">リファレンス実装</p>
<ul>
<li><a href="https://github.com/rui314/chibicc/commit/f722daaaae0606115df4ace5a852da23c1a5b0f3">f722daaaae060611</a></li>
</ul>
</div>
<h2 id="ステップ2加減算のできるコンパイラの作成"><a href="https://www.sigbus.info/compilerbook#%E3%82%B9%E3%83%86%E3%83%83%E3%83%972%E5%8A%A0%E6%B8%9B%E7%AE%97%E3%81%AE%E3%81%A7%E3%81%8D%E3%82%8B%E3%82%B3%E3%83%B3%E3%83%91%E3%82%A4%E3%83%A9%E3%81%AE%E4%BD%9C%E6%88%90" style="text-decoration: none; color: inherit;">ステップ2：加減算のできるコンパイラの作成</a></h2>
<p>このステップでは、前のステップで作成したコンパイラを拡張して、<code class="notranslate">42</code>といった値だけではなく、<code class="notranslate">2+11</code>や<code class="notranslate">5+20-4</code>のような加減算を含む式を受け取れるようにします。</p>
<p><code class="notranslate">5+20-4</code>のような式は、コンパイルするときに計算して、その結果の数（この場合<code class="notranslate">21</code>）をアセンブリに埋め込むこともできますが、それだとコンパイラではなくインタープリタのようになってしまうので、加減算を実行時に行うアセンブリを出力する必要があります。加算と減算を行うアセンブリ命令は<code class="notranslate">add</code>と<code class="notranslate">sub</code>です。<code class="notranslate">add</code>は、2つのレジスタを受け取って、その内容を加算し、結果を第1引数のレジスタに書き込みます。<code class="notranslate">sub</code>は<code class="notranslate">add</code>と同じですが、減算を行います。これらの命令を使うと、<code class="notranslate">5+20-4</code>は次のようにコンパイルすることができます。</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode asm notranslate"><code class="sourceCode fasm notranslate"><span id="cb30-1"><a href="https://www.sigbus.info/compilerbook#cb30-1"></a>.intel_syntax noprefix</span>
<span id="cb30-2"><a href="https://www.sigbus.info/compilerbook#cb30-2"></a>.globl main</span>
<span id="cb30-3"><a href="https://www.sigbus.info/compilerbook#cb30-3"></a></span>
<span id="cb30-4"><a href="https://www.sigbus.info/compilerbook#cb30-4"></a><span class="fu">main:</span></span>
<span id="cb30-5"><a href="https://www.sigbus.info/compilerbook#cb30-5"></a>        <span class="bu">mov</span> <span class="kw">rax</span>, <span class="dv">5</span></span>
<span id="cb30-6"><a href="https://www.sigbus.info/compilerbook#cb30-6"></a>        <span class="bu">add</span> <span class="kw">rax</span>, <span class="dv">20</span></span>
<span id="cb30-7"><a href="https://www.sigbus.info/compilerbook#cb30-7"></a>        <span class="bu">sub</span> <span class="kw">rax</span>, <span class="dv">4</span></span>
<span id="cb30-8"><a href="https://www.sigbus.info/compilerbook#cb30-8"></a>        <span class="bu">ret</span></span></code></pre></div>
<p>上記のアセンブリでは、<code class="notranslate">mov</code>でRAXに5をセットし、そのあとRAXに20を足して、そして4を引いています。<code class="notranslate">ret</code>が実行される時点でのRAXの値は<code class="notranslate">5+20-4</code>すなわち21になるはずです。実行して確認してみましょう。上記のファイルを<code class="notranslate">tmp.s</code>に保存してアセンブルし、実行してみます。</p>
<pre class="shell notranslate"><code class="notranslate">$ cc -o tmp tmp.s
$ ./tmp
$ echo $?
21</code></pre>
<p>上記のように正しく21が表示されました。</p>
<p>さて、このアセンブリファイルはどのように作成すればいいのでしょうか？ この加減算のある式を「言語」として考えてみると、この言語は次のように定義することができます。</p>
<ul>
<li>最初に数字が1つある</li>
<li>そのあとに0個以上の「項」が続いている</li>
<li>項というのは、<code class="notranslate">+</code>の後に数字が来ているものか、<code class="notranslate">-</code>の後に数字が来ているものである</li>
</ul>
<p>この定義を素直にCのコードに落としてみると、次のようなプログラムになります。</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode c notranslate"><code class="sourceCode c notranslate"><span id="cb32-1"><a href="https://www.sigbus.info/compilerbook#cb32-1"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></span>
<span id="cb32-2"><a href="https://www.sigbus.info/compilerbook#cb32-2"></a><span class="pp">#include </span><span class="im">&lt;stdlib.h&gt;</span></span>
<span id="cb32-3"><a href="https://www.sigbus.info/compilerbook#cb32-3"></a></span>
<span id="cb32-4"><a href="https://www.sigbus.info/compilerbook#cb32-4"></a><span class="dt">int</span> main(<span class="dt">int</span> argc, <span class="dt">char</span> **argv) {</span>
<span id="cb32-5"><a href="https://www.sigbus.info/compilerbook#cb32-5"></a>  <span class="cf">if</span> (argc != <span class="dv">2</span>) {</span>
<span id="cb32-6"><a href="https://www.sigbus.info/compilerbook#cb32-6"></a>    fprintf(stderr, <span class="st">"引数の個数が正しくありません</span><span class="sc">\n</span><span class="st">"</span>);</span>
<span id="cb32-7"><a href="https://www.sigbus.info/compilerbook#cb32-7"></a>    <span class="cf">return</span> <span class="dv">1</span>;</span>
<span id="cb32-8"><a href="https://www.sigbus.info/compilerbook#cb32-8"></a>  }</span>
<span id="cb32-9"><a href="https://www.sigbus.info/compilerbook#cb32-9"></a></span>
<span id="cb32-10"><a href="https://www.sigbus.info/compilerbook#cb32-10"></a>  <span class="dt">char</span> *p = argv[<span class="dv">1</span>];</span>
<span id="cb32-11"><a href="https://www.sigbus.info/compilerbook#cb32-11"></a></span>
<span id="cb32-12"><a href="https://www.sigbus.info/compilerbook#cb32-12"></a>  printf(<span class="st">".intel_syntax noprefix</span><span class="sc">\n</span><span class="st">"</span>);</span>
<span id="cb32-13"><a href="https://www.sigbus.info/compilerbook#cb32-13"></a>  printf(<span class="st">".globl main</span><span class="sc">\n</span><span class="st">"</span>);</span>
<span id="cb32-14"><a href="https://www.sigbus.info/compilerbook#cb32-14"></a>  printf(<span class="st">"main:</span><span class="sc">\n</span><span class="st">"</span>);</span>
<span id="cb32-15"><a href="https://www.sigbus.info/compilerbook#cb32-15"></a>  printf(<span class="st">"  mov rax, %ld</span><span class="sc">\n</span><span class="st">"</span>, strtol(p, &amp;p, <span class="dv">10</span>));</span>
<span id="cb32-16"><a href="https://www.sigbus.info/compilerbook#cb32-16"></a></span>
<span id="cb32-17"><a href="https://www.sigbus.info/compilerbook#cb32-17"></a>  <span class="cf">while</span> (*p) {</span>
<span id="cb32-18"><a href="https://www.sigbus.info/compilerbook#cb32-18"></a>    <span class="cf">if</span> (*p == <span class="ch">'+'</span>) {</span>
<span id="cb32-19"><a href="https://www.sigbus.info/compilerbook#cb32-19"></a>      p++;</span>
<span id="cb32-20"><a href="https://www.sigbus.info/compilerbook#cb32-20"></a>      printf(<span class="st">"  add rax, %ld</span><span class="sc">\n</span><span class="st">"</span>, strtol(p, &amp;p, <span class="dv">10</span>));</span>
<span id="cb32-21"><a href="https://www.sigbus.info/compilerbook#cb32-21"></a>      <span class="cf">continue</span>;</span>
<span id="cb32-22"><a href="https://www.sigbus.info/compilerbook#cb32-22"></a>    }</span>
<span id="cb32-23"><a href="https://www.sigbus.info/compilerbook#cb32-23"></a></span>
<span id="cb32-24"><a href="https://www.sigbus.info/compilerbook#cb32-24"></a>    <span class="cf">if</span> (*p == <span class="ch">'-'</span>) {</span>
<span id="cb32-25"><a href="https://www.sigbus.info/compilerbook#cb32-25"></a>      p++;</span>
<span id="cb32-26"><a href="https://www.sigbus.info/compilerbook#cb32-26"></a>      printf(<span class="st">"  sub rax, %ld</span><span class="sc">\n</span><span class="st">"</span>, strtol(p, &amp;p, <span class="dv">10</span>));</span>
<span id="cb32-27"><a href="https://www.sigbus.info/compilerbook#cb32-27"></a>      <span class="cf">continue</span>;</span>
<span id="cb32-28"><a href="https://www.sigbus.info/compilerbook#cb32-28"></a>    }</span>
<span id="cb32-29"><a href="https://www.sigbus.info/compilerbook#cb32-29"></a></span>
<span id="cb32-30"><a href="https://www.sigbus.info/compilerbook#cb32-30"></a>    fprintf(stderr, <span class="st">"予期しない文字です: '%c'</span><span class="sc">\n</span><span class="st">"</span>, *p);</span>
<span id="cb32-31"><a href="https://www.sigbus.info/compilerbook#cb32-31"></a>    <span class="cf">return</span> <span class="dv">1</span>;</span>
<span id="cb32-32"><a href="https://www.sigbus.info/compilerbook#cb32-32"></a>  }</span>
<span id="cb32-33"><a href="https://www.sigbus.info/compilerbook#cb32-33"></a></span>
<span id="cb32-34"><a href="https://www.sigbus.info/compilerbook#cb32-34"></a>  printf(<span class="st">"  ret</span><span class="sc">\n</span><span class="st">"</span>);</span>
<span id="cb32-35"><a href="https://www.sigbus.info/compilerbook#cb32-35"></a>  <span class="cf">return</span> <span class="dv">0</span>;</span>
<span id="cb32-36"><a href="https://www.sigbus.info/compilerbook#cb32-36"></a>}</span></code></pre></div>
<p>ちょっと長いプログラムになっていますが、前半部分と<code class="notranslate">ret</code>の行は以前と同じです。中間に項を読み込むためのコードが足されています。今回は数字1つを読むだけのプログラムではないので、数字を読み込んだあとに、どこまで読み込んだのかがわからないといけません。<code class="notranslate">atoi</code>では読み込んだ文字の文字数は返してくれないので、<code class="notranslate">atoi</code>では次の項をどこから読めばよいのかわからなくなってしまいます。したがってここでは、C標準ライブラリの<code class="notranslate">strtol</code>関数を使いました。</p>
<p><code class="notranslate">strtol</code>は数値を読み込んだ後、第2引数のポインタをアップデートして、読み込んだ最後の文字の次の文字を指すように値を更新します。したがって、数値を1つ読み込んだ後、もしその次の文字が<code class="notranslate">+</code>や<code class="notranslate">-</code>ならば、<code class="notranslate">p</code>はその文字を指しているはずです。上のプログラムではその事実を利用して、<code class="notranslate">while</code>ループの中で次々と項を読んで、1つ項を読むたびにアセンブリを1行出力するということを行なっています。</p>
<p>さて、さっそくこの改造版コンパイラを実行してみましょう。<code class="notranslate">9cc.c</code>ファイルを更新したら、<code class="notranslate">make</code>を実行するだけで新しい9ccファイルを作ることができるのでした。実行例を以下に示します。</p>
<pre class="shell notranslate"><code class="notranslate">$ make
$ ./9cc '5+20-4'
.intel_syntax noprefix
.globl main
main:
  mov rax, 5
  add rax, 20
  sub rax, 4
  ret</code></pre>
<p>どうやらうまくアセンブリが出力されているようですね。この新しい機能をテストするために、<code class="notranslate">test.sh</code>に次のようにテストを1行追加しておきましょう。</p>
<pre class="notranslate"><code class="notranslate">assert 21 "5+20-4"</code></pre>
<p>ここまでできたら、ここまでの変更点をgitにコミットしておきましょう。そのためには以下のコマンドを実行します。</p>
<pre class="shell notranslate"><code class="notranslate">$ git add test.sh 9cc.c
$ git commit</code></pre>
<p><code class="notranslate">git commit</code>を実行するとエディタが起動するので「足し算と引き算を追加」と書いて保存し、エディタを終了します。<code class="notranslate">git log -p</code>コマンドを使ってコミットが期待した通りに行われていることを確認してみてください。最後に<code class="notranslate">git push</code>を実行してGitHubにコミットをプッシュしたら、このステップは完了です！</p>
<div class="ref"><p style="font-weight: bold;">リファレンス実装</p>
<ul>
<li><a href="https://github.com/rui314/chibicc/commit/afc9e8f05faddf051aa3a578520d6484ab451282">afc9e8f05faddf05</a></li>
</ul>
</div>
<h2 id="ステップ3トークナイザを導入"><a href="https://www.sigbus.info/compilerbook#%E3%82%B9%E3%83%86%E3%83%83%E3%83%973%E3%83%88%E3%83%BC%E3%82%AF%E3%83%8A%E3%82%A4%E3%82%B6%E3%82%92%E5%B0%8E%E5%85%A5" style="text-decoration: none; color: inherit;">ステップ3：トークナイザを導入</a></h2>
<p>前のステップで作成したコンパイラには1つ欠点があります。もし入力に空白文字が含まれていたら、その時点でエラーになってしまうのです。例えば以下のように<code class="notranslate">5 - 3</code>という空白の入った文字列を与えると、<code class="notranslate">+</code>あるいは<code class="notranslate">-</code>を読もうとしているところで空白文字を見つけることになり、コンパイルに失敗してしまいます。</p>
<pre class="shell notranslate"><code class="notranslate">$ ./9cc '5 - 3' &gt; tmp.s
予期しない文字です: ' '</code></pre>
<p>この問題を解決する方法はいくつかあります。1つの自明な方法は、<code class="notranslate">+</code>や<code class="notranslate">-</code>を読もうとする前に空白文字を読み飛ばすことです。このやり方には特に問題があるというわけはないのですが、このステップでは別の方法で問題を解決することにします。その方法というのは、式を読む前に入力を単語に分割してしまうという方法です。</p>
<p>日本語や英語と同じように、算数の式やプログラミング言語も、単語の列から成り立っていると考えることができます。例えば<code class="notranslate">5+20-4</code>は<code class="notranslate">5</code>、<code class="notranslate">+</code>、<code class="notranslate">20</code>、<code class="notranslate">-</code>、<code class="notranslate">4</code>という5つの単語でできていると考えることができます。この「単語」のことを「<span class="index" id="index21">トークン</span>」（token）といいます。トークンの間にある空白文字というのは、トークンを区切るために存在しているだけで、単語を構成する一部分ではありません。したがって、文字列をトークン列に分割するときに空白文字を取り除くのは自然なことでしょう。文字列をトークン列に分割することを「<span class="index" id="index22">トークナイズ</span>する」といいます。</p>
<p>文字列をトークン列に分けることには他のメリットもあります。式をトークンに分けるときにそのトークンを分類して型をつけることができるのです。例えば<code class="notranslate">+</code>や<code class="notranslate">-</code>は、見ての通りの<code class="notranslate">+</code>や<code class="notranslate">-</code>といった記号ですし、一方で<code class="notranslate">123</code>という文字列は123という数値を意味しています。トークナイズするときに、入力を単なる文字列に分割するだけではなく、その1つ1つのトークンを解釈することで、トークン列を消費するときに考えなければならないことが減るのです。</p>
<p>現在の加減算ができる式の文法の場合、トークンの型は、<code class="notranslate">+</code>、<code class="notranslate">-</code>、数値の3つです。さらにコンパイラの実装の都合上、トークン列の終わりを表す特殊な型を1つ定義しておくとプログラムが簡潔になります（文字列が<code class="notranslate">'\0'</code>で終わっているのと同じです）。トークンはポインタで繋いだ連結リストになるようにして、任意の長さの入力を扱えるようにしてみましょう。</p>
<p>やや長くなりますが、トークナイザを導入して改良したバージョンのコンパイラを下に掲載します。</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode c notranslate"><code class="sourceCode c notranslate"><span id="cb37-1"><a href="https://www.sigbus.info/compilerbook#cb37-1"></a><span class="pp">#include </span><span class="im">&lt;ctype.h&gt;</span></span>
<span id="cb37-2"><a href="https://www.sigbus.info/compilerbook#cb37-2"></a><span class="pp">#include </span><span class="im">&lt;stdarg.h&gt;</span></span>
<span id="cb37-3"><a href="https://www.sigbus.info/compilerbook#cb37-3"></a><span class="pp">#include </span><span class="im">&lt;stdbool.h&gt;</span></span>
<span id="cb37-4"><a href="https://www.sigbus.info/compilerbook#cb37-4"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></span>
<span id="cb37-5"><a href="https://www.sigbus.info/compilerbook#cb37-5"></a><span class="pp">#include </span><span class="im">&lt;stdlib.h&gt;</span></span>
<span id="cb37-6"><a href="https://www.sigbus.info/compilerbook#cb37-6"></a><span class="pp">#include </span><span class="im">&lt;string.h&gt;</span></span>
<span id="cb37-7"><a href="https://www.sigbus.info/compilerbook#cb37-7"></a></span>
<span id="cb37-8"><a href="https://www.sigbus.info/compilerbook#cb37-8"></a><span class="co">// トークンの種類</span></span>
<span id="cb37-9"><a href="https://www.sigbus.info/compilerbook#cb37-9"></a><span class="kw">typedef</span> <span class="kw">enum</span> {</span>
<span id="cb37-10"><a href="https://www.sigbus.info/compilerbook#cb37-10"></a>  TK_RESERVED, <span class="co">// 記号</span></span>
<span id="cb37-11"><a href="https://www.sigbus.info/compilerbook#cb37-11"></a>  TK_NUM,      <span class="co">// 整数トークン</span></span>
<span id="cb37-12"><a href="https://www.sigbus.info/compilerbook#cb37-12"></a>  TK_EOF,      <span class="co">// 入力の終わりを表すトークン</span></span>
<span id="cb37-13"><a href="https://www.sigbus.info/compilerbook#cb37-13"></a>} TokenKind;</span>
<span id="cb37-14"><a href="https://www.sigbus.info/compilerbook#cb37-14"></a></span>
<span id="cb37-15"><a href="https://www.sigbus.info/compilerbook#cb37-15"></a><span class="kw">typedef</span> <span class="kw">struct</span> Token Token;</span>
<span id="cb37-16"><a href="https://www.sigbus.info/compilerbook#cb37-16"></a></span>
<span id="cb37-17"><a href="https://www.sigbus.info/compilerbook#cb37-17"></a><span class="co">// トークン型</span></span>
<span id="cb37-18"><a href="https://www.sigbus.info/compilerbook#cb37-18"></a><span class="kw">struct</span> Token {</span>
<span id="cb37-19"><a href="https://www.sigbus.info/compilerbook#cb37-19"></a>  TokenKind kind; <span class="co">// トークンの型</span></span>
<span id="cb37-20"><a href="https://www.sigbus.info/compilerbook#cb37-20"></a>  Token *next;    <span class="co">// 次の入力トークン</span></span>
<span id="cb37-21"><a href="https://www.sigbus.info/compilerbook#cb37-21"></a>  <span class="dt">int</span> val;        <span class="co">// kindがTK_NUMの場合、その数値</span></span>
<span id="cb37-22"><a href="https://www.sigbus.info/compilerbook#cb37-22"></a>  <span class="dt">char</span> *str;      <span class="co">// トークン文字列</span></span>
<span id="cb37-23"><a href="https://www.sigbus.info/compilerbook#cb37-23"></a>};</span>
<span id="cb37-24"><a href="https://www.sigbus.info/compilerbook#cb37-24"></a></span>
<span id="cb37-25"><a href="https://www.sigbus.info/compilerbook#cb37-25"></a><span class="co">// 現在着目しているトークン</span></span>
<span id="cb37-26"><a href="https://www.sigbus.info/compilerbook#cb37-26"></a>Token *token;</span>
<span id="cb37-27"><a href="https://www.sigbus.info/compilerbook#cb37-27"></a></span>
<span id="cb37-28"><a href="https://www.sigbus.info/compilerbook#cb37-28"></a><span class="co">// エラーを報告するための関数</span></span>
<span id="cb37-29"><a href="https://www.sigbus.info/compilerbook#cb37-29"></a><span class="co">// printfと同じ引数を取る</span></span>
<span id="cb37-30"><a href="https://www.sigbus.info/compilerbook#cb37-30"></a><span class="dt">void</span> error(<span class="dt">char</span> *fmt, ...) {</span>
<span id="cb37-31"><a href="https://www.sigbus.info/compilerbook#cb37-31"></a>  <span class="dt">va_list</span> ap;</span>
<span id="cb37-32"><a href="https://www.sigbus.info/compilerbook#cb37-32"></a>  va_start(ap, fmt);</span>
<span id="cb37-33"><a href="https://www.sigbus.info/compilerbook#cb37-33"></a>  vfprintf(stderr, fmt, ap);</span>
<span id="cb37-34"><a href="https://www.sigbus.info/compilerbook#cb37-34"></a>  fprintf(stderr, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>);</span>
<span id="cb37-35"><a href="https://www.sigbus.info/compilerbook#cb37-35"></a>  exit(<span class="dv">1</span>);</span>
<span id="cb37-36"><a href="https://www.sigbus.info/compilerbook#cb37-36"></a>}</span>
<span id="cb37-37"><a href="https://www.sigbus.info/compilerbook#cb37-37"></a></span>
<span id="cb37-38"><a href="https://www.sigbus.info/compilerbook#cb37-38"></a><span class="co">// 次のトークンが期待している記号のときには、トークンを1つ読み進めて</span></span>
<span id="cb37-39"><a href="https://www.sigbus.info/compilerbook#cb37-39"></a><span class="co">// 真を返す。それ以外の場合には偽を返す。</span></span>
<span id="cb37-40"><a href="https://www.sigbus.info/compilerbook#cb37-40"></a><span class="dt">bool</span> consume(<span class="dt">char</span> op) {</span>
<span id="cb37-41"><a href="https://www.sigbus.info/compilerbook#cb37-41"></a>  <span class="cf">if</span> (token-&gt;kind != TK_RESERVED || token-&gt;str[<span class="dv">0</span>] != op)</span>
<span id="cb37-42"><a href="https://www.sigbus.info/compilerbook#cb37-42"></a>    <span class="cf">return</span> false;</span>
<span id="cb37-43"><a href="https://www.sigbus.info/compilerbook#cb37-43"></a>  token = token-&gt;next;</span>
<span id="cb37-44"><a href="https://www.sigbus.info/compilerbook#cb37-44"></a>  <span class="cf">return</span> true;</span>
<span id="cb37-45"><a href="https://www.sigbus.info/compilerbook#cb37-45"></a>}</span>
<span id="cb37-46"><a href="https://www.sigbus.info/compilerbook#cb37-46"></a></span>
<span id="cb37-47"><a href="https://www.sigbus.info/compilerbook#cb37-47"></a><span class="co">// 次のトークンが期待している記号のときには、トークンを1つ読み進める。</span></span>
<span id="cb37-48"><a href="https://www.sigbus.info/compilerbook#cb37-48"></a><span class="co">// それ以外の場合にはエラーを報告する。</span></span>
<span id="cb37-49"><a href="https://www.sigbus.info/compilerbook#cb37-49"></a><span class="dt">void</span> expect(<span class="dt">char</span> op) {</span>
<span id="cb37-50"><a href="https://www.sigbus.info/compilerbook#cb37-50"></a>  <span class="cf">if</span> (token-&gt;kind != TK_RESERVED || token-&gt;str[<span class="dv">0</span>] != op)</span>
<span id="cb37-51"><a href="https://www.sigbus.info/compilerbook#cb37-51"></a>    error(<span class="st">"'%c'ではありません"</span>, op);</span>
<span id="cb37-52"><a href="https://www.sigbus.info/compilerbook#cb37-52"></a>  token = token-&gt;next;</span>
<span id="cb37-53"><a href="https://www.sigbus.info/compilerbook#cb37-53"></a>}</span>
<span id="cb37-54"><a href="https://www.sigbus.info/compilerbook#cb37-54"></a></span>
<span id="cb37-55"><a href="https://www.sigbus.info/compilerbook#cb37-55"></a><span class="co">// 次のトークンが数値の場合、トークンを1つ読み進めてその数値を返す。</span></span>
<span id="cb37-56"><a href="https://www.sigbus.info/compilerbook#cb37-56"></a><span class="co">// それ以外の場合にはエラーを報告する。</span></span>
<span id="cb37-57"><a href="https://www.sigbus.info/compilerbook#cb37-57"></a><span class="dt">int</span> expect_number() {</span>
<span id="cb37-58"><a href="https://www.sigbus.info/compilerbook#cb37-58"></a>  <span class="cf">if</span> (token-&gt;kind != TK_NUM)</span>
<span id="cb37-59"><a href="https://www.sigbus.info/compilerbook#cb37-59"></a>    error(<span class="st">"数ではありません"</span>);</span>
<span id="cb37-60"><a href="https://www.sigbus.info/compilerbook#cb37-60"></a>  <span class="dt">int</span> val = token-&gt;val;</span>
<span id="cb37-61"><a href="https://www.sigbus.info/compilerbook#cb37-61"></a>  token = token-&gt;next;</span>
<span id="cb37-62"><a href="https://www.sigbus.info/compilerbook#cb37-62"></a>  <span class="cf">return</span> val;</span>
<span id="cb37-63"><a href="https://www.sigbus.info/compilerbook#cb37-63"></a>}</span>
<span id="cb37-64"><a href="https://www.sigbus.info/compilerbook#cb37-64"></a></span>
<span id="cb37-65"><a href="https://www.sigbus.info/compilerbook#cb37-65"></a><span class="dt">bool</span> at_eof() {</span>
<span id="cb37-66"><a href="https://www.sigbus.info/compilerbook#cb37-66"></a>  <span class="cf">return</span> token-&gt;kind == TK_EOF;</span>
<span id="cb37-67"><a href="https://www.sigbus.info/compilerbook#cb37-67"></a>}</span>
<span id="cb37-68"><a href="https://www.sigbus.info/compilerbook#cb37-68"></a></span>
<span id="cb37-69"><a href="https://www.sigbus.info/compilerbook#cb37-69"></a><span class="co">// 新しいトークンを作成してcurに繋げる</span></span>
<span id="cb37-70"><a href="https://www.sigbus.info/compilerbook#cb37-70"></a>Token *new_token(TokenKind kind, Token *cur, <span class="dt">char</span> *str) {</span>
<span id="cb37-71"><a href="https://www.sigbus.info/compilerbook#cb37-71"></a>  Token *tok = calloc(<span class="dv">1</span>, <span class="kw">sizeof</span>(Token));</span>
<span id="cb37-72"><a href="https://www.sigbus.info/compilerbook#cb37-72"></a>  tok-&gt;kind = kind;</span>
<span id="cb37-73"><a href="https://www.sigbus.info/compilerbook#cb37-73"></a>  tok-&gt;str = str;</span>
<span id="cb37-74"><a href="https://www.sigbus.info/compilerbook#cb37-74"></a>  cur-&gt;next = tok;</span>
<span id="cb37-75"><a href="https://www.sigbus.info/compilerbook#cb37-75"></a>  <span class="cf">return</span> tok;</span>
<span id="cb37-76"><a href="https://www.sigbus.info/compilerbook#cb37-76"></a>}</span>
<span id="cb37-77"><a href="https://www.sigbus.info/compilerbook#cb37-77"></a></span>
<span id="cb37-78"><a href="https://www.sigbus.info/compilerbook#cb37-78"></a><span class="co">// 入力文字列pをトークナイズしてそれを返す</span></span>
<span id="cb37-79"><a href="https://www.sigbus.info/compilerbook#cb37-79"></a>Token *tokenize(<span class="dt">char</span> *p) {</span>
<span id="cb37-80"><a href="https://www.sigbus.info/compilerbook#cb37-80"></a>  Token head;</span>
<span id="cb37-81"><a href="https://www.sigbus.info/compilerbook#cb37-81"></a>  head.next = NULL;</span>
<span id="cb37-82"><a href="https://www.sigbus.info/compilerbook#cb37-82"></a>  Token *cur = &amp;head;</span>
<span id="cb37-83"><a href="https://www.sigbus.info/compilerbook#cb37-83"></a></span>
<span id="cb37-84"><a href="https://www.sigbus.info/compilerbook#cb37-84"></a>  <span class="cf">while</span> (*p) {</span>
<span id="cb37-85"><a href="https://www.sigbus.info/compilerbook#cb37-85"></a>    <span class="co">// 空白文字をスキップ</span></span>
<span id="cb37-86"><a href="https://www.sigbus.info/compilerbook#cb37-86"></a>    <span class="cf">if</span> (isspace(*p)) {</span>
<span id="cb37-87"><a href="https://www.sigbus.info/compilerbook#cb37-87"></a>      p++;</span>
<span id="cb37-88"><a href="https://www.sigbus.info/compilerbook#cb37-88"></a>      <span class="cf">continue</span>;</span>
<span id="cb37-89"><a href="https://www.sigbus.info/compilerbook#cb37-89"></a>    }</span>
<span id="cb37-90"><a href="https://www.sigbus.info/compilerbook#cb37-90"></a></span>
<span id="cb37-91"><a href="https://www.sigbus.info/compilerbook#cb37-91"></a>    <span class="cf">if</span> (*p == <span class="ch">'+'</span> || *p == <span class="ch">'-'</span>) {</span>
<span id="cb37-92"><a href="https://www.sigbus.info/compilerbook#cb37-92"></a>      cur = new_token(TK_RESERVED, cur, p++);</span>
<span id="cb37-93"><a href="https://www.sigbus.info/compilerbook#cb37-93"></a>      <span class="cf">continue</span>;</span>
<span id="cb37-94"><a href="https://www.sigbus.info/compilerbook#cb37-94"></a>    }</span>
<span id="cb37-95"><a href="https://www.sigbus.info/compilerbook#cb37-95"></a></span>
<span id="cb37-96"><a href="https://www.sigbus.info/compilerbook#cb37-96"></a>    <span class="cf">if</span> (isdigit(*p)) {</span>
<span id="cb37-97"><a href="https://www.sigbus.info/compilerbook#cb37-97"></a>      cur = new_token(TK_NUM, cur, p);</span>
<span id="cb37-98"><a href="https://www.sigbus.info/compilerbook#cb37-98"></a>      cur-&gt;val = strtol(p, &amp;p, <span class="dv">10</span>);</span>
<span id="cb37-99"><a href="https://www.sigbus.info/compilerbook#cb37-99"></a>      <span class="cf">continue</span>;</span>
<span id="cb37-100"><a href="https://www.sigbus.info/compilerbook#cb37-100"></a>    }</span>
<span id="cb37-101"><a href="https://www.sigbus.info/compilerbook#cb37-101"></a></span>
<span id="cb37-102"><a href="https://www.sigbus.info/compilerbook#cb37-102"></a>    error(<span class="st">"トークナイズできません"</span>);</span>
<span id="cb37-103"><a href="https://www.sigbus.info/compilerbook#cb37-103"></a>  }</span>
<span id="cb37-104"><a href="https://www.sigbus.info/compilerbook#cb37-104"></a></span>
<span id="cb37-105"><a href="https://www.sigbus.info/compilerbook#cb37-105"></a>  new_token(TK_EOF, cur, p);</span>
<span id="cb37-106"><a href="https://www.sigbus.info/compilerbook#cb37-106"></a>  <span class="cf">return</span> head.next;</span>
<span id="cb37-107"><a href="https://www.sigbus.info/compilerbook#cb37-107"></a>}</span>
<span id="cb37-108"><a href="https://www.sigbus.info/compilerbook#cb37-108"></a></span>
<span id="cb37-109"><a href="https://www.sigbus.info/compilerbook#cb37-109"></a><span class="dt">int</span> main(<span class="dt">int</span> argc, <span class="dt">char</span> **argv) {</span>
<span id="cb37-110"><a href="https://www.sigbus.info/compilerbook#cb37-110"></a>  <span class="cf">if</span> (argc != <span class="dv">2</span>) {</span>
<span id="cb37-111"><a href="https://www.sigbus.info/compilerbook#cb37-111"></a>    error(<span class="st">"引数の個数が正しくありません"</span>);</span>
<span id="cb37-112"><a href="https://www.sigbus.info/compilerbook#cb37-112"></a>    <span class="cf">return</span> <span class="dv">1</span>;</span>
<span id="cb37-113"><a href="https://www.sigbus.info/compilerbook#cb37-113"></a>  }</span>
<span id="cb37-114"><a href="https://www.sigbus.info/compilerbook#cb37-114"></a></span>
<span id="cb37-115"><a href="https://www.sigbus.info/compilerbook#cb37-115"></a>  <span class="co">// トークナイズする</span></span>
<span id="cb37-116"><a href="https://www.sigbus.info/compilerbook#cb37-116"></a>  token = tokenize(argv[<span class="dv">1</span>]);</span>
<span id="cb37-117"><a href="https://www.sigbus.info/compilerbook#cb37-117"></a></span>
<span id="cb37-118"><a href="https://www.sigbus.info/compilerbook#cb37-118"></a>  <span class="co">// アセンブリの前半部分を出力</span></span>
<span id="cb37-119"><a href="https://www.sigbus.info/compilerbook#cb37-119"></a>  printf(<span class="st">".intel_syntax noprefix</span><span class="sc">\n</span><span class="st">"</span>);</span>
<span id="cb37-120"><a href="https://www.sigbus.info/compilerbook#cb37-120"></a>  printf(<span class="st">".globl main</span><span class="sc">\n</span><span class="st">"</span>);</span>
<span id="cb37-121"><a href="https://www.sigbus.info/compilerbook#cb37-121"></a>  printf(<span class="st">"main:</span><span class="sc">\n</span><span class="st">"</span>);</span>
<span id="cb37-122"><a href="https://www.sigbus.info/compilerbook#cb37-122"></a></span>
<span id="cb37-123"><a href="https://www.sigbus.info/compilerbook#cb37-123"></a>  <span class="co">// 式の最初は数でなければならないので、それをチェックして</span></span>
<span id="cb37-124"><a href="https://www.sigbus.info/compilerbook#cb37-124"></a>  <span class="co">// 最初のmov命令を出力</span></span>
<span id="cb37-125"><a href="https://www.sigbus.info/compilerbook#cb37-125"></a>  printf(<span class="st">"  mov rax, %d</span><span class="sc">\n</span><span class="st">"</span>, expect_number());</span>
<span id="cb37-126"><a href="https://www.sigbus.info/compilerbook#cb37-126"></a></span>
<span id="cb37-127"><a href="https://www.sigbus.info/compilerbook#cb37-127"></a>  <span class="co">// `+ &lt;数&gt;`あるいは`- &lt;数&gt;`というトークンの並びを消費しつつ</span></span>
<span id="cb37-128"><a href="https://www.sigbus.info/compilerbook#cb37-128"></a>  <span class="co">// アセンブリを出力</span></span>
<span id="cb37-129"><a href="https://www.sigbus.info/compilerbook#cb37-129"></a>  <span class="cf">while</span> (!at_eof()) {</span>
<span id="cb37-130"><a href="https://www.sigbus.info/compilerbook#cb37-130"></a>    <span class="cf">if</span> (consume(<span class="ch">'+'</span>)) {</span>
<span id="cb37-131"><a href="https://www.sigbus.info/compilerbook#cb37-131"></a>      printf(<span class="st">"  add rax, %d</span><span class="sc">\n</span><span class="st">"</span>, expect_number());</span>
<span id="cb37-132"><a href="https://www.sigbus.info/compilerbook#cb37-132"></a>      <span class="cf">continue</span>;</span>
<span id="cb37-133"><a href="https://www.sigbus.info/compilerbook#cb37-133"></a>    }</span>
<span id="cb37-134"><a href="https://www.sigbus.info/compilerbook#cb37-134"></a></span>
<span id="cb37-135"><a href="https://www.sigbus.info/compilerbook#cb37-135"></a>    expect(<span class="ch">'-'</span>);</span>
<span id="cb37-136"><a href="https://www.sigbus.info/compilerbook#cb37-136"></a>    printf(<span class="st">"  sub rax, %d</span><span class="sc">\n</span><span class="st">"</span>, expect_number());</span>
<span id="cb37-137"><a href="https://www.sigbus.info/compilerbook#cb37-137"></a>  }</span>
<span id="cb37-138"><a href="https://www.sigbus.info/compilerbook#cb37-138"></a></span>
<span id="cb37-139"><a href="https://www.sigbus.info/compilerbook#cb37-139"></a>  printf(<span class="st">"  ret</span><span class="sc">\n</span><span class="st">"</span>);</span>
<span id="cb37-140"><a href="https://www.sigbus.info/compilerbook#cb37-140"></a>  <span class="cf">return</span> <span class="dv">0</span>;</span>
<span id="cb37-141"><a href="https://www.sigbus.info/compilerbook#cb37-141"></a>}</span></code></pre></div>
<p>150行程度のあまり短いとはいえないコードですが、あまりトリッキーことは行なっていないので、上から読んでいけば読めるはずです。</p>
<p>上のコードで使われているプログラミングテクニックをいくつか説明しておきましょう。</p>
<ul>
<li>パーサが読み込むトークン列は、グローバル変数<code class="notranslate">token</code>で表現することにしました。パーサは、連結リストになっている<code class="notranslate">token</code>をたどっていくことで入力を読み進めていきます。このようなグローバル変数を使うプログラミングスタイルは、きれいなスタイルには見えないかもしれません。しかし実際には、ここで行なっているように、入力トークン列を標準入力のようなストリームとして扱うほうがパーサのコードが読みやすくなることが多いようです。従ってここではそのようなスタイルを採用しました。</li>
<li><code class="notranslate">token</code>を直接触るコードは<code class="notranslate">consume</code>や<code class="notranslate">expect</code>といった関数にわけて、それ以外の関数では<code class="notranslate">token</code>を直接触らないようにしました。</li>
<li><code class="notranslate">tokenize</code>関数では連結リストを構築しています。連結リストを構築するときは、ダミーの<code class="notranslate">head</code>要素を作ってそこに新しい要素を繋げていって、最後に<code class="notranslate">head-&gt;next</code>を返すようにするとコードが簡単になります。このような方法では<code class="notranslate">head</code>要素に割り当てられたメモリはほとんど無駄になりますが、ローカル変数をアロケートするコストはほぼゼロなので、特に気にする必要はありません。</li>
<li><code class="notranslate">calloc</code>は<code class="notranslate">malloc</code>と同じようにメモリを割り当てる関数です。<code class="notranslate">malloc</code>とは異なり、<code class="notranslate">calloc</code>は割り当てられたメモリをゼロクリアします。ここでは要素をゼロクリアする手間を省くために<code class="notranslate">calloc</code>を使うことにしました。</li>
</ul>
<p>この改良版では空白文字がスキップできるようになったはずなので、次のようなテストを1行<code class="notranslate">test.sh</code>に追加しておきましょう。</p>
<pre class="notranslate"><code class="notranslate">assert 41 " 12 + 34 - 5 "</code></pre>
<p>Unixのプロセスの終了コードは0〜255の数字ということになっているので、テストを書く際には、式全体の結果が0〜255に収まるようにしてください。</p>
<p>テストファイルをgitレポジトリに追加すれば、このステップは完了です。</p>
<div class="ref"><p style="font-weight: bold;">リファレンス実装</p>
<ul>
<li><a href="https://github.com/rui314/chibicc/commit/ef6d1791eb2a5ef3af913945ca577ea76d4ff97e">ef6d1791eb2a5ef3</a></li>
</ul>
</div>
<h2 id="ステップ4エラーメッセージを改良"><a href="https://www.sigbus.info/compilerbook#%E3%82%B9%E3%83%86%E3%83%83%E3%83%974%E3%82%A8%E3%83%A9%E3%83%BC%E3%83%A1%E3%83%83%E3%82%BB%E3%83%BC%E3%82%B8%E3%82%92%E6%94%B9%E8%89%AF" style="text-decoration: none; color: inherit;">ステップ4：エラーメッセージを改良</a></h2>
<p>ここまでに作ったコンパイラでは、入力が文法的に間違っていた場合、どこかにエラーがあったことくらいしかわかりません。その問題をこのステップで改良してみましょう。具体的には下のような直感的にわかるエラーメッセージを表示できるようにします。</p>
<pre class="notranslate"><code class="notranslate">$ ./9cc "1+3++" &gt; tmp.s
1+3++
    ^ 数ではありません

$ ./9cc "1 + foo + 5" &gt; tmp.s
1 + foo + 5
    ^ トークナイズできません</code></pre>
<p>このようなエラーメッセージを表示するためには、エラーが起きたときに、それが入力の何バイト目なのかを知ることができる必要があります。そのために、プログラムの文字列全体を<code class="notranslate">user_input</code>という変数に保存することにして、その文字列の途中を指すポインタを受け取るエラー表示関数を新たに定義することにしましょう。そのコードを以下に示します。</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode c notranslate"><code class="sourceCode c notranslate"><span id="cb40-1"><a href="https://www.sigbus.info/compilerbook#cb40-1"></a><span class="co">// 入力プログラム</span></span>
<span id="cb40-2"><a href="https://www.sigbus.info/compilerbook#cb40-2"></a><span class="dt">char</span> *user_input;</span>
<span id="cb40-3"><a href="https://www.sigbus.info/compilerbook#cb40-3"></a></span>
<span id="cb40-4"><a href="https://www.sigbus.info/compilerbook#cb40-4"></a><span class="co">// エラー箇所を報告する</span></span>
<span id="cb40-5"><a href="https://www.sigbus.info/compilerbook#cb40-5"></a><span class="dt">void</span> error_at(<span class="dt">char</span> *loc, <span class="dt">char</span> *fmt, ...) {</span>
<span id="cb40-6"><a href="https://www.sigbus.info/compilerbook#cb40-6"></a>  <span class="dt">va_list</span> ap;</span>
<span id="cb40-7"><a href="https://www.sigbus.info/compilerbook#cb40-7"></a>  va_start(ap, fmt);</span>
<span id="cb40-8"><a href="https://www.sigbus.info/compilerbook#cb40-8"></a></span>
<span id="cb40-9"><a href="https://www.sigbus.info/compilerbook#cb40-9"></a>  <span class="dt">int</span> pos = loc - user_input;</span>
<span id="cb40-10"><a href="https://www.sigbus.info/compilerbook#cb40-10"></a>  fprintf(stderr, <span class="st">"%s</span><span class="sc">\n</span><span class="st">"</span>, user_input);</span>
<span id="cb40-11"><a href="https://www.sigbus.info/compilerbook#cb40-11"></a>  fprintf(stderr, <span class="st">"%*s"</span>, pos, <span class="st">" "</span>); <span class="co">// pos個の空白を出力</span></span>
<span id="cb40-12"><a href="https://www.sigbus.info/compilerbook#cb40-12"></a>  fprintf(stderr, <span class="st">"^ "</span>);</span>
<span id="cb40-13"><a href="https://www.sigbus.info/compilerbook#cb40-13"></a>  vfprintf(stderr, fmt, ap);</span>
<span id="cb40-14"><a href="https://www.sigbus.info/compilerbook#cb40-14"></a>  fprintf(stderr, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>);</span>
<span id="cb40-15"><a href="https://www.sigbus.info/compilerbook#cb40-15"></a>  exit(<span class="dv">1</span>);</span>
<span id="cb40-16"><a href="https://www.sigbus.info/compilerbook#cb40-16"></a>}</span></code></pre></div>
<p><code class="notranslate">error_at</code>が受け取るポインタは、入力全体を表す文字列の途中を指しているポインタです。そのポインタと、入力の先頭を指しているポインタとの差を取ると、エラーのある場所が入力の何バイト目かわかるので、その場所を目立つように<code class="notranslate">^</code>でマークすることができます。</p>
<p><code class="notranslate">argv[1]</code>を<code class="notranslate">user_input</code>に保存するようにして、<code class="notranslate">error("数ではありません")</code>といったコードを<code class="notranslate">error_at(token-&gt;str, "数ではありません")</code>といったコードにアップデートすれば、このステップは完了です。</p>
<p>実用レベルのコンパイラであれば、入力にエラーがあるときの振る舞いについてもテストを書くべきですが、今のところエラーメッセージはデバグを助けるために出力しているだけなので、この段階では特にテストは書かなくて構いません。</p>
<div class="ref"><p style="font-weight: bold;">リファレンス実装</p>
<ul>
<li><a href="https://github.com/rui314/chibicc/commit/c6ff1d98a1419e69c31902447e2caa85af4e9844">c6ff1d98a1419e69</a></li>
</ul>
</div>
<div class="note">
<p>コラム: ソースコードのフォーマッタ</p>
<p>日本語でも句読点など正書法のレベルで誤りの多い文章が読むに耐えないのと同じように、ソースコードも、インデントがおかしかったり空白の有無などが一貫していなかったりすると、ソースコードの中身以前のレベルできれいなコードとは言えません。コードのフォーマッティングといったいわばどうでもいい部分では、機械的に一定のルールを適用して、気が散らずに読めるコードを書くように気をつけてください。</p>
<p>複数人で開発するときにはどういったフォーマットにするか相談して決めなければいけませんが、この本では一人で開発しているので、ある程度メジャーなフォーマットのなかから自分で好きなフォーマットを選んで構いません。</p>
<p>最近開発された言語では、どういうフォーマットを選ぶかという、好みはわかれるけど本質的ではない議論の必要性そのものをなくすために、言語公式のフォーマッタを提供しているものがあります。たとえばGo言語ではgofmtというコマンドがあり、それを使うとソースコードをきれいに整形してくれます。<span class="index" id="index23">gofmt</span>はフォーマットのスタイルを選ぶためのオプションがなく、いわば唯一の「Go公式のフォーマット」にしか整形することができません。あえて選択肢を与えないことにより、フォーマットをどうするかという問題をGoは完全に解決しているわけです。</p>
<p>CやC++では<span class="index" id="index24">clang-format</span>というフォーマッタがありますが、本書では特にこういったツールを使うことを推奨したいわけではありません。フォーマットのおかしなコードを書いて後から整形するのではなく、最初から一貫した見た目のコードを書くように気をつけてみてください。</p>
</div>
<div class="note">
<p>コラム: インデントのエラーで生じたセキュリティバグ</p>
<p>ソースコードのインデントを間違えたせいで、iOSとmacOSに重大なセキュリティ問題が生じたことがあります。バグのあった箇所のコードを以下に示します。</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode c notranslate"><code class="sourceCode c notranslate"><span id="cb41-1"><a href="https://www.sigbus.info/compilerbook#cb41-1"></a><span class="cf">if</span> ((err = ReadyHash(&amp;SSLHashSHA1, &amp;hashCtx)) != <span class="dv">0</span>)</span>
<span id="cb41-2"><a href="https://www.sigbus.info/compilerbook#cb41-2"></a>    <span class="cf">goto</span> fail;</span>
<span id="cb41-3"><a href="https://www.sigbus.info/compilerbook#cb41-3"></a><span class="cf">if</span> ((err = SSLHashSHA1.update(&amp;hashCtx, &amp;clientRandom)) != <span class="dv">0</span>)</span>
<span id="cb41-4"><a href="https://www.sigbus.info/compilerbook#cb41-4"></a>    <span class="cf">goto</span> fail;</span>
<span id="cb41-5"><a href="https://www.sigbus.info/compilerbook#cb41-5"></a><span class="cf">if</span> ((err = SSLHashSHA1.update(&amp;hashCtx, &amp;serverRandom)) != <span class="dv">0</span>)</span>
<span id="cb41-6"><a href="https://www.sigbus.info/compilerbook#cb41-6"></a>    <span class="cf">goto</span> fail;</span>
<span id="cb41-7"><a href="https://www.sigbus.info/compilerbook#cb41-7"></a><span class="cf">if</span> ((err = SSLHashSHA1.update(&amp;hashCtx, &amp;signedParams)) != <span class="dv">0</span>)</span>
<span id="cb41-8"><a href="https://www.sigbus.info/compilerbook#cb41-8"></a>    <span class="cf">goto</span> fail;</span>
<span id="cb41-9"><a href="https://www.sigbus.info/compilerbook#cb41-9"></a>    <span class="cf">goto</span> fail;</span>
<span id="cb41-10"><a href="https://www.sigbus.info/compilerbook#cb41-10"></a><span class="cf">if</span> ((err = SSLHashSHA1.final(&amp;hashCtx, &amp;hashOut)) != <span class="dv">0</span>)</span>
<span id="cb41-11"><a href="https://www.sigbus.info/compilerbook#cb41-11"></a>    <span class="cf">goto</span> fail;</span></code></pre></div>
<p>読者の皆さんにはどこにバグがあるかわかりますか？ このコードは一見普通のコード片に見えますが、よく見ると下から2つ目のgoto文がif文の中に入っておらず、常に実行されるgoto文になってしまっています。</p>
<p>運が悪いことにこのコードはTLSの証明書を検証する関数に書かれていて、結果として証明書を検証するコードの大部分がgoto文で無条件にスキップされて、iOS/macOSが不正な証明書を正しい証明書として受け付ける（HTTPSサイトのなりすましを許す）ことになってしまっていました。このバグは2014年に発見・修正されました。余分なgoto failによりプログラムがfailするという言葉遊び的な面白さから、このバグはgoto failバグと呼ばれています。</p>
</div>
<h2 id="文法の記述方法と再帰下降構文解析"><a href="https://www.sigbus.info/compilerbook#%E6%96%87%E6%B3%95%E3%81%AE%E8%A8%98%E8%BF%B0%E6%96%B9%E6%B3%95%E3%81%A8%E5%86%8D%E5%B8%B0%E4%B8%8B%E9%99%8D%E6%A7%8B%E6%96%87%E8%A7%A3%E6%9E%90" style="text-decoration: none; color: inherit;">文法の記述方法と再帰下降構文解析</a></h2>
<p>さて、次は乗除算や優先順位のカッコ、すなわち<code class="notranslate">*</code>、<code class="notranslate">/</code>、<code class="notranslate">()</code>を言語に追加したいのですが、それをするためには1つ大きな技術的チャレンジがあります。掛け算や割り算は式の中で最初に計算しなければいけないというルールがあるからです。例えば<code class="notranslate">1+2*3</code>という式は<code class="notranslate">1+(2*3)</code>というように解釈しなければいけないのであって、<code class="notranslate">(1+2)*3</code>というように解釈してはいけません。こういった、どの演算子が最初に「くっつく」のかというルールを「<span class="index" id="index25">演算子の優先順位</span>」（<span class="index" id="index26">operator precedence</span>）といいます。</p>
<p>演算子の優先順位はどのように処理すればよいのでしょうか？ ここまで作ってきたコンパイラでは、先頭からトークン列を読んでアセンブリを出力していくだけなので、素直にそのまま拡張して<code class="notranslate">*</code>と<code class="notranslate">/</code>を追加すると、<code class="notranslate">1+2*3</code>を<code class="notranslate">(1+2)*3</code>としてコンパイルすることになってしまいます。</p>
<p>既存のコンパイラは当然、演算子の優先順位をうまく扱えています。コンパイラの構文解析は非常に強力で、どのような複雑なコードでも、文法にそっている限りは正しく解釈することができます。このコンパイラの振る舞いには人間を超える知的な能力すら感じることがありますが、実際には、コンピュータには人間のような文章読解能力はないので、構文解析はなんらかの機械的メカニズムのみによって行われているはずです。具体的にはどういう仕組みで動いているのでしょうか？</p>
<p>この章では、コーディングは一休みにして、構文解析のテクニックについて学んでいきましょう。この章では、構文解析のテクニックについて次の順番で説明をします。</p>
<ol>
<li>パーサの出力のデータ構造を知ることで、最終的なゴールをまず把握する</li>
<li>文法規則を定義するルールを学ぶ</li>
<li>文法規則を定義するルールをもとに、パーサを書くテクニックを学ぶ</li>
</ol>
<h3 id="木構造による文法構造の表現"><a href="https://www.sigbus.info/compilerbook#%E6%9C%A8%E6%A7%8B%E9%80%A0%E3%81%AB%E3%82%88%E3%82%8B%E6%96%87%E6%B3%95%E6%A7%8B%E9%80%A0%E3%81%AE%E8%A1%A8%E7%8F%BE" style="text-decoration: none; color: inherit;">木構造による文法構造の表現</a></h3>
<p>プログラミング言語のパーサの実装においては、入力はフラットなトークンの列で、出力は入れ子構造を表す木にするのが普通です。本書で作成するコンパイラもその構成に従っています。</p>
<p>C言語では<code class="notranslate">if</code>や<code class="notranslate">while</code>といった文法的な要素を入れ子にすることができます。こういったものを木構造で表すというのは自然な表現方法といってよいでしょう。</p>
<p>数式には、カッコの中を先に計算するとか、乗除算を加減算より先に計算するといった構造があります。こういった構造は、一見、木には見えないかもしれませんが、実際には木を使うと大変シンプルに式の構造を表すことができます。たとえば<code class="notranslate">1*(2+3)</code>という式は、次の木により表現されていると考えることができます。</p>
<figure>
<img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIKICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPgo8IS0tIEdlbmVyYXRlZCBieSBncmFwaHZpeiB2ZXJzaW9uIDIuNDAuMSAoMjAxNjEyMjUuMDMwNCkKIC0tPgo8IS0tIFRpdGxlOiBHIFBhZ2VzOiAxIC0tPgo8c3ZnIHdpZHRoPSIxNzBwdCIgaGVpZ2h0PSIxODhwdCIKIHZpZXdCb3g9IjAuMDAgMC4wMCAxNzAuMDAgMTg4LjAwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4KPGcgaWQ9ImdyYXBoMCIgY2xhc3M9ImdyYXBoIiB0cmFuc2Zvcm09InNjYWxlKDEgMSkgcm90YXRlKDApIHRyYW5zbGF0ZSg0IDE4NCkiPgo8dGl0bGU+RzwvdGl0bGU+Cjxwb2x5Z29uIGZpbGw9IiNmZmZmZmYiIHN0cm9rZT0idHJhbnNwYXJlbnQiIHBvaW50cz0iLTQsNCAtNCwtMTg0IDE2NiwtMTg0IDE2Niw0IC00LDQiLz4KPCEtLSAqIC0tPgo8ZyBpZD0ibm9kZTEiIGNsYXNzPSJub2RlIj4KPHRpdGxlPio8L3RpdGxlPgo8ZWxsaXBzZSBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIGN4PSI2MyIgY3k9Ii0xNjIiIHJ4PSIyNyIgcnk9IjE4Ii8+Cjx0ZXh0IHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjYzIiB5PSItMTU3LjgiIGZvbnQtZmFtaWx5PSJUaW1lcyxzZXJpZiIgZm9udC1zaXplPSIxNC4wMCIgZmlsbD0iIzAwMDAwMCI+KjwvdGV4dD4KPC9nPgo8IS0tIDEgLS0+CjxnIGlkPSJub2RlMiIgY2xhc3M9Im5vZGUiPgo8dGl0bGU+MTwvdGl0bGU+CjxlbGxpcHNlIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgY3g9IjI3IiBjeT0iLTkwIiByeD0iMjciIHJ5PSIxOCIvPgo8dGV4dCB0ZXh0LWFuY2hvcj0ibWlkZGxlIiB4PSIyNyIgeT0iLTg1LjgiIGZvbnQtZmFtaWx5PSJUaW1lcyxzZXJpZiIgZm9udC1zaXplPSIxNC4wMCIgZmlsbD0iIzAwMDAwMCI+MTwvdGV4dD4KPC9nPgo8IS0tIComIzQ1OyZndDsxIC0tPgo8ZyBpZD0iZWRnZTEiIGNsYXNzPSJlZGdlIj4KPHRpdGxlPiomIzQ1OyZndDsxPC90aXRsZT4KPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBkPSJNNTQuMjg1NCwtMTQ0LjU3MDhDNTAuMDQwMywtMTM2LjA4MDcgNDQuODQ2NCwtMTI1LjY5MjkgNDAuMTMzNywtMTE2LjI2NzQiLz4KPHBvbHlnb24gZmlsbD0iIzAwMDAwMCIgc3Ryb2tlPSIjMDAwMDAwIiBwb2ludHM9IjQzLjIzNywtMTE0LjY0NzcgMzUuNjM0MywtMTA3LjI2ODcgMzYuOTc2LC0xMTcuNzc4MiA0My4yMzcsLTExNC42NDc3Ii8+CjwvZz4KPCEtLSArIC0tPgo8ZyBpZD0ibm9kZTMiIGNsYXNzPSJub2RlIj4KPHRpdGxlPis8L3RpdGxlPgo8ZWxsaXBzZSBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIGN4PSI5OSIgY3k9Ii05MCIgcng9IjI3IiByeT0iMTgiLz4KPHRleHQgdGV4dC1hbmNob3I9Im1pZGRsZSIgeD0iOTkiIHk9Ii04NS44IiBmb250LWZhbWlseT0iVGltZXMsc2VyaWYiIGZvbnQtc2l6ZT0iMTQuMDAiIGZpbGw9IiMwMDAwMDAiPis8L3RleHQ+CjwvZz4KPCEtLSAqJiM0NTsmZ3Q7KyAtLT4KPGcgaWQ9ImVkZ2UyIiBjbGFzcz0iZWRnZSI+Cjx0aXRsZT4qJiM0NTsmZ3Q7KzwvdGl0bGU+CjxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgZD0iTTcxLjcxNDYsLTE0NC41NzA4Qzc1Ljk1OTcsLTEzNi4wODA3IDgxLjE1MzYsLTEyNS42OTI5IDg1Ljg2NjMsLTExNi4yNjc0Ii8+Cjxwb2x5Z29uIGZpbGw9IiMwMDAwMDAiIHN0cm9rZT0iIzAwMDAwMCIgcG9pbnRzPSI4OS4wMjQsLTExNy43NzgyIDkwLjM2NTcsLTEwNy4yNjg3IDgyLjc2MywtMTE0LjY0NzcgODkuMDI0LC0xMTcuNzc4MiIvPgo8L2c+CjwhLS0gMiAtLT4KPGcgaWQ9Im5vZGU0IiBjbGFzcz0ibm9kZSI+Cjx0aXRsZT4yPC90aXRsZT4KPGVsbGlwc2UgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBjeD0iNjMiIGN5PSItMTgiIHJ4PSIyNyIgcnk9IjE4Ii8+Cjx0ZXh0IHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjYzIiB5PSItMTMuOCIgZm9udC1mYW1pbHk9IlRpbWVzLHNlcmlmIiBmb250LXNpemU9IjE0LjAwIiBmaWxsPSIjMDAwMDAwIj4yPC90ZXh0Pgo8L2c+CjwhLS0gKyYjNDU7Jmd0OzIgLS0+CjxnIGlkPSJlZGdlMyIgY2xhc3M9ImVkZ2UiPgo8dGl0bGU+KyYjNDU7Jmd0OzI8L3RpdGxlPgo8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIGQ9Ik05MC4yODU0LC03Mi41NzA4Qzg2LjA0MDMsLTY0LjA4MDcgODAuODQ2NCwtNTMuNjkyOSA3Ni4xMzM3LC00NC4yNjc0Ii8+Cjxwb2x5Z29uIGZpbGw9IiMwMDAwMDAiIHN0cm9rZT0iIzAwMDAwMCIgcG9pbnRzPSI3OS4yMzcsLTQyLjY0NzcgNzEuNjM0MywtMzUuMjY4NyA3Mi45NzYsLTQ1Ljc3ODIgNzkuMjM3LC00Mi42NDc3Ii8+CjwvZz4KPCEtLSAzIC0tPgo8ZyBpZD0ibm9kZTUiIGNsYXNzPSJub2RlIj4KPHRpdGxlPjM8L3RpdGxlPgo8ZWxsaXBzZSBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIGN4PSIxMzUiIGN5PSItMTgiIHJ4PSIyNyIgcnk9IjE4Ii8+Cjx0ZXh0IHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjEzNSIgeT0iLTEzLjgiIGZvbnQtZmFtaWx5PSJUaW1lcyxzZXJpZiIgZm9udC1zaXplPSIxNC4wMCIgZmlsbD0iIzAwMDAwMCI+MzwvdGV4dD4KPC9nPgo8IS0tICsmIzQ1OyZndDszIC0tPgo8ZyBpZD0iZWRnZTQiIGNsYXNzPSJlZGdlIj4KPHRpdGxlPismIzQ1OyZndDszPC90aXRsZT4KPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBkPSJNMTA3LjcxNDYsLTcyLjU3MDhDMTExLjk1OTcsLTY0LjA4MDcgMTE3LjE1MzYsLTUzLjY5MjkgMTIxLjg2NjMsLTQ0LjI2NzQiLz4KPHBvbHlnb24gZmlsbD0iIzAwMDAwMCIgc3Ryb2tlPSIjMDAwMDAwIiBwb2ludHM9IjEyNS4wMjQsLTQ1Ljc3ODIgMTI2LjM2NTcsLTM1LjI2ODcgMTE4Ljc2MywtNDIuNjQ3NyAxMjUuMDI0LC00NS43NzgyIi8+CjwvZz4KPC9nPgo8L3N2Zz4K" alt=""><figcaption><code class="notranslate">1*(2+3)</code>を表す木</figcaption>
</figure>
<p>木の末端から順に計算していくというルールを採用した場合、上記の木は、1に2+3をかける、という式を表していることになります。つまり、上記の木では、<code class="notranslate">1*(2+3)</code>の具体的な計算順序が木の形そのもので表現されていることになります。</p>
<p>別の例を示します。下の木は<code class="notranslate">7-3-3</code>を表す木です。</p>
<figure>
<img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIKICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPgo8IS0tIEdlbmVyYXRlZCBieSBncmFwaHZpeiB2ZXJzaW9uIDIuNDAuMSAoMjAxNjEyMjUuMDMwNCkKIC0tPgo8IS0tIFRpdGxlOiBHIFBhZ2VzOiAxIC0tPgo8c3ZnIHdpZHRoPSIxNzBwdCIgaGVpZ2h0PSIxODhwdCIKIHZpZXdCb3g9IjAuMDAgMC4wMCAxNzAuMDAgMTg4LjAwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4KPGcgaWQ9ImdyYXBoMCIgY2xhc3M9ImdyYXBoIiB0cmFuc2Zvcm09InNjYWxlKDEgMSkgcm90YXRlKDApIHRyYW5zbGF0ZSg0IDE4NCkiPgo8dGl0bGU+RzwvdGl0bGU+Cjxwb2x5Z29uIGZpbGw9IiNmZmZmZmYiIHN0cm9rZT0idHJhbnNwYXJlbnQiIHBvaW50cz0iLTQsNCAtNCwtMTg0IDE2NiwtMTg0IDE2Niw0IC00LDQiLz4KPCEtLSBuMSAtLT4KPGcgaWQ9Im5vZGUxIiBjbGFzcz0ibm9kZSI+Cjx0aXRsZT5uMTwvdGl0bGU+CjxlbGxpcHNlIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgY3g9Ijk5IiBjeT0iLTE2MiIgcng9IjI3IiByeT0iMTgiLz4KPHRleHQgdGV4dC1hbmNob3I9Im1pZGRsZSIgeD0iOTkiIHk9Ii0xNTcuOCIgZm9udC1mYW1pbHk9IlRpbWVzLHNlcmlmIiBmb250LXNpemU9IjE0LjAwIiBmaWxsPSIjMDAwMDAwIj4mIzQ1OzwvdGV4dD4KPC9nPgo8IS0tIG4yIC0tPgo8ZyBpZD0ibm9kZTIiIGNsYXNzPSJub2RlIj4KPHRpdGxlPm4yPC90aXRsZT4KPGVsbGlwc2UgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBjeD0iNjMiIGN5PSItOTAiIHJ4PSIyNyIgcnk9IjE4Ii8+Cjx0ZXh0IHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjYzIiB5PSItODUuOCIgZm9udC1mYW1pbHk9IlRpbWVzLHNlcmlmIiBmb250LXNpemU9IjE0LjAwIiBmaWxsPSIjMDAwMDAwIj4mIzQ1OzwvdGV4dD4KPC9nPgo8IS0tIG4xJiM0NTsmZ3Q7bjIgLS0+CjxnIGlkPSJlZGdlMSIgY2xhc3M9ImVkZ2UiPgo8dGl0bGU+bjEmIzQ1OyZndDtuMjwvdGl0bGU+CjxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgZD0iTTkwLjI4NTQsLTE0NC41NzA4Qzg2LjA0MDMsLTEzNi4wODA3IDgwLjg0NjQsLTEyNS42OTI5IDc2LjEzMzcsLTExNi4yNjc0Ii8+Cjxwb2x5Z29uIGZpbGw9IiMwMDAwMDAiIHN0cm9rZT0iIzAwMDAwMCIgcG9pbnRzPSI3OS4yMzcsLTExNC42NDc3IDcxLjYzNDMsLTEwNy4yNjg3IDcyLjk3NiwtMTE3Ljc3ODIgNzkuMjM3LC0xMTQuNjQ3NyIvPgo8L2c+CjwhLS0geDIgLS0+CjxnIGlkPSJub2RlNSIgY2xhc3M9Im5vZGUiPgo8dGl0bGU+eDI8L3RpdGxlPgo8ZWxsaXBzZSBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIGN4PSIxMzUiIGN5PSItOTAiIHJ4PSIyNyIgcnk9IjE4Ii8+Cjx0ZXh0IHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjEzNSIgeT0iLTg1LjgiIGZvbnQtZmFtaWx5PSJUaW1lcyxzZXJpZiIgZm9udC1zaXplPSIxNC4wMCIgZmlsbD0iIzAwMDAwMCI+MzwvdGV4dD4KPC9nPgo8IS0tIG4xJiM0NTsmZ3Q7eDIgLS0+CjxnIGlkPSJlZGdlNCIgY2xhc3M9ImVkZ2UiPgo8dGl0bGU+bjEmIzQ1OyZndDt4MjwvdGl0bGU+CjxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgZD0iTTEwNy43MTQ2LC0xNDQuNTcwOEMxMTEuOTU5NywtMTM2LjA4MDcgMTE3LjE1MzYsLTEyNS42OTI5IDEyMS44NjYzLC0xMTYuMjY3NCIvPgo8cG9seWdvbiBmaWxsPSIjMDAwMDAwIiBzdHJva2U9IiMwMDAwMDAiIHBvaW50cz0iMTI1LjAyNCwtMTE3Ljc3ODIgMTI2LjM2NTcsLTEwNy4yNjg3IDExOC43NjMsLTExNC42NDc3IDEyNS4wMjQsLTExNy43NzgyIi8+CjwvZz4KPCEtLSA3IC0tPgo8ZyBpZD0ibm9kZTMiIGNsYXNzPSJub2RlIj4KPHRpdGxlPjc8L3RpdGxlPgo8ZWxsaXBzZSBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIGN4PSIyNyIgY3k9Ii0xOCIgcng9IjI3IiByeT0iMTgiLz4KPHRleHQgdGV4dC1hbmNob3I9Im1pZGRsZSIgeD0iMjciIHk9Ii0xMy44IiBmb250LWZhbWlseT0iVGltZXMsc2VyaWYiIGZvbnQtc2l6ZT0iMTQuMDAiIGZpbGw9IiMwMDAwMDAiPjc8L3RleHQ+CjwvZz4KPCEtLSBuMiYjNDU7Jmd0OzcgLS0+CjxnIGlkPSJlZGdlMiIgY2xhc3M9ImVkZ2UiPgo8dGl0bGU+bjImIzQ1OyZndDs3PC90aXRsZT4KPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBkPSJNNTQuMjg1NCwtNzIuNTcwOEM1MC4wNDAzLC02NC4wODA3IDQ0Ljg0NjQsLTUzLjY5MjkgNDAuMTMzNywtNDQuMjY3NCIvPgo8cG9seWdvbiBmaWxsPSIjMDAwMDAwIiBzdHJva2U9IiMwMDAwMDAiIHBvaW50cz0iNDMuMjM3LC00Mi42NDc3IDM1LjYzNDMsLTM1LjI2ODcgMzYuOTc2LC00NS43NzgyIDQzLjIzNywtNDIuNjQ3NyIvPgo8L2c+CjwhLS0geDEgLS0+CjxnIGlkPSJub2RlNCIgY2xhc3M9Im5vZGUiPgo8dGl0bGU+eDE8L3RpdGxlPgo8ZWxsaXBzZSBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIGN4PSI5OSIgY3k9Ii0xOCIgcng9IjI3IiByeT0iMTgiLz4KPHRleHQgdGV4dC1hbmNob3I9Im1pZGRsZSIgeD0iOTkiIHk9Ii0xMy44IiBmb250LWZhbWlseT0iVGltZXMsc2VyaWYiIGZvbnQtc2l6ZT0iMTQuMDAiIGZpbGw9IiMwMDAwMDAiPjM8L3RleHQ+CjwvZz4KPCEtLSBuMiYjNDU7Jmd0O3gxIC0tPgo8ZyBpZD0iZWRnZTMiIGNsYXNzPSJlZGdlIj4KPHRpdGxlPm4yJiM0NTsmZ3Q7eDE8L3RpdGxlPgo8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIGQ9Ik03MS43MTQ2LC03Mi41NzA4Qzc1Ljk1OTcsLTY0LjA4MDcgODEuMTUzNiwtNTMuNjkyOSA4NS44NjYzLC00NC4yNjc0Ii8+Cjxwb2x5Z29uIGZpbGw9IiMwMDAwMDAiIHN0cm9rZT0iIzAwMDAwMCIgcG9pbnRzPSI4OS4wMjQsLTQ1Ljc3ODIgOTAuMzY1NywtMzUuMjY4NyA4Mi43NjMsLTQyLjY0NzcgODkuMDI0LC00NS43NzgyIi8+CjwvZz4KPC9nPgo8L3N2Zz4K" alt=""><figcaption><code class="notranslate">7-3-3</code>を表す木</figcaption>
</figure>
<p>上記の木においては、「引き算は左から順に計算しなければいけない」というルールの適用結果が、木の形として明示的に表されています。つまり、上記の木は<code class="notranslate">(7-3)-3 = 1</code>という式を表しているのであって、<code class="notranslate">7-(3-3) = 7</code>という式を表しているわけではありません。もし後者の式であったなら、それを表す木は左ではなく右に深くなるようになります。</p>
<p>左から計算しなければならない演算子のことを「左結合」の演算子、右から計算しなければならない演算子のことを「右結合」の演算子といいます。Cでは、代入の<code class="notranslate">=</code>を除いて、ほとんどの演算子は左結合として定義されています。</p>
<p>木構造においては、木を深くすることでいくらでも長い式を表すことができます。次の木は、<code class="notranslate">1*2+3*4*5</code>を表す木です。</p>
<figure>
<img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIKICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPgo8IS0tIEdlbmVyYXRlZCBieSBncmFwaHZpeiB2ZXJzaW9uIDIuNDAuMSAoMjAxNjEyMjUuMDMwNCkKIC0tPgo8IS0tIFRpdGxlOiBHIFBhZ2VzOiAxIC0tPgo8c3ZnIHdpZHRoPSIyNzhwdCIgaGVpZ2h0PSIyNjBwdCIKIHZpZXdCb3g9IjAuMDAgMC4wMCAyNzguMDAgMjYwLjAwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4KPGcgaWQ9ImdyYXBoMCIgY2xhc3M9ImdyYXBoIiB0cmFuc2Zvcm09InNjYWxlKDEgMSkgcm90YXRlKDApIHRyYW5zbGF0ZSg0IDI1NikiPgo8dGl0bGU+RzwvdGl0bGU+Cjxwb2x5Z29uIGZpbGw9IiNmZmZmZmYiIHN0cm9rZT0idHJhbnNwYXJlbnQiIHBvaW50cz0iLTQsNCAtNCwtMjU2IDI3NCwtMjU2IDI3NCw0IC00LDQiLz4KPCEtLSBtMSAtLT4KPGcgaWQ9Im5vZGUxIiBjbGFzcz0ibm9kZSI+Cjx0aXRsZT5tMTwvdGl0bGU+CjxlbGxpcHNlIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgY3g9Ijk5IiBjeT0iLTE2MiIgcng9IjI3IiByeT0iMTgiLz4KPHRleHQgdGV4dC1hbmNob3I9Im1pZGRsZSIgeD0iOTkiIHk9Ii0xNTcuOCIgZm9udC1mYW1pbHk9IlRpbWVzLHNlcmlmIiBmb250LXNpemU9IjE0LjAwIiBmaWxsPSIjMDAwMDAwIj4qPC90ZXh0Pgo8L2c+CjwhLS0gMSAtLT4KPGcgaWQ9Im5vZGUzIiBjbGFzcz0ibm9kZSI+Cjx0aXRsZT4xPC90aXRsZT4KPGVsbGlwc2UgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBjeD0iMjciIGN5PSItOTAiIHJ4PSIyNyIgcnk9IjE4Ii8+Cjx0ZXh0IHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjI3IiB5PSItODUuOCIgZm9udC1mYW1pbHk9IlRpbWVzLHNlcmlmIiBmb250LXNpemU9IjE0LjAwIiBmaWxsPSIjMDAwMDAwIj4xPC90ZXh0Pgo8L2c+CjwhLS0gbTEmIzQ1OyZndDsxIC0tPgo8ZyBpZD0iZWRnZTIiIGNsYXNzPSJlZGdlIj4KPHRpdGxlPm0xJiM0NTsmZ3Q7MTwvdGl0bGU+CjxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgZD0iTTgzLjczMDcsLTE0Ni43MzA3QzczLjgwMywtMTM2LjgwMyA2MC42ODQ3LC0xMjMuNjg0NyA0OS41NjM3LC0xMTIuNTYzNyIvPgo8cG9seWdvbiBmaWxsPSIjMDAwMDAwIiBzdHJva2U9IiMwMDAwMDAiIHBvaW50cz0iNTEuNzkzMywtMTA5Ljg0MzYgNDIuMjQ3MywtMTA1LjI0NzMgNDYuODQzNiwtMTE0Ljc5MzMgNTEuNzkzMywtMTA5Ljg0MzYiLz4KPC9nPgo8IS0tIDIgLS0+CjxnIGlkPSJub2RlNCIgY2xhc3M9Im5vZGUiPgo8dGl0bGU+MjwvdGl0bGU+CjxlbGxpcHNlIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgY3g9Ijk5IiBjeT0iLTkwIiByeD0iMjciIHJ5PSIxOCIvPgo8dGV4dCB0ZXh0LWFuY2hvcj0ibWlkZGxlIiB4PSI5OSIgeT0iLTg1LjgiIGZvbnQtZmFtaWx5PSJUaW1lcyxzZXJpZiIgZm9udC1zaXplPSIxNC4wMCIgZmlsbD0iIzAwMDAwMCI+MjwvdGV4dD4KPC9nPgo8IS0tIG0xJiM0NTsmZ3Q7MiAtLT4KPGcgaWQ9ImVkZ2UzIiBjbGFzcz0iZWRnZSI+Cjx0aXRsZT5tMSYjNDU7Jmd0OzI8L3RpdGxlPgo8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIGQ9Ik05OSwtMTQzLjgzMTRDOTksLTEzNi4xMzEgOTksLTEyNi45NzQzIDk5LC0xMTguNDE2NiIvPgo8cG9seWdvbiBmaWxsPSIjMDAwMDAwIiBzdHJva2U9IiMwMDAwMDAiIHBvaW50cz0iMTAyLjUwMDEsLTExOC40MTMyIDk5LC0xMDguNDEzMyA5NS41MDAxLC0xMTguNDEzMyAxMDIuNTAwMSwtMTE4LjQxMzIiLz4KPC9nPgo8IS0tICsgLS0+CjxnIGlkPSJub2RlMiIgY2xhc3M9Im5vZGUiPgo8dGl0bGU+KzwvdGl0bGU+CjxlbGxpcHNlIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgY3g9IjEzNSIgY3k9Ii0yMzQiIHJ4PSIyNyIgcnk9IjE4Ii8+Cjx0ZXh0IHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjEzNSIgeT0iLTIyOS44IiBmb250LWZhbWlseT0iVGltZXMsc2VyaWYiIGZvbnQtc2l6ZT0iMTQuMDAiIGZpbGw9IiMwMDAwMDAiPis8L3RleHQ+CjwvZz4KPCEtLSArJiM0NTsmZ3Q7bTEgLS0+CjxnIGlkPSJlZGdlMSIgY2xhc3M9ImVkZ2UiPgo8dGl0bGU+KyYjNDU7Jmd0O20xPC90aXRsZT4KPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBkPSJNMTI2LjI4NTQsLTIxNi41NzA4QzEyMi4wNDAzLC0yMDguMDgwNyAxMTYuODQ2NCwtMTk3LjY5MjkgMTEyLjEzMzcsLTE4OC4yNjc0Ii8+Cjxwb2x5Z29uIGZpbGw9IiMwMDAwMDAiIHN0cm9rZT0iIzAwMDAwMCIgcG9pbnRzPSIxMTUuMjM3LC0xODYuNjQ3NyAxMDcuNjM0MywtMTc5LjI2ODcgMTA4Ljk3NiwtMTg5Ljc3ODIgMTE1LjIzNywtMTg2LjY0NzciLz4KPC9nPgo8IS0tIG0yIC0tPgo8ZyBpZD0ibm9kZTUiIGNsYXNzPSJub2RlIj4KPHRpdGxlPm0yPC90aXRsZT4KPGVsbGlwc2UgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBjeD0iMTcxIiBjeT0iLTE2MiIgcng9IjI3IiByeT0iMTgiLz4KPHRleHQgdGV4dC1hbmNob3I9Im1pZGRsZSIgeD0iMTcxIiB5PSItMTU3LjgiIGZvbnQtZmFtaWx5PSJUaW1lcyxzZXJpZiIgZm9udC1zaXplPSIxNC4wMCIgZmlsbD0iIzAwMDAwMCI+KjwvdGV4dD4KPC9nPgo8IS0tICsmIzQ1OyZndDttMiAtLT4KPGcgaWQ9ImVkZ2U0IiBjbGFzcz0iZWRnZSI+Cjx0aXRsZT4rJiM0NTsmZ3Q7bTI8L3RpdGxlPgo8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIGQ9Ik0xNDMuNzE0NiwtMjE2LjU3MDhDMTQ3Ljk1OTcsLTIwOC4wODA3IDE1My4xNTM2LC0xOTcuNjkyOSAxNTcuODY2MywtMTg4LjI2NzQiLz4KPHBvbHlnb24gZmlsbD0iIzAwMDAwMCIgc3Ryb2tlPSIjMDAwMDAwIiBwb2ludHM9IjE2MS4wMjQsLTE4OS43NzgyIDE2Mi4zNjU3LC0xNzkuMjY4NyAxNTQuNzYzLC0xODYuNjQ3NyAxNjEuMDI0LC0xODkuNzc4MiIvPgo8L2c+CjwhLS0gbTMgLS0+CjxnIGlkPSJub2RlNiIgY2xhc3M9Im5vZGUiPgo8dGl0bGU+bTM8L3RpdGxlPgo8ZWxsaXBzZSBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIGN4PSIxNzEiIGN5PSItOTAiIHJ4PSIyNyIgcnk9IjE4Ii8+Cjx0ZXh0IHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjE3MSIgeT0iLTg1LjgiIGZvbnQtZmFtaWx5PSJUaW1lcyxzZXJpZiIgZm9udC1zaXplPSIxNC4wMCIgZmlsbD0iIzAwMDAwMCI+KjwvdGV4dD4KPC9nPgo8IS0tIG0yJiM0NTsmZ3Q7bTMgLS0+CjxnIGlkPSJlZGdlNSIgY2xhc3M9ImVkZ2UiPgo8dGl0bGU+bTImIzQ1OyZndDttMzwvdGl0bGU+CjxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgZD0iTTE3MSwtMTQzLjgzMTRDMTcxLC0xMzYuMTMxIDE3MSwtMTI2Ljk3NDMgMTcxLC0xMTguNDE2NiIvPgo8cG9seWdvbiBmaWxsPSIjMDAwMDAwIiBzdHJva2U9IiMwMDAwMDAiIHBvaW50cz0iMTc0LjUwMDEsLTExOC40MTMyIDE3MSwtMTA4LjQxMzMgMTY3LjUwMDEsLTExOC40MTMzIDE3NC41MDAxLC0xMTguNDEzMiIvPgo8L2c+CjwhLS0gNSAtLT4KPGcgaWQ9Im5vZGU5IiBjbGFzcz0ibm9kZSI+Cjx0aXRsZT41PC90aXRsZT4KPGVsbGlwc2UgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBjeD0iMjQzIiBjeT0iLTkwIiByeD0iMjciIHJ5PSIxOCIvPgo8dGV4dCB0ZXh0LWFuY2hvcj0ibWlkZGxlIiB4PSIyNDMiIHk9Ii04NS44IiBmb250LWZhbWlseT0iVGltZXMsc2VyaWYiIGZvbnQtc2l6ZT0iMTQuMDAiIGZpbGw9IiMwMDAwMDAiPjU8L3RleHQ+CjwvZz4KPCEtLSBtMiYjNDU7Jmd0OzUgLS0+CjxnIGlkPSJlZGdlOCIgY2xhc3M9ImVkZ2UiPgo8dGl0bGU+bTImIzQ1OyZndDs1PC90aXRsZT4KPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBkPSJNMTg2LjI2OTMsLTE0Ni43MzA3QzE5Ni4xOTcsLTEzNi44MDMgMjA5LjMxNTMsLTEyMy42ODQ3IDIyMC40MzYzLC0xMTIuNTYzNyIvPgo8cG9seWdvbiBmaWxsPSIjMDAwMDAwIiBzdHJva2U9IiMwMDAwMDAiIHBvaW50cz0iMjIzLjE1NjQsLTExNC43OTMzIDIyNy43NTI3LC0xMDUuMjQ3MyAyMTguMjA2NywtMTA5Ljg0MzYgMjIzLjE1NjQsLTExNC43OTMzIi8+CjwvZz4KPCEtLSAzIC0tPgo8ZyBpZD0ibm9kZTciIGNsYXNzPSJub2RlIj4KPHRpdGxlPjM8L3RpdGxlPgo8ZWxsaXBzZSBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIGN4PSIxMzUiIGN5PSItMTgiIHJ4PSIyNyIgcnk9IjE4Ii8+Cjx0ZXh0IHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjEzNSIgeT0iLTEzLjgiIGZvbnQtZmFtaWx5PSJUaW1lcyxzZXJpZiIgZm9udC1zaXplPSIxNC4wMCIgZmlsbD0iIzAwMDAwMCI+MzwvdGV4dD4KPC9nPgo8IS0tIG0zJiM0NTsmZ3Q7MyAtLT4KPGcgaWQ9ImVkZ2U2IiBjbGFzcz0iZWRnZSI+Cjx0aXRsZT5tMyYjNDU7Jmd0OzM8L3RpdGxlPgo8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIGQ9Ik0xNjIuMjg1NCwtNzIuNTcwOEMxNTguMDQwMywtNjQuMDgwNyAxNTIuODQ2NCwtNTMuNjkyOSAxNDguMTMzNywtNDQuMjY3NCIvPgo8cG9seWdvbiBmaWxsPSIjMDAwMDAwIiBzdHJva2U9IiMwMDAwMDAiIHBvaW50cz0iMTUxLjIzNywtNDIuNjQ3NyAxNDMuNjM0MywtMzUuMjY4NyAxNDQuOTc2LC00NS43NzgyIDE1MS4yMzcsLTQyLjY0NzciLz4KPC9nPgo8IS0tIDQgLS0+CjxnIGlkPSJub2RlOCIgY2xhc3M9Im5vZGUiPgo8dGl0bGU+NDwvdGl0bGU+CjxlbGxpcHNlIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgY3g9IjIwNyIgY3k9Ii0xOCIgcng9IjI3IiByeT0iMTgiLz4KPHRleHQgdGV4dC1hbmNob3I9Im1pZGRsZSIgeD0iMjA3IiB5PSItMTMuOCIgZm9udC1mYW1pbHk9IlRpbWVzLHNlcmlmIiBmb250LXNpemU9IjE0LjAwIiBmaWxsPSIjMDAwMDAwIj40PC90ZXh0Pgo8L2c+CjwhLS0gbTMmIzQ1OyZndDs0IC0tPgo8ZyBpZD0iZWRnZTciIGNsYXNzPSJlZGdlIj4KPHRpdGxlPm0zJiM0NTsmZ3Q7NDwvdGl0bGU+CjxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgZD0iTTE3OS43MTQ2LC03Mi41NzA4QzE4My45NTk3LC02NC4wODA3IDE4OS4xNTM2LC01My42OTI5IDE5My44NjYzLC00NC4yNjc0Ii8+Cjxwb2x5Z29uIGZpbGw9IiMwMDAwMDAiIHN0cm9rZT0iIzAwMDAwMCIgcG9pbnRzPSIxOTcuMDI0LC00NS43NzgyIDE5OC4zNjU3LC0zNS4yNjg3IDE5MC43NjMsLTQyLjY0NzcgMTk3LjAyNCwtNDUuNzc4MiIvPgo8L2c+CjwvZz4KPC9zdmc+Cg==" alt=""><figcaption><code class="notranslate">1*2+3*4*5</code>を表す木</figcaption>
</figure>
<p>上記のような木のことを「<span class="index" id="index27">構文木</span>」（こうぶんぎ、syntax tree）といいます。特に、グループ化のためのカッコなどの冗長な要素を木の中に残さずになるべくコンパクトに表現した構文木のことを「<span class="index" id="index28">抽象構文木</span>」（abstract syntax tree、AST）といいます。上記の構文木は、どれも抽象構文木ということができます。</p>
<p>抽象構文木はコンパイラの内部表現なので実装の都合で適当に定義してかまいません。とはいえ、足し算や掛け算のような算術演算子は、左辺と右辺の2つに対する演算として定義されているので、どのコンパイラでも2分木にするのが自然でしょう。一方、関数本体の式など、順番に実行されるだけで何個にでもなりうるものは、すべての子要素をフラットに持つ木で表すのが自然でしょう。</p>
<p>構文解析におけるゴールは抽象構文木を構築することです。コンパイラは、まず構文解析を行って入力のトークン列を抽象構文木に変換し、その構文木を次はアセンブリに変換することになります。</p>
<h3 id="生成規則による文法の定義"><a href="https://www.sigbus.info/compilerbook#%E7%94%9F%E6%88%90%E8%A6%8F%E5%89%87%E3%81%AB%E3%82%88%E3%82%8B%E6%96%87%E6%B3%95%E3%81%AE%E5%AE%9A%E7%BE%A9" style="text-decoration: none; color: inherit;">生成規則による文法の定義</a></h3>
<p>さて、次はプログラミング言語の構文の記述方法について学んでいきましょう。プログラミング言語の構文の大部分は「<span class="index" id="index29">生成規則</span>」（production rule）というものを使って定義されています。生成規則は文法を再帰的に定義するルールです。</p>
<p>自然言語について少し考えてみましょう。日本語において文法は入れ子構造になっています。例えば「花がきれいだ」という文の「花」という名詞を「赤い花」という名詞句に置き換えても正しい文になりますし、「赤い」というのを「少し赤い」というようにさらに展開してもやはり正しい文になっています。「少し赤い花がきれいだと私は思った」というように別の文章の中に入れることもできます。</p>
<p>こういった文法を、「『文』とは『主語』と『述語』からなる」とか「『名詞句』は『名詞』か、あるいは『形容詞』の後に『名詞句』が続くものからなる」といったようなルールとして定義されているものと考えてみましょう。そうすると「文」を出発点にして、ルールに従って展開していくことで、定義された文法における妥当な文というものを無数に作り出すことができます。</p>
<p>あるいは逆に、すでに存在している文について、それにマッチする展開手順を考えることで、その文字列がどのような構造を持っているのかどうかを考えることもできます。</p>
<p>元々上記のようなアイデアは自然言語のために考案されたのですが、コンピュータで扱うデータとの親和性がとても高いため、生成規則はプログラミング言語を始めとしてコンピュータの様々なところで利用されています。</p>
<div class="note">
<p>コラム: チョムスキーの生成文法</p>
<p>生成文法というアイデアを考え付いたのは、<span class="index" id="index30">ノーム・チョムスキー</span>という言語学者です。彼のアイデアは言語学やコンピュータサイエンスに非常に大きな影響を与えました。</p>
<p>チョムスキーの仮説によると、ヒトが言葉を話せる理由は、ヒトには生まれつき、生成規則を獲得するための専用の回路が脳に存在しているからだとされています。人間には再帰的な言語のルールの獲得能力があるために、言語を話せるようになるというわけです。ヒト以外の動物には言語獲得能力はありませんが、彼は、それは生成規則を獲得するための回路がヒト以外の動物の脳に存在しないためだと考えました。チョムスキーの主張は、仮説が発表されてから60年近くがたったいまでも立証も反証もされていませんが、現在でもかなり説得力があるものと考えられています。</p>
</div>
<h3 id="bnfによる生成規則の記述"><a href="https://www.sigbus.info/compilerbook#bnf%E3%81%AB%E3%82%88%E3%82%8B%E7%94%9F%E6%88%90%E8%A6%8F%E5%89%87%E3%81%AE%E8%A8%98%E8%BF%B0" style="text-decoration: none; color: inherit;">BNFによる生成規則の記述</a></h3>
<p>生成規則をコンパクトかつわかりやすく記述するための一つの記法として、<span class="index" id="index31">BNF</span>（<span class="index" id="index32">Backus–Naur form</span>）と、それを拡張した<span class="index" id="index33">EBNF</span>（<span class="index" id="index34">Extended BNF</span>）というものがあります。この本では、Cの文法をEBNFを使って説明していきます。この節では、まずBNFを説明し、その後にEBNFの拡張部分を説明します。</p>
<p>BNFでは、一つ一つの生成規則を<code class="notranslate">A = α₁α₂⋯</code>という形式で表します。これは記号<code class="notranslate">A</code>を<code class="notranslate">α₁α₂⋯</code>に展開できるという意味です。<code class="notranslate">α₁α₂⋯</code>は0個以上の記号の列で、それ以上展開できない記号と、さらに展開される（いずれかの生成規則で左辺に来ている）記号の両方を含むことができます。</p>
<p>それ以上展開できない記号を「<span class="index" id="index35">終端記号</span>」（terminal symbol）、どれかの生成規則の左辺に来ていて展開できる記号を「<span class="index" id="index36">非終端記号</span>」（nonterminal symbol）といいます。このような生成規則で定義される文法のことを一般に「<span class="index" id="index37">文脈自由文法</span>」（context free grammar）といいます。</p>
<p>非終端記号は複数の生成規則にマッチしてかまいません。例えば<code class="notranslate">A = α₁</code>と<code class="notranslate">A = α₂</code>の両方の規則があった場合、<code class="notranslate">A</code>は<code class="notranslate">α₁</code>か<code class="notranslate">α₂</code>のどちらに展開してもよい、という意味になります。</p>
<p>生成規則の右辺は、空でもかまいません。そのようなルールでは、左辺の記号は長さ0の記号列に（つまり無に）展開されることになります。ただし、表示上、右辺を省略すると意味がわかりづらくなるので、そのような場合には何もないことを表す記号として<span class="index" id="index38">ε（イプシロン）</span>を右辺に書いておくというのが普通のBNFのルールです。本書でもそのルールを採用しています。</p>
<p>文字列はダブルクオートでくくって<code class="notranslate">"foo"</code>のように書きます。文字列は常に終端記号です。</p>
<p>上記が基本的なBNFのルールです。EBNFでは、BNFのルールに加えて、以下の記号を使って複雑なルールを簡潔に書き下すことができます。</p>
<table class="notranslate">
<thead>
<tr class="header">
<th style="text-align: center;">書き方</th>
<th style="text-align: center;">意味</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><code class="notranslate">A*</code></td>
<td style="text-align: center;"><code class="notranslate">A</code>の0回以上の繰り返し</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code class="notranslate">A?</code></td>
<td style="text-align: center;"><code class="notranslate">A</code>またはε</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code class="notranslate">A | B</code></td>
<td style="text-align: center;"><code class="notranslate">A</code>または<code class="notranslate">B</code></td>
</tr>
<tr class="even">
<td style="text-align: center;"><code class="notranslate">( ... )</code></td>
<td style="text-align: center;">グループ化</td>
</tr>
</tbody>
</table>
<p>例えば<code class="notranslate">A = ("fizz" | "buzz")*</code>では、<code class="notranslate">A</code>は、<code class="notranslate">"fizz"</code>または<code class="notranslate">"buzz"</code>が0回以上繰り返された文字列、すなわち、</p>
<ul>
<li><code class="notranslate">""</code></li>
<li><code class="notranslate">"fizz"</code></li>
<li><code class="notranslate">"buzz"</code></li>
<li><code class="notranslate">"fizzfizz"</code></li>
<li><code class="notranslate">"fizzbuzz"</code></li>
<li><code class="notranslate">"buzzfizz"</code></li>
<li><code class="notranslate">"buzzbuzz"</code></li>
<li><code class="notranslate">"fizzfizzfizz"</code></li>
<li><code class="notranslate">"fizzfizzbuzz"</code></li>
<li>⋯⋯</li>
</ul>
<p>のいずれかに展開することができます。</p>
<div class="note">
<p>コラム: BNFとEBNF</p>
<p>Extendedではない普通のBNFには、<code class="notranslate">*</code>、<code class="notranslate">?</code>、<code class="notranslate">|</code>、<code class="notranslate">( ... )</code>といった簡潔な記法が存在していませんが、BNFで生成可能な文とEBNFで生成可能な文は同じです。なぜなら、以下のように書き換えることで、EBNFをBNFに変換することができるからです。</p>
<table class="notranslate">
<thead>
<tr class="header">
<th style="text-align: left;">EBNF</th>
<th style="text-align: left;">対応するBNF</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code class="notranslate">A = α*</code></td>
<td style="text-align: left;"><code class="notranslate">A = αA</code> と <code class="notranslate">A = ε</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code class="notranslate">A = α?</code></td>
<td style="text-align: left;"><code class="notranslate">A = α</code> と <code class="notranslate">A = ε</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code class="notranslate">A = α | β</code></td>
<td style="text-align: left;"><code class="notranslate">A = α</code> と <code class="notranslate">A = β</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code class="notranslate">A = α (β₁β₂⋯) γ</code></td>
<td style="text-align: left;"><code class="notranslate">A = α B γ</code> と <code class="notranslate">B = β₁β₂⋯</code></td>
</tr>
</tbody>
</table>
<p>例えば<code class="notranslate">A = αA</code>と<code class="notranslate">A = ε</code>という生成規則を使って<code class="notranslate">A</code>から<code class="notranslate">ααα</code>という文を生成するときには、<code class="notranslate">A → αA → ααA → αααA → ααα</code>という展開の順序になります。</p>
<p>このように、<code class="notranslate">*</code>や<code class="notranslate">?</code>といった記法は単なるショートカットにすぎませんが、とはいえ短い書き方の方がわかりやすくて望ましいので、短い記法を使える場合は普通はその記法を使って簡潔に記述することが普通です。</p>
</div>
<h3 id="単純な生成規則"><a href="https://www.sigbus.info/compilerbook#%E5%8D%98%E7%B4%94%E3%81%AA%E7%94%9F%E6%88%90%E8%A6%8F%E5%89%87" style="text-decoration: none; color: inherit;">単純な生成規則</a></h3>
<p>EBNFを使った文法の記述の例として、次の生成規則を考えてみてください。</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode scheme notranslate"><code class="sourceCode scheme notranslate"><span id="cb42-1"><a href="https://www.sigbus.info/compilerbook#cb42-1"></a>expr <span class="op">=</span> num (<span class="st">"+"</span> num | <span class="st">"-"</span> num)*</span></code></pre></div>
<p><code class="notranslate">num</code>は別途どこかで数値を表す記号として定義されているものとします。この文法においては、<code class="notranslate">expr</code>は、まず<code class="notranslate">num</code>が1つあって、その後に0個以上の「<code class="notranslate">+</code>と<code class="notranslate">num</code>、あるいは<code class="notranslate">-</code>と<code class="notranslate">num</code>」があるものということになります。この規則は、実は加減算の式の文法を表しています。</p>
<p>exprから出発して展開していくと、任意の加減算の文字列、例えば<code class="notranslate">1</code>や<code class="notranslate">10+5</code>や<code class="notranslate">42-30+2</code>のような文字列を作り出すことができます。以下の展開結果を確認してみてください。</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode scheme notranslate"><code class="sourceCode scheme notranslate"><span id="cb43-1"><a href="https://www.sigbus.info/compilerbook#cb43-1"></a>expr → num → <span class="st">"1"</span></span></code></pre></div>
<div class="sourceCode" id="cb44"><pre class="sourceCode scheme notranslate"><code class="sourceCode scheme notranslate"><span id="cb44-1"><a href="https://www.sigbus.info/compilerbook#cb44-1"></a>expr → num <span class="st">"+"</span> num</span>
<span id="cb44-2"><a href="https://www.sigbus.info/compilerbook#cb44-2"></a>     → <span class="st">"10"</span> <span class="st">"+"</span> <span class="st">"5"</span></span></code></pre></div>
<div class="sourceCode" id="cb45"><pre class="sourceCode scheme notranslate"><code class="sourceCode scheme notranslate"><span id="cb45-1"><a href="https://www.sigbus.info/compilerbook#cb45-1"></a>expr → num <span class="st">"-"</span> num <span class="st">"+"</span> num</span>
<span id="cb45-2"><a href="https://www.sigbus.info/compilerbook#cb45-2"></a>     → <span class="st">"42"</span> <span class="st">"-"</span> <span class="st">"30"</span> <span class="st">"+"</span> <span class="st">"2"</span></span></code></pre></div>
<p>このような展開の手順を、矢印を使って展開順ごとに表すだけではなく、木構造で表すこともできます。上の式の構文木を以下に示します。</p>
<figure>
<img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIKICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPgo8IS0tIEdlbmVyYXRlZCBieSBncmFwaHZpeiB2ZXJzaW9uIDIuNDAuMSAoMjAxNjEyMjUuMDMwNCkKIC0tPgo8IS0tIFRpdGxlOiBHIFBhZ2VzOiAxIC0tPgo8c3ZnIHdpZHRoPSI2MnB0IiBoZWlnaHQ9IjE4OHB0Igogdmlld0JveD0iMC4wMCAwLjAwIDYyLjAwIDE4OC4wMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CjxnIGlkPSJncmFwaDAiIGNsYXNzPSJncmFwaCIgdHJhbnNmb3JtPSJzY2FsZSgxIDEpIHJvdGF0ZSgwKSB0cmFuc2xhdGUoNCAxODQpIj4KPHRpdGxlPkc8L3RpdGxlPgo8cG9seWdvbiBmaWxsPSIjZmZmZmZmIiBzdHJva2U9InRyYW5zcGFyZW50IiBwb2ludHM9Ii00LDQgLTQsLTE4NCA1OCwtMTg0IDU4LDQgLTQsNCIvPgo8IS0tIGV4cHIgLS0+CjxnIGlkPSJub2RlMSIgY2xhc3M9Im5vZGUiPgo8dGl0bGU+ZXhwcjwvdGl0bGU+CjxlbGxpcHNlIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgY3g9IjI3IiBjeT0iLTE2MiIgcng9IjI3IiByeT0iMTgiLz4KPHRleHQgdGV4dC1hbmNob3I9Im1pZGRsZSIgeD0iMjciIHk9Ii0xNTcuOCIgZm9udC1mYW1pbHk9IlRpbWVzLHNlcmlmIiBmb250LXNpemU9IjE0LjAwIiBmaWxsPSIjMDAwMDAwIj5leHByPC90ZXh0Pgo8L2c+CjwhLS0gbnVtIC0tPgo8ZyBpZD0ibm9kZTIiIGNsYXNzPSJub2RlIj4KPHRpdGxlPm51bTwvdGl0bGU+CjxlbGxpcHNlIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgY3g9IjI3IiBjeT0iLTkwIiByeD0iMjciIHJ5PSIxOCIvPgo8dGV4dCB0ZXh0LWFuY2hvcj0ibWlkZGxlIiB4PSIyNyIgeT0iLTg1LjgiIGZvbnQtZmFtaWx5PSJUaW1lcyxzZXJpZiIgZm9udC1zaXplPSIxNC4wMCIgZmlsbD0iIzAwMDAwMCI+bnVtPC90ZXh0Pgo8L2c+CjwhLS0gZXhwciYjNDU7Jmd0O251bSAtLT4KPGcgaWQ9ImVkZ2UxIiBjbGFzcz0iZWRnZSI+Cjx0aXRsZT5leHByJiM0NTsmZ3Q7bnVtPC90aXRsZT4KPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBkPSJNMjcsLTE0My44MzE0QzI3LC0xMzYuMTMxIDI3LC0xMjYuOTc0MyAyNywtMTE4LjQxNjYiLz4KPHBvbHlnb24gZmlsbD0iIzAwMDAwMCIgc3Ryb2tlPSIjMDAwMDAwIiBwb2ludHM9IjMwLjUwMDEsLTExOC40MTMyIDI3LC0xMDguNDEzMyAyMy41MDAxLC0xMTguNDEzMyAzMC41MDAxLC0xMTguNDEzMiIvPgo8L2c+CjwhLS0gMSAtLT4KPGcgaWQ9Im5vZGUzIiBjbGFzcz0ibm9kZSI+Cjx0aXRsZT4xPC90aXRsZT4KPGVsbGlwc2UgZmlsbD0iI2YwZjBmMCIgc3Ryb2tlPSIjMDAwMDAwIiBjeD0iMjciIGN5PSItMTgiIHJ4PSIyNyIgcnk9IjE4Ii8+Cjx0ZXh0IHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjI3IiB5PSItMTMuOCIgZm9udC1mYW1pbHk9IlRpbWVzLHNlcmlmIiBmb250LXNpemU9IjE0LjAwIiBmaWxsPSIjMDAwMDAwIj4xPC90ZXh0Pgo8L2c+CjwhLS0gbnVtJiM0NTsmZ3Q7MSAtLT4KPGcgaWQ9ImVkZ2UyIiBjbGFzcz0iZWRnZSI+Cjx0aXRsZT5udW0mIzQ1OyZndDsxPC90aXRsZT4KPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBkPSJNMjcsLTcxLjgzMTRDMjcsLTY0LjEzMSAyNywtNTQuOTc0MyAyNywtNDYuNDE2NiIvPgo8cG9seWdvbiBmaWxsPSIjMDAwMDAwIiBzdHJva2U9IiMwMDAwMDAiIHBvaW50cz0iMzAuNTAwMSwtNDYuNDEzMiAyNywtMzYuNDEzMyAyMy41MDAxLC00Ni40MTMzIDMwLjUwMDEsLTQ2LjQxMzIiLz4KPC9nPgo8L2c+Cjwvc3ZnPgo=" alt=""><figcaption><code class="notranslate">1</code>の構文木</figcaption>
</figure>
<figure>
<img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIKICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPgo8IS0tIEdlbmVyYXRlZCBieSBncmFwaHZpeiB2ZXJzaW9uIDIuNDAuMSAoMjAxNjEyMjUuMDMwNCkKIC0tPgo8IS0tIFRpdGxlOiBHIFBhZ2VzOiAxIC0tPgo8c3ZnIHdpZHRoPSIyMDZwdCIgaGVpZ2h0PSIxODhwdCIKIHZpZXdCb3g9IjAuMDAgMC4wMCAyMDYuMDAgMTg4LjAwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4KPGcgaWQ9ImdyYXBoMCIgY2xhc3M9ImdyYXBoIiB0cmFuc2Zvcm09InNjYWxlKDEgMSkgcm90YXRlKDApIHRyYW5zbGF0ZSg0IDE4NCkiPgo8dGl0bGU+RzwvdGl0bGU+Cjxwb2x5Z29uIGZpbGw9IiNmZmZmZmYiIHN0cm9rZT0idHJhbnNwYXJlbnQiIHBvaW50cz0iLTQsNCAtNCwtMTg0IDIwMiwtMTg0IDIwMiw0IC00LDQiLz4KPCEtLSBlMSAtLT4KPGcgaWQ9Im5vZGUxIiBjbGFzcz0ibm9kZSI+Cjx0aXRsZT5lMTwvdGl0bGU+CjxlbGxpcHNlIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgY3g9Ijk5IiBjeT0iLTE2MiIgcng9IjI3IiByeT0iMTgiLz4KPHRleHQgdGV4dC1hbmNob3I9Im1pZGRsZSIgeD0iOTkiIHk9Ii0xNTcuOCIgZm9udC1mYW1pbHk9IlRpbWVzLHNlcmlmIiBmb250LXNpemU9IjE0LjAwIiBmaWxsPSIjMDAwMDAwIj5leHByPC90ZXh0Pgo8L2c+CjwhLS0gbjIgLS0+CjxnIGlkPSJub2RlMiIgY2xhc3M9Im5vZGUiPgo8dGl0bGU+bjI8L3RpdGxlPgo8ZWxsaXBzZSBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIGN4PSIyNyIgY3k9Ii05MCIgcng9IjI3IiByeT0iMTgiLz4KPHRleHQgdGV4dC1hbmNob3I9Im1pZGRsZSIgeD0iMjciIHk9Ii04NS44IiBmb250LWZhbWlseT0iVGltZXMsc2VyaWYiIGZvbnQtc2l6ZT0iMTQuMDAiIGZpbGw9IiMwMDAwMDAiPm51bTwvdGV4dD4KPC9nPgo8IS0tIGUxJiM0NTsmZ3Q7bjIgLS0+CjxnIGlkPSJlZGdlMSIgY2xhc3M9ImVkZ2UiPgo8dGl0bGU+ZTEmIzQ1OyZndDtuMjwvdGl0bGU+CjxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgZD0iTTgzLjczMDcsLTE0Ni43MzA3QzczLjgwMywtMTM2LjgwMyA2MC42ODQ3LC0xMjMuNjg0NyA0OS41NjM3LC0xMTIuNTYzNyIvPgo8cG9seWdvbiBmaWxsPSIjMDAwMDAwIiBzdHJva2U9IiMwMDAwMDAiIHBvaW50cz0iNTEuNzkzMywtMTA5Ljg0MzYgNDIuMjQ3MywtMTA1LjI0NzMgNDYuODQzNiwtMTE0Ljc5MzMgNTEuNzkzMywtMTA5Ljg0MzYiLz4KPC9nPgo8IS0tICsgLS0+CjxnIGlkPSJub2RlNCIgY2xhc3M9Im5vZGUiPgo8dGl0bGU+KzwvdGl0bGU+CjxlbGxpcHNlIGZpbGw9IiNmMGYwZjAiIHN0cm9rZT0iIzAwMDAwMCIgY3g9Ijk5IiBjeT0iLTkwIiByeD0iMjciIHJ5PSIxOCIvPgo8dGV4dCB0ZXh0LWFuY2hvcj0ibWlkZGxlIiB4PSI5OSIgeT0iLTg1LjgiIGZvbnQtZmFtaWx5PSJUaW1lcyxzZXJpZiIgZm9udC1zaXplPSIxNC4wMCIgZmlsbD0iIzAwMDAwMCI+KzwvdGV4dD4KPC9nPgo8IS0tIGUxJiM0NTsmZ3Q7KyAtLT4KPGcgaWQ9ImVkZ2UzIiBjbGFzcz0iZWRnZSI+Cjx0aXRsZT5lMSYjNDU7Jmd0Oys8L3RpdGxlPgo8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIGQ9Ik05OSwtMTQzLjgzMTRDOTksLTEzNi4xMzEgOTksLTEyNi45NzQzIDk5LC0xMTguNDE2NiIvPgo8cG9seWdvbiBmaWxsPSIjMDAwMDAwIiBzdHJva2U9IiMwMDAwMDAiIHBvaW50cz0iMTAyLjUwMDEsLTExOC40MTMyIDk5LC0xMDguNDEzMyA5NS41MDAxLC0xMTguNDEzMyAxMDIuNTAwMSwtMTE4LjQxMzIiLz4KPC9nPgo8IS0tIG4xIC0tPgo8ZyBpZD0ibm9kZTUiIGNsYXNzPSJub2RlIj4KPHRpdGxlPm4xPC90aXRsZT4KPGVsbGlwc2UgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBjeD0iMTcxIiBjeT0iLTkwIiByeD0iMjciIHJ5PSIxOCIvPgo8dGV4dCB0ZXh0LWFuY2hvcj0ibWlkZGxlIiB4PSIxNzEiIHk9Ii04NS44IiBmb250LWZhbWlseT0iVGltZXMsc2VyaWYiIGZvbnQtc2l6ZT0iMTQuMDAiIGZpbGw9IiMwMDAwMDAiPm51bTwvdGV4dD4KPC9nPgo8IS0tIGUxJiM0NTsmZ3Q7bjEgLS0+CjxnIGlkPSJlZGdlNCIgY2xhc3M9ImVkZ2UiPgo8dGl0bGU+ZTEmIzQ1OyZndDtuMTwvdGl0bGU+CjxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgZD0iTTExNC4yNjkzLC0xNDYuNzMwN0MxMjQuMTk3LC0xMzYuODAzIDEzNy4zMTUzLC0xMjMuNjg0NyAxNDguNDM2MywtMTEyLjU2MzciLz4KPHBvbHlnb24gZmlsbD0iIzAwMDAwMCIgc3Ryb2tlPSIjMDAwMDAwIiBwb2ludHM9IjE1MS4xNTY0LC0xMTQuNzkzMyAxNTUuNzUyNywtMTA1LjI0NzMgMTQ2LjIwNjcsLTEwOS44NDM2IDE1MS4xNTY0LC0xMTQuNzkzMyIvPgo8L2c+CjwhLS0gMTAgLS0+CjxnIGlkPSJub2RlMyIgY2xhc3M9Im5vZGUiPgo8dGl0bGU+MTA8L3RpdGxlPgo8ZWxsaXBzZSBmaWxsPSIjZjBmMGYwIiBzdHJva2U9IiMwMDAwMDAiIGN4PSIyNyIgY3k9Ii0xOCIgcng9IjI3IiByeT0iMTgiLz4KPHRleHQgdGV4dC1hbmNob3I9Im1pZGRsZSIgeD0iMjciIHk9Ii0xMy44IiBmb250LWZhbWlseT0iVGltZXMsc2VyaWYiIGZvbnQtc2l6ZT0iMTQuMDAiIGZpbGw9IiMwMDAwMDAiPjEwPC90ZXh0Pgo8L2c+CjwhLS0gbjImIzQ1OyZndDsxMCAtLT4KPGcgaWQ9ImVkZ2UyIiBjbGFzcz0iZWRnZSI+Cjx0aXRsZT5uMiYjNDU7Jmd0OzEwPC90aXRsZT4KPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBkPSJNMjcsLTcxLjgzMTRDMjcsLTY0LjEzMSAyNywtNTQuOTc0MyAyNywtNDYuNDE2NiIvPgo8cG9seWdvbiBmaWxsPSIjMDAwMDAwIiBzdHJva2U9IiMwMDAwMDAiIHBvaW50cz0iMzAuNTAwMSwtNDYuNDEzMiAyNywtMzYuNDEzMyAyMy41MDAxLC00Ni40MTMzIDMwLjUwMDEsLTQ2LjQxMzIiLz4KPC9nPgo8IS0tIDUgLS0+CjxnIGlkPSJub2RlNiIgY2xhc3M9Im5vZGUiPgo8dGl0bGU+NTwvdGl0bGU+CjxlbGxpcHNlIGZpbGw9IiNmMGYwZjAiIHN0cm9rZT0iIzAwMDAwMCIgY3g9IjE3MSIgY3k9Ii0xOCIgcng9IjI3IiByeT0iMTgiLz4KPHRleHQgdGV4dC1hbmNob3I9Im1pZGRsZSIgeD0iMTcxIiB5PSItMTMuOCIgZm9udC1mYW1pbHk9IlRpbWVzLHNlcmlmIiBmb250LXNpemU9IjE0LjAwIiBmaWxsPSIjMDAwMDAwIj41PC90ZXh0Pgo8L2c+CjwhLS0gbjEmIzQ1OyZndDs1IC0tPgo8ZyBpZD0iZWRnZTUiIGNsYXNzPSJlZGdlIj4KPHRpdGxlPm4xJiM0NTsmZ3Q7NTwvdGl0bGU+CjxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgZD0iTTE3MSwtNzEuODMxNEMxNzEsLTY0LjEzMSAxNzEsLTU0Ljk3NDMgMTcxLC00Ni40MTY2Ii8+Cjxwb2x5Z29uIGZpbGw9IiMwMDAwMDAiIHN0cm9rZT0iIzAwMDAwMCIgcG9pbnRzPSIxNzQuNTAwMSwtNDYuNDEzMiAxNzEsLTM2LjQxMzMgMTY3LjUwMDEsLTQ2LjQxMzMgMTc0LjUwMDEsLTQ2LjQxMzIiLz4KPC9nPgo8L2c+Cjwvc3ZnPgo=" alt=""><figcaption><code class="notranslate">10+5</code>の構文木</figcaption>
</figure>
<figure>
<img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIKICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPgo8IS0tIEdlbmVyYXRlZCBieSBncmFwaHZpeiB2ZXJzaW9uIDIuNDAuMSAoMjAxNjEyMjUuMDMwNCkKIC0tPgo8IS0tIFRpdGxlOiBHIFBhZ2VzOiAxIC0tPgo8c3ZnIHdpZHRoPSIzNTBwdCIgaGVpZ2h0PSIxODhwdCIKIHZpZXdCb3g9IjAuMDAgMC4wMCAzNTAuMDAgMTg4LjAwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4KPGcgaWQ9ImdyYXBoMCIgY2xhc3M9ImdyYXBoIiB0cmFuc2Zvcm09InNjYWxlKDEgMSkgcm90YXRlKDApIHRyYW5zbGF0ZSg0IDE4NCkiPgo8dGl0bGU+RzwvdGl0bGU+Cjxwb2x5Z29uIGZpbGw9IiNmZmZmZmYiIHN0cm9rZT0idHJhbnNwYXJlbnQiIHBvaW50cz0iLTQsNCAtNCwtMTg0IDM0NiwtMTg0IDM0Niw0IC00LDQiLz4KPCEtLSBlMSAtLT4KPGcgaWQ9Im5vZGUxIiBjbGFzcz0ibm9kZSI+Cjx0aXRsZT5lMTwvdGl0bGU+CjxlbGxpcHNlIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgY3g9IjE3MSIgY3k9Ii0xNjIiIHJ4PSIyNyIgcnk9IjE4Ii8+Cjx0ZXh0IHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjE3MSIgeT0iLTE1Ny44IiBmb250LWZhbWlseT0iVGltZXMsc2VyaWYiIGZvbnQtc2l6ZT0iMTQuMDAiIGZpbGw9IiMwMDAwMDAiPmV4cHI8L3RleHQ+CjwvZz4KPCEtLSBuMSAtLT4KPGcgaWQ9Im5vZGUyIiBjbGFzcz0ibm9kZSI+Cjx0aXRsZT5uMTwvdGl0bGU+CjxlbGxpcHNlIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgY3g9IjI3IiBjeT0iLTkwIiByeD0iMjciIHJ5PSIxOCIvPgo8dGV4dCB0ZXh0LWFuY2hvcj0ibWlkZGxlIiB4PSIyNyIgeT0iLTg1LjgiIGZvbnQtZmFtaWx5PSJUaW1lcyxzZXJpZiIgZm9udC1zaXplPSIxNC4wMCIgZmlsbD0iIzAwMDAwMCI+bnVtPC90ZXh0Pgo8L2c+CjwhLS0gZTEmIzQ1OyZndDtuMSAtLT4KPGcgaWQ9ImVkZ2UxIiBjbGFzcz0iZWRnZSI+Cjx0aXRsZT5lMSYjNDU7Jmd0O24xPC90aXRsZT4KPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBkPSJNMTQ5LjEyOTUsLTE1MS4wNjQ3QzEyNC43Nzc4LC0xMzguODg4OSA4NS4yMzgsLTExOS4xMTkgNTcuNzcxNSwtMTA1LjM4NTgiLz4KPHBvbHlnb24gZmlsbD0iIzAwMDAwMCIgc3Ryb2tlPSIjMDAwMDAwIiBwb2ludHM9IjU5LjExNCwtMTAyLjE0MzkgNDguNjA0NSwtMTAwLjgwMjIgNTUuOTgzNSwtMTA4LjQwNDkgNTkuMTE0LC0xMDIuMTQzOSIvPgo8L2c+CjwhLS0gJiM0NTsgLS0+CjxnIGlkPSJub2RlNCIgY2xhc3M9Im5vZGUiPgo8dGl0bGU+JiM0NTs8L3RpdGxlPgo8ZWxsaXBzZSBmaWxsPSIjZjBmMGYwIiBzdHJva2U9IiMwMDAwMDAiIGN4PSI5OSIgY3k9Ii05MCIgcng9IjI3IiByeT0iMTgiLz4KPHRleHQgdGV4dC1hbmNob3I9Im1pZGRsZSIgeD0iOTkiIHk9Ii04NS44IiBmb250LWZhbWlseT0iVGltZXMsc2VyaWYiIGZvbnQtc2l6ZT0iMTQuMDAiIGZpbGw9IiMwMDAwMDAiPiYjNDU7PC90ZXh0Pgo8L2c+CjwhLS0gZTEmIzQ1OyZndDsmIzQ1OyAtLT4KPGcgaWQ9ImVkZ2UzIiBjbGFzcz0iZWRnZSI+Cjx0aXRsZT5lMSYjNDU7Jmd0OyYjNDU7PC90aXRsZT4KPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBkPSJNMTU1LjczMDcsLTE0Ni43MzA3QzE0NS44MDMsLTEzNi44MDMgMTMyLjY4NDcsLTEyMy42ODQ3IDEyMS41NjM3LC0xMTIuNTYzNyIvPgo8cG9seWdvbiBmaWxsPSIjMDAwMDAwIiBzdHJva2U9IiMwMDAwMDAiIHBvaW50cz0iMTIzLjc5MzMsLTEwOS44NDM2IDExNC4yNDczLC0xMDUuMjQ3MyAxMTguODQzNiwtMTE0Ljc5MzMgMTIzLjc5MzMsLTEwOS44NDM2Ii8+CjwvZz4KPCEtLSBuMiAtLT4KPGcgaWQ9Im5vZGU1IiBjbGFzcz0ibm9kZSI+Cjx0aXRsZT5uMjwvdGl0bGU+CjxlbGxpcHNlIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgY3g9IjE3MSIgY3k9Ii05MCIgcng9IjI3IiByeT0iMTgiLz4KPHRleHQgdGV4dC1hbmNob3I9Im1pZGRsZSIgeD0iMTcxIiB5PSItODUuOCIgZm9udC1mYW1pbHk9IlRpbWVzLHNlcmlmIiBmb250LXNpemU9IjE0LjAwIiBmaWxsPSIjMDAwMDAwIj5udW08L3RleHQ+CjwvZz4KPCEtLSBlMSYjNDU7Jmd0O24yIC0tPgo8ZyBpZD0iZWRnZTQiIGNsYXNzPSJlZGdlIj4KPHRpdGxlPmUxJiM0NTsmZ3Q7bjI8L3RpdGxlPgo8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIGQ9Ik0xNzEsLTE0My44MzE0QzE3MSwtMTM2LjEzMSAxNzEsLTEyNi45NzQzIDE3MSwtMTE4LjQxNjYiLz4KPHBvbHlnb24gZmlsbD0iIzAwMDAwMCIgc3Ryb2tlPSIjMDAwMDAwIiBwb2ludHM9IjE3NC41MDAxLC0xMTguNDEzMiAxNzEsLTEwOC40MTMzIDE2Ny41MDAxLC0xMTguNDEzMyAxNzQuNTAwMSwtMTE4LjQxMzIiLz4KPC9nPgo8IS0tICsgLS0+CjxnIGlkPSJub2RlNyIgY2xhc3M9Im5vZGUiPgo8dGl0bGU+KzwvdGl0bGU+CjxlbGxpcHNlIGZpbGw9IiNmMGYwZjAiIHN0cm9rZT0iIzAwMDAwMCIgY3g9IjI0MyIgY3k9Ii05MCIgcng9IjI3IiByeT0iMTgiLz4KPHRleHQgdGV4dC1hbmNob3I9Im1pZGRsZSIgeD0iMjQzIiB5PSItODUuOCIgZm9udC1mYW1pbHk9IlRpbWVzLHNlcmlmIiBmb250LXNpemU9IjE0LjAwIiBmaWxsPSIjMDAwMDAwIj4rPC90ZXh0Pgo8L2c+CjwhLS0gZTEmIzQ1OyZndDsrIC0tPgo8ZyBpZD0iZWRnZTYiIGNsYXNzPSJlZGdlIj4KPHRpdGxlPmUxJiM0NTsmZ3Q7KzwvdGl0bGU+CjxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgZD0iTTE4Ni4yNjkzLC0xNDYuNzMwN0MxOTYuMTk3LC0xMzYuODAzIDIwOS4zMTUzLC0xMjMuNjg0NyAyMjAuNDM2MywtMTEyLjU2MzciLz4KPHBvbHlnb24gZmlsbD0iIzAwMDAwMCIgc3Ryb2tlPSIjMDAwMDAwIiBwb2ludHM9IjIyMy4xNTY0LC0xMTQuNzkzMyAyMjcuNzUyNywtMTA1LjI0NzMgMjE4LjIwNjcsLTEwOS44NDM2IDIyMy4xNTY0LC0xMTQuNzkzMyIvPgo8L2c+CjwhLS0gbjMgLS0+CjxnIGlkPSJub2RlOCIgY2xhc3M9Im5vZGUiPgo8dGl0bGU+bjM8L3RpdGxlPgo8ZWxsaXBzZSBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIGN4PSIzMTUiIGN5PSItOTAiIHJ4PSIyNyIgcnk9IjE4Ii8+Cjx0ZXh0IHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjMxNSIgeT0iLTg1LjgiIGZvbnQtZmFtaWx5PSJUaW1lcyxzZXJpZiIgZm9udC1zaXplPSIxNC4wMCIgZmlsbD0iIzAwMDAwMCI+bnVtPC90ZXh0Pgo8L2c+CjwhLS0gZTEmIzQ1OyZndDtuMyAtLT4KPGcgaWQ9ImVkZ2U3IiBjbGFzcz0iZWRnZSI+Cjx0aXRsZT5lMSYjNDU7Jmd0O24zPC90aXRsZT4KPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBkPSJNMTkyLjg3MDUsLTE1MS4wNjQ3QzIxNy4yMjIyLC0xMzguODg4OSAyNTYuNzYyLC0xMTkuMTE5IDI4NC4yMjg1LC0xMDUuMzg1OCIvPgo8cG9seWdvbiBmaWxsPSIjMDAwMDAwIiBzdHJva2U9IiMwMDAwMDAiIHBvaW50cz0iMjg2LjAxNjUsLTEwOC40MDQ5IDI5My4zOTU1LC0xMDAuODAyMiAyODIuODg2LC0xMDIuMTQzOSAyODYuMDE2NSwtMTA4LjQwNDkiLz4KPC9nPgo8IS0tIDQyIC0tPgo8ZyBpZD0ibm9kZTMiIGNsYXNzPSJub2RlIj4KPHRpdGxlPjQyPC90aXRsZT4KPGVsbGlwc2UgZmlsbD0iI2YwZjBmMCIgc3Ryb2tlPSIjMDAwMDAwIiBjeD0iMjciIGN5PSItMTgiIHJ4PSIyNyIgcnk9IjE4Ii8+Cjx0ZXh0IHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjI3IiB5PSItMTMuOCIgZm9udC1mYW1pbHk9IlRpbWVzLHNlcmlmIiBmb250LXNpemU9IjE0LjAwIiBmaWxsPSIjMDAwMDAwIj40MjwvdGV4dD4KPC9nPgo8IS0tIG4xJiM0NTsmZ3Q7NDIgLS0+CjxnIGlkPSJlZGdlMiIgY2xhc3M9ImVkZ2UiPgo8dGl0bGU+bjEmIzQ1OyZndDs0MjwvdGl0bGU+CjxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgZD0iTTI3LC03MS44MzE0QzI3LC02NC4xMzEgMjcsLTU0Ljk3NDMgMjcsLTQ2LjQxNjYiLz4KPHBvbHlnb24gZmlsbD0iIzAwMDAwMCIgc3Ryb2tlPSIjMDAwMDAwIiBwb2ludHM9IjMwLjUwMDEsLTQ2LjQxMzIgMjcsLTM2LjQxMzMgMjMuNTAwMSwtNDYuNDEzMyAzMC41MDAxLC00Ni40MTMyIi8+CjwvZz4KPCEtLSAzMCAtLT4KPGcgaWQ9Im5vZGU2IiBjbGFzcz0ibm9kZSI+Cjx0aXRsZT4zMDwvdGl0bGU+CjxlbGxpcHNlIGZpbGw9IiNmMGYwZjAiIHN0cm9rZT0iIzAwMDAwMCIgY3g9IjE3MSIgY3k9Ii0xOCIgcng9IjI3IiByeT0iMTgiLz4KPHRleHQgdGV4dC1hbmNob3I9Im1pZGRsZSIgeD0iMTcxIiB5PSItMTMuOCIgZm9udC1mYW1pbHk9IlRpbWVzLHNlcmlmIiBmb250LXNpemU9IjE0LjAwIiBmaWxsPSIjMDAwMDAwIj4zMDwvdGV4dD4KPC9nPgo8IS0tIG4yJiM0NTsmZ3Q7MzAgLS0+CjxnIGlkPSJlZGdlNSIgY2xhc3M9ImVkZ2UiPgo8dGl0bGU+bjImIzQ1OyZndDszMDwvdGl0bGU+CjxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgZD0iTTE3MSwtNzEuODMxNEMxNzEsLTY0LjEzMSAxNzEsLTU0Ljk3NDMgMTcxLC00Ni40MTY2Ii8+Cjxwb2x5Z29uIGZpbGw9IiMwMDAwMDAiIHN0cm9rZT0iIzAwMDAwMCIgcG9pbnRzPSIxNzQuNTAwMSwtNDYuNDEzMiAxNzEsLTM2LjQxMzMgMTY3LjUwMDEsLTQ2LjQxMzMgMTc0LjUwMDEsLTQ2LjQxMzIiLz4KPC9nPgo8IS0tIDIgLS0+CjxnIGlkPSJub2RlOSIgY2xhc3M9Im5vZGUiPgo8dGl0bGU+MjwvdGl0bGU+CjxlbGxpcHNlIGZpbGw9IiNmMGYwZjAiIHN0cm9rZT0iIzAwMDAwMCIgY3g9IjMxNSIgY3k9Ii0xOCIgcng9IjI3IiByeT0iMTgiLz4KPHRleHQgdGV4dC1hbmNob3I9Im1pZGRsZSIgeD0iMzE1IiB5PSItMTMuOCIgZm9udC1mYW1pbHk9IlRpbWVzLHNlcmlmIiBmb250LXNpemU9IjE0LjAwIiBmaWxsPSIjMDAwMDAwIj4yPC90ZXh0Pgo8L2c+CjwhLS0gbjMmIzQ1OyZndDsyIC0tPgo8ZyBpZD0iZWRnZTgiIGNsYXNzPSJlZGdlIj4KPHRpdGxlPm4zJiM0NTsmZ3Q7MjwvdGl0bGU+CjxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgZD0iTTMxNSwtNzEuODMxNEMzMTUsLTY0LjEzMSAzMTUsLTU0Ljk3NDMgMzE1LC00Ni40MTY2Ii8+Cjxwb2x5Z29uIGZpbGw9IiMwMDAwMDAiIHN0cm9rZT0iIzAwMDAwMCIgcG9pbnRzPSIzMTguNTAwMSwtNDYuNDEzMiAzMTUsLTM2LjQxMzMgMzExLjUwMDEsLTQ2LjQxMzMgMzE4LjUwMDEsLTQ2LjQxMzIiLz4KPC9nPgo8L2c+Cjwvc3ZnPgo=" alt=""><figcaption><code class="notranslate">42-30+2</code>の構文木</figcaption>
</figure>
<p>木構造で表すことによって、どの非終端記号がどの記号に展開されているのかがわかりやすくなりました。</p>
<p>上の図のような、入力に含まれるすべてのトークンを含んだ、文法に完全に一対一でマッチしている構文木は、「<span class="index" id="index39">具象構文木</span>」（concrete syntax tree）と呼ばれることもあります。この用語は、抽象構文木と対比させたいときによく使われます。</p>
<p>なお、上記の具象構文木では、加減算を左から計算するというルールが木の形では表現されていません。そのようなルールは、ここで説明する文法では、EBNFを使って表現するのではなく、言語仕様書の中に文章で但し書きとして「加減算は左から先に計算します」と書いておくことになります。パーサではEBNFと但し書きの両方を考慮に入れて、式を表すトークン列を読み込んで、式の評価順を適切に表現している抽象構文木を構築することになります。</p>
<p>従って、上記の文法では、EBNFが表す具象構文木とパーサの出力となる抽象構文木の形が、おおまかにしか一致しません。抽象構文木と具象構文木がなるべく同じ構造になるように文法を定義することも可能ですが、そうなると文法が冗長になって、パーサをどう書けばよいのかわかりづらくなってしまいます。上記のような文法は、形式的な文法の記述の厳密さと、自然言語による補足のわかりやすさのバランスが取れた、扱いやすい文法の表現方法です。</p>
<h3 id="生成規則による演算子の優先順位の表現"><a href="https://www.sigbus.info/compilerbook#%E7%94%9F%E6%88%90%E8%A6%8F%E5%89%87%E3%81%AB%E3%82%88%E3%82%8B%E6%BC%94%E7%AE%97%E5%AD%90%E3%81%AE%E5%84%AA%E5%85%88%E9%A0%86%E4%BD%8D%E3%81%AE%E8%A1%A8%E7%8F%BE" style="text-decoration: none; color: inherit;">生成規則による演算子の優先順位の表現</a></h3>
<p>生成規則は文法を表現するための大変強力なツールです。演算子の優先順位も、文法を工夫すると、生成規則の中で表すことができます。その文法を以下に示します。</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode scheme notranslate"><code class="sourceCode scheme notranslate"><span id="cb46-1"><a href="https://www.sigbus.info/compilerbook#cb46-1"></a>expr <span class="op">=</span> mul (<span class="st">"+"</span> mul | <span class="st">"-"</span> mul)*</span>
<span id="cb46-2"><a href="https://www.sigbus.info/compilerbook#cb46-2"></a>mul  <span class="op">=</span> num (<span class="st">"*"</span> num | <span class="st">"/"</span> num)*</span></code></pre></div>
<p>以前のルールでは<code class="notranslate">expr</code>が直接<code class="notranslate">num</code>に展開されていたのですが、今回は<code class="notranslate">expr</code>は<code class="notranslate">mul</code>を経由して<code class="notranslate">num</code>に展開されるルールになりました。<code class="notranslate">mul</code>というのが乗除算の生成規則で、加減算を行う<code class="notranslate">expr</code>は、<code class="notranslate">mul</code>をいわば一つの部品として使っています。この文法では乗除算が先にくっつくというルールが構文木の中で自然と表現されることになります。具体的にいくつか例を見てみましょう。</p>
<figure>
<img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIKICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPgo8IS0tIEdlbmVyYXRlZCBieSBncmFwaHZpeiB2ZXJzaW9uIDIuNDAuMSAoMjAxNjEyMjUuMDMwNCkKIC0tPgo8IS0tIFRpdGxlOiBHIFBhZ2VzOiAxIC0tPgo8c3ZnIHdpZHRoPSIyNzhwdCIgaGVpZ2h0PSIyNjBwdCIKIHZpZXdCb3g9IjAuMDAgMC4wMCAyNzguMDAgMjYwLjAwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4KPGcgaWQ9ImdyYXBoMCIgY2xhc3M9ImdyYXBoIiB0cmFuc2Zvcm09InNjYWxlKDEgMSkgcm90YXRlKDApIHRyYW5zbGF0ZSg0IDI1NikiPgo8dGl0bGU+RzwvdGl0bGU+Cjxwb2x5Z29uIGZpbGw9IiNmZmZmZmYiIHN0cm9rZT0idHJhbnNwYXJlbnQiIHBvaW50cz0iLTQsNCAtNCwtMjU2IDI3NCwtMjU2IDI3NCw0IC00LDQiLz4KPCEtLSBlMSAtLT4KPGcgaWQ9Im5vZGUxIiBjbGFzcz0ibm9kZSI+Cjx0aXRsZT5lMTwvdGl0bGU+CjxlbGxpcHNlIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgY3g9IjE3MSIgY3k9Ii0yMzQiIHJ4PSIyNyIgcnk9IjE4Ii8+Cjx0ZXh0IHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjE3MSIgeT0iLTIyOS44IiBmb250LWZhbWlseT0iVGltZXMsc2VyaWYiIGZvbnQtc2l6ZT0iMTQuMDAiIGZpbGw9IiMwMDAwMDAiPmV4cHI8L3RleHQ+CjwvZz4KPCEtLSBtMSAtLT4KPGcgaWQ9Im5vZGUyIiBjbGFzcz0ibm9kZSI+Cjx0aXRsZT5tMTwvdGl0bGU+CjxlbGxpcHNlIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgY3g9Ijk5IiBjeT0iLTE2MiIgcng9IjI3IiByeT0iMTgiLz4KPHRleHQgdGV4dC1hbmNob3I9Im1pZGRsZSIgeD0iOTkiIHk9Ii0xNTcuOCIgZm9udC1mYW1pbHk9IlRpbWVzLHNlcmlmIiBmb250LXNpemU9IjE0LjAwIiBmaWxsPSIjMDAwMDAwIj5tdWw8L3RleHQ+CjwvZz4KPCEtLSBlMSYjNDU7Jmd0O20xIC0tPgo8ZyBpZD0iZWRnZTEiIGNsYXNzPSJlZGdlIj4KPHRpdGxlPmUxJiM0NTsmZ3Q7bTE8L3RpdGxlPgo8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIGQ9Ik0xNTUuNzMwNywtMjE4LjczMDdDMTQ1LjgwMywtMjA4LjgwMyAxMzIuNjg0NywtMTk1LjY4NDcgMTIxLjU2MzcsLTE4NC41NjM3Ii8+Cjxwb2x5Z29uIGZpbGw9IiMwMDAwMDAiIHN0cm9rZT0iIzAwMDAwMCIgcG9pbnRzPSIxMjMuNzkzMywtMTgxLjg0MzYgMTE0LjI0NzMsLTE3Ny4yNDczIDExOC44NDM2LC0xODYuNzkzMyAxMjMuNzkzMywtMTgxLjg0MzYiLz4KPC9nPgo8IS0tICsgLS0+CjxnIGlkPSJub2RlOCIgY2xhc3M9Im5vZGUiPgo8dGl0bGU+KzwvdGl0bGU+CjxlbGxpcHNlIGZpbGw9IiNmMGYwZjAiIHN0cm9rZT0iIzAwMDAwMCIgY3g9IjE3MSIgY3k9Ii0xNjIiIHJ4PSIyNyIgcnk9IjE4Ii8+Cjx0ZXh0IHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjE3MSIgeT0iLTE1Ny44IiBmb250LWZhbWlseT0iVGltZXMsc2VyaWYiIGZvbnQtc2l6ZT0iMTQuMDAiIGZpbGw9IiMwMDAwMDAiPis8L3RleHQ+CjwvZz4KPCEtLSBlMSYjNDU7Jmd0OysgLS0+CjxnIGlkPSJlZGdlNyIgY2xhc3M9ImVkZ2UiPgo8dGl0bGU+ZTEmIzQ1OyZndDsrPC90aXRsZT4KPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBkPSJNMTcxLC0yMTUuODMxNEMxNzEsLTIwOC4xMzEgMTcxLC0xOTguOTc0MyAxNzEsLTE5MC40MTY2Ii8+Cjxwb2x5Z29uIGZpbGw9IiMwMDAwMDAiIHN0cm9rZT0iIzAwMDAwMCIgcG9pbnRzPSIxNzQuNTAwMSwtMTkwLjQxMzIgMTcxLC0xODAuNDEzMyAxNjcuNTAwMSwtMTkwLjQxMzMgMTc0LjUwMDEsLTE5MC40MTMyIi8+CjwvZz4KPCEtLSBtMyAtLT4KPGcgaWQ9Im5vZGU5IiBjbGFzcz0ibm9kZSI+Cjx0aXRsZT5tMzwvdGl0bGU+CjxlbGxpcHNlIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgY3g9IjI0MyIgY3k9Ii0xNjIiIHJ4PSIyNyIgcnk9IjE4Ii8+Cjx0ZXh0IHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjI0MyIgeT0iLTE1Ny44IiBmb250LWZhbWlseT0iVGltZXMsc2VyaWYiIGZvbnQtc2l6ZT0iMTQuMDAiIGZpbGw9IiMwMDAwMDAiPm11bDwvdGV4dD4KPC9nPgo8IS0tIGUxJiM0NTsmZ3Q7bTMgLS0+CjxnIGlkPSJlZGdlOCIgY2xhc3M9ImVkZ2UiPgo8dGl0bGU+ZTEmIzQ1OyZndDttMzwvdGl0bGU+CjxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgZD0iTTE4Ni4yNjkzLC0yMTguNzMwN0MxOTYuMTk3LC0yMDguODAzIDIwOS4zMTUzLC0xOTUuNjg0NyAyMjAuNDM2MywtMTg0LjU2MzciLz4KPHBvbHlnb24gZmlsbD0iIzAwMDAwMCIgc3Ryb2tlPSIjMDAwMDAwIiBwb2ludHM9IjIyMy4xNTY0LC0xODYuNzkzMyAyMjcuNzUyNywtMTc3LjI0NzMgMjE4LjIwNjcsLTE4MS44NDM2IDIyMy4xNTY0LC0xODYuNzkzMyIvPgo8L2c+CjwhLS0gbjEgLS0+CjxnIGlkPSJub2RlMyIgY2xhc3M9Im5vZGUiPgo8dGl0bGU+bjE8L3RpdGxlPgo8ZWxsaXBzZSBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIGN4PSIyNyIgY3k9Ii05MCIgcng9IjI3IiByeT0iMTgiLz4KPHRleHQgdGV4dC1hbmNob3I9Im1pZGRsZSIgeD0iMjciIHk9Ii04NS44IiBmb250LWZhbWlseT0iVGltZXMsc2VyaWYiIGZvbnQtc2l6ZT0iMTQuMDAiIGZpbGw9IiMwMDAwMDAiPm51bTwvdGV4dD4KPC9nPgo8IS0tIG0xJiM0NTsmZ3Q7bjEgLS0+CjxnIGlkPSJlZGdlMiIgY2xhc3M9ImVkZ2UiPgo8dGl0bGU+bTEmIzQ1OyZndDtuMTwvdGl0bGU+CjxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgZD0iTTgzLjczMDcsLTE0Ni43MzA3QzczLjgwMywtMTM2LjgwMyA2MC42ODQ3LC0xMjMuNjg0NyA0OS41NjM3LC0xMTIuNTYzNyIvPgo8cG9seWdvbiBmaWxsPSIjMDAwMDAwIiBzdHJva2U9IiMwMDAwMDAiIHBvaW50cz0iNTEuNzkzMywtMTA5Ljg0MzYgNDIuMjQ3MywtMTA1LjI0NzMgNDYuODQzNiwtMTE0Ljc5MzMgNTEuNzkzMywtMTA5Ljg0MzYiLz4KPC9nPgo8IS0tICogLS0+CjxnIGlkPSJub2RlNSIgY2xhc3M9Im5vZGUiPgo8dGl0bGU+KjwvdGl0bGU+CjxlbGxpcHNlIGZpbGw9IiNmMGYwZjAiIHN0cm9rZT0iIzAwMDAwMCIgY3g9Ijk5IiBjeT0iLTkwIiByeD0iMjciIHJ5PSIxOCIvPgo8dGV4dCB0ZXh0LWFuY2hvcj0ibWlkZGxlIiB4PSI5OSIgeT0iLTg1LjgiIGZvbnQtZmFtaWx5PSJUaW1lcyxzZXJpZiIgZm9udC1zaXplPSIxNC4wMCIgZmlsbD0iIzAwMDAwMCI+KjwvdGV4dD4KPC9nPgo8IS0tIG0xJiM0NTsmZ3Q7KiAtLT4KPGcgaWQ9ImVkZ2U0IiBjbGFzcz0iZWRnZSI+Cjx0aXRsZT5tMSYjNDU7Jmd0Oyo8L3RpdGxlPgo8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIGQ9Ik05OSwtMTQzLjgzMTRDOTksLTEzNi4xMzEgOTksLTEyNi45NzQzIDk5LC0xMTguNDE2NiIvPgo8cG9seWdvbiBmaWxsPSIjMDAwMDAwIiBzdHJva2U9IiMwMDAwMDAiIHBvaW50cz0iMTAyLjUwMDEsLTExOC40MTMyIDk5LC0xMDguNDEzMyA5NS41MDAxLC0xMTguNDEzMyAxMDIuNTAwMSwtMTE4LjQxMzIiLz4KPC9nPgo8IS0tIG4yIC0tPgo8ZyBpZD0ibm9kZTYiIGNsYXNzPSJub2RlIj4KPHRpdGxlPm4yPC90aXRsZT4KPGVsbGlwc2UgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBjeD0iMTcxIiBjeT0iLTkwIiByeD0iMjciIHJ5PSIxOCIvPgo8dGV4dCB0ZXh0LWFuY2hvcj0ibWlkZGxlIiB4PSIxNzEiIHk9Ii04NS44IiBmb250LWZhbWlseT0iVGltZXMsc2VyaWYiIGZvbnQtc2l6ZT0iMTQuMDAiIGZpbGw9IiMwMDAwMDAiPm51bTwvdGV4dD4KPC9nPgo8IS0tIG0xJiM0NTsmZ3Q7bjIgLS0+CjxnIGlkPSJlZGdlNSIgY2xhc3M9ImVkZ2UiPgo8dGl0bGU+bTEmIzQ1OyZndDtuMjwvdGl0bGU+CjxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgZD0iTTExNC4yNjkzLC0xNDYuNzMwN0MxMjQuMTk3LC0xMzYuODAzIDEzNy4zMTUzLC0xMjMuNjg0NyAxNDguNDM2MywtMTEyLjU2MzciLz4KPHBvbHlnb24gZmlsbD0iIzAwMDAwMCIgc3Ryb2tlPSIjMDAwMDAwIiBwb2ludHM9IjE1MS4xNTY0LC0xMTQuNzkzMyAxNTUuNzUyNywtMTA1LjI0NzMgMTQ2LjIwNjcsLTEwOS44NDM2IDE1MS4xNTY0LC0xMTQuNzkzMyIvPgo8L2c+CjwhLS0gMSAtLT4KPGcgaWQ9Im5vZGU0IiBjbGFzcz0ibm9kZSI+Cjx0aXRsZT4xPC90aXRsZT4KPGVsbGlwc2UgZmlsbD0iI2YwZjBmMCIgc3Ryb2tlPSIjMDAwMDAwIiBjeD0iMjciIGN5PSItMTgiIHJ4PSIyNyIgcnk9IjE4Ii8+Cjx0ZXh0IHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjI3IiB5PSItMTMuOCIgZm9udC1mYW1pbHk9IlRpbWVzLHNlcmlmIiBmb250LXNpemU9IjE0LjAwIiBmaWxsPSIjMDAwMDAwIj4xPC90ZXh0Pgo8L2c+CjwhLS0gbjEmIzQ1OyZndDsxIC0tPgo8ZyBpZD0iZWRnZTMiIGNsYXNzPSJlZGdlIj4KPHRpdGxlPm4xJiM0NTsmZ3Q7MTwvdGl0bGU+CjxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgZD0iTTI3LC03MS44MzE0QzI3LC02NC4xMzEgMjcsLTU0Ljk3NDMgMjcsLTQ2LjQxNjYiLz4KPHBvbHlnb24gZmlsbD0iIzAwMDAwMCIgc3Ryb2tlPSIjMDAwMDAwIiBwb2ludHM9IjMwLjUwMDEsLTQ2LjQxMzIgMjcsLTM2LjQxMzMgMjMuNTAwMSwtNDYuNDEzMyAzMC41MDAxLC00Ni40MTMyIi8+CjwvZz4KPCEtLSAyIC0tPgo8ZyBpZD0ibm9kZTciIGNsYXNzPSJub2RlIj4KPHRpdGxlPjI8L3RpdGxlPgo8ZWxsaXBzZSBmaWxsPSIjZjBmMGYwIiBzdHJva2U9IiMwMDAwMDAiIGN4PSIxNzEiIGN5PSItMTgiIHJ4PSIyNyIgcnk9IjE4Ii8+Cjx0ZXh0IHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjE3MSIgeT0iLTEzLjgiIGZvbnQtZmFtaWx5PSJUaW1lcyxzZXJpZiIgZm9udC1zaXplPSIxNC4wMCIgZmlsbD0iIzAwMDAwMCI+MjwvdGV4dD4KPC9nPgo8IS0tIG4yJiM0NTsmZ3Q7MiAtLT4KPGcgaWQ9ImVkZ2U2IiBjbGFzcz0iZWRnZSI+Cjx0aXRsZT5uMiYjNDU7Jmd0OzI8L3RpdGxlPgo8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIGQ9Ik0xNzEsLTcxLjgzMTRDMTcxLC02NC4xMzEgMTcxLC01NC45NzQzIDE3MSwtNDYuNDE2NiIvPgo8cG9seWdvbiBmaWxsPSIjMDAwMDAwIiBzdHJva2U9IiMwMDAwMDAiIHBvaW50cz0iMTc0LjUwMDEsLTQ2LjQxMzIgMTcxLC0zNi40MTMzIDE2Ny41MDAxLC00Ni40MTMzIDE3NC41MDAxLC00Ni40MTMyIi8+CjwvZz4KPCEtLSBuMyAtLT4KPGcgaWQ9Im5vZGUxMCIgY2xhc3M9Im5vZGUiPgo8dGl0bGU+bjM8L3RpdGxlPgo8ZWxsaXBzZSBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIGN4PSIyNDMiIGN5PSItOTAiIHJ4PSIyNyIgcnk9IjE4Ii8+Cjx0ZXh0IHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjI0MyIgeT0iLTg1LjgiIGZvbnQtZmFtaWx5PSJUaW1lcyxzZXJpZiIgZm9udC1zaXplPSIxNC4wMCIgZmlsbD0iIzAwMDAwMCI+bnVtPC90ZXh0Pgo8L2c+CjwhLS0gbTMmIzQ1OyZndDtuMyAtLT4KPGcgaWQ9ImVkZ2U5IiBjbGFzcz0iZWRnZSI+Cjx0aXRsZT5tMyYjNDU7Jmd0O24zPC90aXRsZT4KPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBkPSJNMjQzLC0xNDMuODMxNEMyNDMsLTEzNi4xMzEgMjQzLC0xMjYuOTc0MyAyNDMsLTExOC40MTY2Ii8+Cjxwb2x5Z29uIGZpbGw9IiMwMDAwMDAiIHN0cm9rZT0iIzAwMDAwMCIgcG9pbnRzPSIyNDYuNTAwMSwtMTE4LjQxMzIgMjQzLC0xMDguNDEzMyAyMzkuNTAwMSwtMTE4LjQxMzMgMjQ2LjUwMDEsLTExOC40MTMyIi8+CjwvZz4KPCEtLSAzIC0tPgo8ZyBpZD0ibm9kZTExIiBjbGFzcz0ibm9kZSI+Cjx0aXRsZT4zPC90aXRsZT4KPGVsbGlwc2UgZmlsbD0iI2YwZjBmMCIgc3Ryb2tlPSIjMDAwMDAwIiBjeD0iMjQzIiBjeT0iLTE4IiByeD0iMjciIHJ5PSIxOCIvPgo8dGV4dCB0ZXh0LWFuY2hvcj0ibWlkZGxlIiB4PSIyNDMiIHk9Ii0xMy44IiBmb250LWZhbWlseT0iVGltZXMsc2VyaWYiIGZvbnQtc2l6ZT0iMTQuMDAiIGZpbGw9IiMwMDAwMDAiPjM8L3RleHQ+CjwvZz4KPCEtLSBuMyYjNDU7Jmd0OzMgLS0+CjxnIGlkPSJlZGdlMTAiIGNsYXNzPSJlZGdlIj4KPHRpdGxlPm4zJiM0NTsmZ3Q7MzwvdGl0bGU+CjxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgZD0iTTI0MywtNzEuODMxNEMyNDMsLTY0LjEzMSAyNDMsLTU0Ljk3NDMgMjQzLC00Ni40MTY2Ii8+Cjxwb2x5Z29uIGZpbGw9IiMwMDAwMDAiIHN0cm9rZT0iIzAwMDAwMCIgcG9pbnRzPSIyNDYuNTAwMSwtNDYuNDEzMiAyNDMsLTM2LjQxMzMgMjM5LjUwMDEsLTQ2LjQxMzMgMjQ2LjUwMDEsLTQ2LjQxMzIiLz4KPC9nPgo8L2c+Cjwvc3ZnPgo=" alt=""><figcaption><code class="notranslate">1*2+3</code>の構文木</figcaption>
</figure>
<figure>
<img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIKICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPgo8IS0tIEdlbmVyYXRlZCBieSBncmFwaHZpeiB2ZXJzaW9uIDIuNDAuMSAoMjAxNjEyMjUuMDMwNCkKIC0tPgo8IS0tIFRpdGxlOiBHIFBhZ2VzOiAxIC0tPgo8c3ZnIHdpZHRoPSIyNzhwdCIgaGVpZ2h0PSIyNjBwdCIKIHZpZXdCb3g9IjAuMDAgMC4wMCAyNzguMDAgMjYwLjAwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4KPGcgaWQ9ImdyYXBoMCIgY2xhc3M9ImdyYXBoIiB0cmFuc2Zvcm09InNjYWxlKDEgMSkgcm90YXRlKDApIHRyYW5zbGF0ZSg0IDI1NikiPgo8dGl0bGU+RzwvdGl0bGU+Cjxwb2x5Z29uIGZpbGw9IiNmZmZmZmYiIHN0cm9rZT0idHJhbnNwYXJlbnQiIHBvaW50cz0iLTQsNCAtNCwtMjU2IDI3NCwtMjU2IDI3NCw0IC00LDQiLz4KPCEtLSBlMSAtLT4KPGcgaWQ9Im5vZGUxIiBjbGFzcz0ibm9kZSI+Cjx0aXRsZT5lMTwvdGl0bGU+CjxlbGxpcHNlIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgY3g9Ijk5IiBjeT0iLTIzNCIgcng9IjI3IiByeT0iMTgiLz4KPHRleHQgdGV4dC1hbmNob3I9Im1pZGRsZSIgeD0iOTkiIHk9Ii0yMjkuOCIgZm9udC1mYW1pbHk9IlRpbWVzLHNlcmlmIiBmb250LXNpemU9IjE0LjAwIiBmaWxsPSIjMDAwMDAwIj5leHByPC90ZXh0Pgo8L2c+CjwhLS0gbTEgLS0+CjxnIGlkPSJub2RlMiIgY2xhc3M9Im5vZGUiPgo8dGl0bGU+bTE8L3RpdGxlPgo8ZWxsaXBzZSBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIGN4PSIyNyIgY3k9Ii0xNjIiIHJ4PSIyNyIgcnk9IjE4Ii8+Cjx0ZXh0IHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjI3IiB5PSItMTU3LjgiIGZvbnQtZmFtaWx5PSJUaW1lcyxzZXJpZiIgZm9udC1zaXplPSIxNC4wMCIgZmlsbD0iIzAwMDAwMCI+bXVsPC90ZXh0Pgo8L2c+CjwhLS0gZTEmIzQ1OyZndDttMSAtLT4KPGcgaWQ9ImVkZ2UxIiBjbGFzcz0iZWRnZSI+Cjx0aXRsZT5lMSYjNDU7Jmd0O20xPC90aXRsZT4KPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBkPSJNODMuNzMwNywtMjE4LjczMDdDNzMuODAzLC0yMDguODAzIDYwLjY4NDcsLTE5NS42ODQ3IDQ5LjU2MzcsLTE4NC41NjM3Ii8+Cjxwb2x5Z29uIGZpbGw9IiMwMDAwMDAiIHN0cm9rZT0iIzAwMDAwMCIgcG9pbnRzPSI1MS43OTMzLC0xODEuODQzNiA0Mi4yNDczLC0xNzcuMjQ3MyA0Ni44NDM2LC0xODYuNzkzMyA1MS43OTMzLC0xODEuODQzNiIvPgo8L2c+CjwhLS0gKyAtLT4KPGcgaWQ9Im5vZGUzIiBjbGFzcz0ibm9kZSI+Cjx0aXRsZT4rPC90aXRsZT4KPGVsbGlwc2UgZmlsbD0iI2YwZjBmMCIgc3Ryb2tlPSIjMDAwMDAwIiBjeD0iOTkiIGN5PSItMTYyIiByeD0iMjciIHJ5PSIxOCIvPgo8dGV4dCB0ZXh0LWFuY2hvcj0ibWlkZGxlIiB4PSI5OSIgeT0iLTE1Ny44IiBmb250LWZhbWlseT0iVGltZXMsc2VyaWYiIGZvbnQtc2l6ZT0iMTQuMDAiIGZpbGw9IiMwMDAwMDAiPis8L3RleHQ+CjwvZz4KPCEtLSBlMSYjNDU7Jmd0OysgLS0+CjxnIGlkPSJlZGdlMiIgY2xhc3M9ImVkZ2UiPgo8dGl0bGU+ZTEmIzQ1OyZndDsrPC90aXRsZT4KPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBkPSJNOTksLTIxNS44MzE0Qzk5LC0yMDguMTMxIDk5LC0xOTguOTc0MyA5OSwtMTkwLjQxNjYiLz4KPHBvbHlnb24gZmlsbD0iIzAwMDAwMCIgc3Ryb2tlPSIjMDAwMDAwIiBwb2ludHM9IjEwMi41MDAxLC0xOTAuNDEzMiA5OSwtMTgwLjQxMzMgOTUuNTAwMSwtMTkwLjQxMzMgMTAyLjUwMDEsLTE5MC40MTMyIi8+CjwvZz4KPCEtLSBtMiAtLT4KPGcgaWQ9Im5vZGU2IiBjbGFzcz0ibm9kZSI+Cjx0aXRsZT5tMjwvdGl0bGU+CjxlbGxpcHNlIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgY3g9IjE3MSIgY3k9Ii0xNjIiIHJ4PSIyNyIgcnk9IjE4Ii8+Cjx0ZXh0IHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjE3MSIgeT0iLTE1Ny44IiBmb250LWZhbWlseT0iVGltZXMsc2VyaWYiIGZvbnQtc2l6ZT0iMTQuMDAiIGZpbGw9IiMwMDAwMDAiPm11bDwvdGV4dD4KPC9nPgo8IS0tIGUxJiM0NTsmZ3Q7bTIgLS0+CjxnIGlkPSJlZGdlNSIgY2xhc3M9ImVkZ2UiPgo8dGl0bGU+ZTEmIzQ1OyZndDttMjwvdGl0bGU+CjxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgZD0iTTExNC4yNjkzLC0yMTguNzMwN0MxMjQuMTk3LC0yMDguODAzIDEzNy4zMTUzLC0xOTUuNjg0NyAxNDguNDM2MywtMTg0LjU2MzciLz4KPHBvbHlnb24gZmlsbD0iIzAwMDAwMCIgc3Ryb2tlPSIjMDAwMDAwIiBwb2ludHM9IjE1MS4xNTY0LC0xODYuNzkzMyAxNTUuNzUyNywtMTc3LjI0NzMgMTQ2LjIwNjcsLTE4MS44NDM2IDE1MS4xNTY0LC0xODYuNzkzMyIvPgo8L2c+CjwhLS0gbjEgLS0+CjxnIGlkPSJub2RlNCIgY2xhc3M9Im5vZGUiPgo8dGl0bGU+bjE8L3RpdGxlPgo8ZWxsaXBzZSBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIGN4PSIyNyIgY3k9Ii05MCIgcng9IjI3IiByeT0iMTgiLz4KPHRleHQgdGV4dC1hbmNob3I9Im1pZGRsZSIgeD0iMjciIHk9Ii04NS44IiBmb250LWZhbWlseT0iVGltZXMsc2VyaWYiIGZvbnQtc2l6ZT0iMTQuMDAiIGZpbGw9IiMwMDAwMDAiPm51bTwvdGV4dD4KPC9nPgo8IS0tIG0xJiM0NTsmZ3Q7bjEgLS0+CjxnIGlkPSJlZGdlMyIgY2xhc3M9ImVkZ2UiPgo8dGl0bGU+bTEmIzQ1OyZndDtuMTwvdGl0bGU+CjxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgZD0iTTI3LC0xNDMuODMxNEMyNywtMTM2LjEzMSAyNywtMTI2Ljk3NDMgMjcsLTExOC40MTY2Ii8+Cjxwb2x5Z29uIGZpbGw9IiMwMDAwMDAiIHN0cm9rZT0iIzAwMDAwMCIgcG9pbnRzPSIzMC41MDAxLC0xMTguNDEzMiAyNywtMTA4LjQxMzMgMjMuNTAwMSwtMTE4LjQxMzMgMzAuNTAwMSwtMTE4LjQxMzIiLz4KPC9nPgo8IS0tIDEgLS0+CjxnIGlkPSJub2RlNSIgY2xhc3M9Im5vZGUiPgo8dGl0bGU+MTwvdGl0bGU+CjxlbGxpcHNlIGZpbGw9IiNmMGYwZjAiIHN0cm9rZT0iIzAwMDAwMCIgY3g9IjI3IiBjeT0iLTE4IiByeD0iMjciIHJ5PSIxOCIvPgo8dGV4dCB0ZXh0LWFuY2hvcj0ibWlkZGxlIiB4PSIyNyIgeT0iLTEzLjgiIGZvbnQtZmFtaWx5PSJUaW1lcyxzZXJpZiIgZm9udC1zaXplPSIxNC4wMCIgZmlsbD0iIzAwMDAwMCI+MTwvdGV4dD4KPC9nPgo8IS0tIG4xJiM0NTsmZ3Q7MSAtLT4KPGcgaWQ9ImVkZ2U0IiBjbGFzcz0iZWRnZSI+Cjx0aXRsZT5uMSYjNDU7Jmd0OzE8L3RpdGxlPgo8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIGQ9Ik0yNywtNzEuODMxNEMyNywtNjQuMTMxIDI3LC01NC45NzQzIDI3LC00Ni40MTY2Ii8+Cjxwb2x5Z29uIGZpbGw9IiMwMDAwMDAiIHN0cm9rZT0iIzAwMDAwMCIgcG9pbnRzPSIzMC41MDAxLC00Ni40MTMyIDI3LC0zNi40MTMzIDIzLjUwMDEsLTQ2LjQxMzMgMzAuNTAwMSwtNDYuNDEzMiIvPgo8L2c+CjwhLS0gbjIgLS0+CjxnIGlkPSJub2RlNyIgY2xhc3M9Im5vZGUiPgo8dGl0bGU+bjI8L3RpdGxlPgo8ZWxsaXBzZSBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIGN4PSI5OSIgY3k9Ii05MCIgcng9IjI3IiByeT0iMTgiLz4KPHRleHQgdGV4dC1hbmNob3I9Im1pZGRsZSIgeD0iOTkiIHk9Ii04NS44IiBmb250LWZhbWlseT0iVGltZXMsc2VyaWYiIGZvbnQtc2l6ZT0iMTQuMDAiIGZpbGw9IiMwMDAwMDAiPm51bTwvdGV4dD4KPC9nPgo8IS0tIG0yJiM0NTsmZ3Q7bjIgLS0+CjxnIGlkPSJlZGdlNiIgY2xhc3M9ImVkZ2UiPgo8dGl0bGU+bTImIzQ1OyZndDtuMjwvdGl0bGU+CjxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgZD0iTTE1NS43MzA3LC0xNDYuNzMwN0MxNDUuODAzLC0xMzYuODAzIDEzMi42ODQ3LC0xMjMuNjg0NyAxMjEuNTYzNywtMTEyLjU2MzciLz4KPHBvbHlnb24gZmlsbD0iIzAwMDAwMCIgc3Ryb2tlPSIjMDAwMDAwIiBwb2ludHM9IjEyMy43OTMzLC0xMDkuODQzNiAxMTQuMjQ3MywtMTA1LjI0NzMgMTE4Ljg0MzYsLTExNC43OTMzIDEyMy43OTMzLC0xMDkuODQzNiIvPgo8L2c+CjwhLS0gKiAtLT4KPGcgaWQ9Im5vZGU5IiBjbGFzcz0ibm9kZSI+Cjx0aXRsZT4qPC90aXRsZT4KPGVsbGlwc2UgZmlsbD0iI2YwZjBmMCIgc3Ryb2tlPSIjMDAwMDAwIiBjeD0iMTcxIiBjeT0iLTkwIiByeD0iMjciIHJ5PSIxOCIvPgo8dGV4dCB0ZXh0LWFuY2hvcj0ibWlkZGxlIiB4PSIxNzEiIHk9Ii04NS44IiBmb250LWZhbWlseT0iVGltZXMsc2VyaWYiIGZvbnQtc2l6ZT0iMTQuMDAiIGZpbGw9IiMwMDAwMDAiPio8L3RleHQ+CjwvZz4KPCEtLSBtMiYjNDU7Jmd0OyogLS0+CjxnIGlkPSJlZGdlOCIgY2xhc3M9ImVkZ2UiPgo8dGl0bGU+bTImIzQ1OyZndDsqPC90aXRsZT4KPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBkPSJNMTcxLC0xNDMuODMxNEMxNzEsLTEzNi4xMzEgMTcxLC0xMjYuOTc0MyAxNzEsLTExOC40MTY2Ii8+Cjxwb2x5Z29uIGZpbGw9IiMwMDAwMDAiIHN0cm9rZT0iIzAwMDAwMCIgcG9pbnRzPSIxNzQuNTAwMSwtMTE4LjQxMzIgMTcxLC0xMDguNDEzMyAxNjcuNTAwMSwtMTE4LjQxMzMgMTc0LjUwMDEsLTExOC40MTMyIi8+CjwvZz4KPCEtLSBuMyAtLT4KPGcgaWQ9Im5vZGUxMCIgY2xhc3M9Im5vZGUiPgo8dGl0bGU+bjM8L3RpdGxlPgo8ZWxsaXBzZSBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIGN4PSIyNDMiIGN5PSItOTAiIHJ4PSIyNyIgcnk9IjE4Ii8+Cjx0ZXh0IHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjI0MyIgeT0iLTg1LjgiIGZvbnQtZmFtaWx5PSJUaW1lcyxzZXJpZiIgZm9udC1zaXplPSIxNC4wMCIgZmlsbD0iIzAwMDAwMCI+bnVtPC90ZXh0Pgo8L2c+CjwhLS0gbTImIzQ1OyZndDtuMyAtLT4KPGcgaWQ9ImVkZ2U5IiBjbGFzcz0iZWRnZSI+Cjx0aXRsZT5tMiYjNDU7Jmd0O24zPC90aXRsZT4KPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBkPSJNMTg2LjI2OTMsLTE0Ni43MzA3QzE5Ni4xOTcsLTEzNi44MDMgMjA5LjMxNTMsLTEyMy42ODQ3IDIyMC40MzYzLC0xMTIuNTYzNyIvPgo8cG9seWdvbiBmaWxsPSIjMDAwMDAwIiBzdHJva2U9IiMwMDAwMDAiIHBvaW50cz0iMjIzLjE1NjQsLTExNC43OTMzIDIyNy43NTI3LC0xMDUuMjQ3MyAyMTguMjA2NywtMTA5Ljg0MzYgMjIzLjE1NjQsLTExNC43OTMzIi8+CjwvZz4KPCEtLSAyIC0tPgo8ZyBpZD0ibm9kZTgiIGNsYXNzPSJub2RlIj4KPHRpdGxlPjI8L3RpdGxlPgo8ZWxsaXBzZSBmaWxsPSIjZjBmMGYwIiBzdHJva2U9IiMwMDAwMDAiIGN4PSI5OSIgY3k9Ii0xOCIgcng9IjI3IiByeT0iMTgiLz4KPHRleHQgdGV4dC1hbmNob3I9Im1pZGRsZSIgeD0iOTkiIHk9Ii0xMy44IiBmb250LWZhbWlseT0iVGltZXMsc2VyaWYiIGZvbnQtc2l6ZT0iMTQuMDAiIGZpbGw9IiMwMDAwMDAiPjI8L3RleHQ+CjwvZz4KPCEtLSBuMiYjNDU7Jmd0OzIgLS0+CjxnIGlkPSJlZGdlNyIgY2xhc3M9ImVkZ2UiPgo8dGl0bGU+bjImIzQ1OyZndDsyPC90aXRsZT4KPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBkPSJNOTksLTcxLjgzMTRDOTksLTY0LjEzMSA5OSwtNTQuOTc0MyA5OSwtNDYuNDE2NiIvPgo8cG9seWdvbiBmaWxsPSIjMDAwMDAwIiBzdHJva2U9IiMwMDAwMDAiIHBvaW50cz0iMTAyLjUwMDEsLTQ2LjQxMzIgOTksLTM2LjQxMzMgOTUuNTAwMSwtNDYuNDEzMyAxMDIuNTAwMSwtNDYuNDEzMiIvPgo8L2c+CjwhLS0gMyAtLT4KPGcgaWQ9Im5vZGUxMSIgY2xhc3M9Im5vZGUiPgo8dGl0bGU+MzwvdGl0bGU+CjxlbGxpcHNlIGZpbGw9IiNmMGYwZjAiIHN0cm9rZT0iIzAwMDAwMCIgY3g9IjI0MyIgY3k9Ii0xOCIgcng9IjI3IiByeT0iMTgiLz4KPHRleHQgdGV4dC1hbmNob3I9Im1pZGRsZSIgeD0iMjQzIiB5PSItMTMuOCIgZm9udC1mYW1pbHk9IlRpbWVzLHNlcmlmIiBmb250LXNpemU9IjE0LjAwIiBmaWxsPSIjMDAwMDAwIj4zPC90ZXh0Pgo8L2c+CjwhLS0gbjMmIzQ1OyZndDszIC0tPgo8ZyBpZD0iZWRnZTEwIiBjbGFzcz0iZWRnZSI+Cjx0aXRsZT5uMyYjNDU7Jmd0OzM8L3RpdGxlPgo8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIGQ9Ik0yNDMsLTcxLjgzMTRDMjQzLC02NC4xMzEgMjQzLC01NC45NzQzIDI0MywtNDYuNDE2NiIvPgo8cG9seWdvbiBmaWxsPSIjMDAwMDAwIiBzdHJva2U9IiMwMDAwMDAiIHBvaW50cz0iMjQ2LjUwMDEsLTQ2LjQxMzIgMjQzLC0zNi40MTMzIDIzOS41MDAxLC00Ni40MTMzIDI0Ni41MDAxLC00Ni40MTMyIi8+CjwvZz4KPC9nPgo8L3N2Zz4K" alt=""><figcaption><code class="notranslate">1+2*3</code>の構文木</figcaption>
</figure>
<figure>
<img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIKICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPgo8IS0tIEdlbmVyYXRlZCBieSBncmFwaHZpeiB2ZXJzaW9uIDIuNDAuMSAoMjAxNjEyMjUuMDMwNCkKIC0tPgo8IS0tIFRpdGxlOiBHIFBhZ2VzOiAxIC0tPgo8c3ZnIHdpZHRoPSI1NjZwdCIgaGVpZ2h0PSIyNjBwdCIKIHZpZXdCb3g9IjAuMDAgMC4wMCA1NjYuMDAgMjYwLjAwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4KPGcgaWQ9ImdyYXBoMCIgY2xhc3M9ImdyYXBoIiB0cmFuc2Zvcm09InNjYWxlKDEgMSkgcm90YXRlKDApIHRyYW5zbGF0ZSg0IDI1NikiPgo8dGl0bGU+RzwvdGl0bGU+Cjxwb2x5Z29uIGZpbGw9IiNmZmZmZmYiIHN0cm9rZT0idHJhbnNwYXJlbnQiIHBvaW50cz0iLTQsNCAtNCwtMjU2IDU2MiwtMjU2IDU2Miw0IC00LDQiLz4KPCEtLSBlMSAtLT4KPGcgaWQ9Im5vZGUxIiBjbGFzcz0ibm9kZSI+Cjx0aXRsZT5lMTwvdGl0bGU+CjxlbGxpcHNlIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgY3g9IjI1MiIgY3k9Ii0yMzQiIHJ4PSIyNyIgcnk9IjE4Ii8+Cjx0ZXh0IHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjI1MiIgeT0iLTIyOS44IiBmb250LWZhbWlseT0iVGltZXMsc2VyaWYiIGZvbnQtc2l6ZT0iMTQuMDAiIGZpbGw9IiMwMDAwMDAiPmV4cHI8L3RleHQ+CjwvZz4KPCEtLSBtMSAtLT4KPGcgaWQ9Im5vZGUyIiBjbGFzcz0ibm9kZSI+Cjx0aXRsZT5tMTwvdGl0bGU+CjxlbGxpcHNlIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgY3g9IjE0NCIgY3k9Ii0xNjIiIHJ4PSIyNyIgcnk9IjE4Ii8+Cjx0ZXh0IHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjE0NCIgeT0iLTE1Ny44IiBmb250LWZhbWlseT0iVGltZXMsc2VyaWYiIGZvbnQtc2l6ZT0iMTQuMDAiIGZpbGw9IiMwMDAwMDAiPm11bDwvdGV4dD4KPC9nPgo8IS0tIGUxJiM0NTsmZ3Q7bTEgLS0+CjxnIGlkPSJlZGdlMSIgY2xhc3M9ImVkZ2UiPgo8dGl0bGU+ZTEmIzQ1OyZndDttMTwvdGl0bGU+CjxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgZD0iTTIzMi42OTE4LC0yMjEuMTI3OEMyMTUuNjQ0NSwtMjA5Ljc2MyAxOTAuNTk4MSwtMTkzLjA2NTQgMTcxLjQ2NTYsLTE4MC4zMTA0Ii8+Cjxwb2x5Z29uIGZpbGw9IiMwMDAwMDAiIHN0cm9rZT0iIzAwMDAwMCIgcG9pbnRzPSIxNzMuNDAzMSwtMTc3LjM5NTYgMTYzLjE0MTEsLTE3NC43NjA3IDE2OS41MjAxLC0xODMuMjE5OSAxNzMuNDAzMSwtMTc3LjM5NTYiLz4KPC9nPgo8IS0tICsgLS0+CjxnIGlkPSJub2RlOCIgY2xhc3M9Im5vZGUiPgo8dGl0bGU+KzwvdGl0bGU+CjxlbGxpcHNlIGZpbGw9IiNmMGYwZjAiIHN0cm9rZT0iIzAwMDAwMCIgY3g9IjI1MiIgY3k9Ii0xNjIiIHJ4PSIyNyIgcnk9IjE4Ii8+Cjx0ZXh0IHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjI1MiIgeT0iLTE1Ny44IiBmb250LWZhbWlseT0iVGltZXMsc2VyaWYiIGZvbnQtc2l6ZT0iMTQuMDAiIGZpbGw9IiMwMDAwMDAiPis8L3RleHQ+CjwvZz4KPCEtLSBlMSYjNDU7Jmd0OysgLS0+CjxnIGlkPSJlZGdlNyIgY2xhc3M9ImVkZ2UiPgo8dGl0bGU+ZTEmIzQ1OyZndDsrPC90aXRsZT4KPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBkPSJNMjUyLC0yMTUuODMxNEMyNTIsLTIwOC4xMzEgMjUyLC0xOTguOTc0MyAyNTIsLTE5MC40MTY2Ii8+Cjxwb2x5Z29uIGZpbGw9IiMwMDAwMDAiIHN0cm9rZT0iIzAwMDAwMCIgcG9pbnRzPSIyNTUuNTAwMSwtMTkwLjQxMzIgMjUyLC0xODAuNDEzMyAyNDguNTAwMSwtMTkwLjQxMzMgMjU1LjUwMDEsLTE5MC40MTMyIi8+CjwvZz4KPCEtLSBtMyAtLT4KPGcgaWQ9Im5vZGU5IiBjbGFzcz0ibm9kZSI+Cjx0aXRsZT5tMzwvdGl0bGU+CjxlbGxpcHNlIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgY3g9IjM0MiIgY3k9Ii0xNjIiIHJ4PSIyNyIgcnk9IjE4Ii8+Cjx0ZXh0IHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjM0MiIgeT0iLTE1Ny44IiBmb250LWZhbWlseT0iVGltZXMsc2VyaWYiIGZvbnQtc2l6ZT0iMTQuMDAiIGZpbGw9IiMwMDAwMDAiPm11bDwvdGV4dD4KPC9nPgo8IS0tIGUxJiM0NTsmZ3Q7bTMgLS0+CjxnIGlkPSJlZGdlOCIgY2xhc3M9ImVkZ2UiPgo8dGl0bGU+ZTEmIzQ1OyZndDttMzwvdGl0bGU+CjxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgZD0iTTI2OS4zNTI5LC0yMjAuMTE3N0MyODIuNzk5NywtMjA5LjM2MDIgMzAxLjYyMzksLTE5NC4zMDA5IDMxNi43NDEsLTE4Mi4yMDcyIi8+Cjxwb2x5Z29uIGZpbGw9IiMwMDAwMDAiIHN0cm9rZT0iIzAwMDAwMCIgcG9pbnRzPSIzMTkuMDc4MSwtMTg0LjgxOTcgMzI0LjcwMDQsLTE3NS44Mzk3IDMxNC43MDUyLC0xNzkuMzUzNiAzMTkuMDc4MSwtMTg0LjgxOTciLz4KPC9nPgo8IS0tIG4xIC0tPgo8ZyBpZD0ibm9kZTMiIGNsYXNzPSJub2RlIj4KPHRpdGxlPm4xPC90aXRsZT4KPGVsbGlwc2UgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBjeD0iMjciIGN5PSItOTAiIHJ4PSIyNyIgcnk9IjE4Ii8+Cjx0ZXh0IHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjI3IiB5PSItODUuOCIgZm9udC1mYW1pbHk9IlRpbWVzLHNlcmlmIiBmb250LXNpemU9IjE0LjAwIiBmaWxsPSIjMDAwMDAwIj5udW08L3RleHQ+CjwvZz4KPCEtLSBtMSYjNDU7Jmd0O24xIC0tPgo8ZyBpZD0iZWRnZTIiIGNsYXNzPSJlZGdlIj4KPHRpdGxlPm0xJiM0NTsmZ3Q7bjE8L3RpdGxlPgo8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIGQ9Ik0xMjQuMTUyNSwtMTQ5Ljc4NjJDMTA1LjMyNywtMTM4LjIwMTMgNzYuODM1NCwtMTIwLjY2NzkgNTUuNTY3OSwtMTA3LjU4MDMiLz4KPHBvbHlnb24gZmlsbD0iIzAwMDAwMCIgc3Ryb2tlPSIjMDAwMDAwIiBwb2ludHM9IjU3LjI5NTgsLTEwNC41MzM5IDQ2Ljk0NDgsLTEwMi4yNzM3IDUzLjYyNzEsLTExMC40OTU2IDU3LjI5NTgsLTEwNC41MzM5Ii8+CjwvZz4KPCEtLSBtdWwxIC0tPgo8ZyBpZD0ibm9kZTUiIGNsYXNzPSJub2RlIj4KPHRpdGxlPm11bDE8L3RpdGxlPgo8ZWxsaXBzZSBmaWxsPSIjZjBmMGYwIiBzdHJva2U9IiMwMDAwMDAiIGN4PSI5OSIgY3k9Ii05MCIgcng9IjI3IiByeT0iMTgiLz4KPHRleHQgdGV4dC1hbmNob3I9Im1pZGRsZSIgeD0iOTkiIHk9Ii04NS44IiBmb250LWZhbWlseT0iVGltZXMsc2VyaWYiIGZvbnQtc2l6ZT0iMTQuMDAiIGZpbGw9IiMwMDAwMDAiPio8L3RleHQ+CjwvZz4KPCEtLSBtMSYjNDU7Jmd0O211bDEgLS0+CjxnIGlkPSJlZGdlNCIgY2xhc3M9ImVkZ2UiPgo8dGl0bGU+bTEmIzQ1OyZndDttdWwxPC90aXRsZT4KPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBkPSJNMTMzLjU2MywtMTQ1LjMwMDhDMTI4LjA3NjUsLTEzNi41MjI0IDEyMS4yMzE0LC0xMjUuNTcwMyAxMTUuMDgzNywtMTE1LjczMzkiLz4KPHBvbHlnb24gZmlsbD0iIzAwMDAwMCIgc3Ryb2tlPSIjMDAwMDAwIiBwb2ludHM9IjExNy45NjA5LC0xMTMuNzMzNiAxMDkuNjkyOSwtMTA3LjEwODYgMTEyLjAyNDksLTExNy40NDM2IDExNy45NjA5LC0xMTMuNzMzNiIvPgo8L2c+CjwhLS0gbjIgLS0+CjxnIGlkPSJub2RlNiIgY2xhc3M9Im5vZGUiPgo8dGl0bGU+bjI8L3RpdGxlPgo8ZWxsaXBzZSBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIGN4PSIxNzEiIGN5PSItOTAiIHJ4PSIyNyIgcnk9IjE4Ii8+Cjx0ZXh0IHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjE3MSIgeT0iLTg1LjgiIGZvbnQtZmFtaWx5PSJUaW1lcyxzZXJpZiIgZm9udC1zaXplPSIxNC4wMCIgZmlsbD0iIzAwMDAwMCI+bnVtPC90ZXh0Pgo8L2c+CjwhLS0gbTEmIzQ1OyZndDtuMiAtLT4KPGcgaWQ9ImVkZ2U1IiBjbGFzcz0iZWRnZSI+Cjx0aXRsZT5tMSYjNDU7Jmd0O24yPC90aXRsZT4KPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBkPSJNMTUwLjY3NDIsLTE0NC4yMDIyQzE1My43NDc2LC0xMzYuMDA2NCAxNTcuNDYxNiwtMTI2LjEwMjQgMTYwLjg2OTUsLTExNy4wMTQ1Ii8+Cjxwb2x5Z29uIGZpbGw9IiMwMDAwMDAiIHN0cm9rZT0iIzAwMDAwMCIgcG9pbnRzPSIxNjQuMTY4NSwtMTE4LjE4NTMgMTY0LjQwMjYsLTEwNy41OTMgMTU3LjYxNDIsLTExNS43Mjc0IDE2NC4xNjg1LC0xMTguMTg1MyIvPgo8L2c+CjwhLS0gMSAtLT4KPGcgaWQ9Im5vZGU0IiBjbGFzcz0ibm9kZSI+Cjx0aXRsZT4xPC90aXRsZT4KPGVsbGlwc2UgZmlsbD0iI2YwZjBmMCIgc3Ryb2tlPSIjMDAwMDAwIiBjeD0iMjciIGN5PSItMTgiIHJ4PSIyNyIgcnk9IjE4Ii8+Cjx0ZXh0IHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjI3IiB5PSItMTMuOCIgZm9udC1mYW1pbHk9IlRpbWVzLHNlcmlmIiBmb250LXNpemU9IjE0LjAwIiBmaWxsPSIjMDAwMDAwIj4xPC90ZXh0Pgo8L2c+CjwhLS0gbjEmIzQ1OyZndDsxIC0tPgo8ZyBpZD0iZWRnZTMiIGNsYXNzPSJlZGdlIj4KPHRpdGxlPm4xJiM0NTsmZ3Q7MTwvdGl0bGU+CjxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgZD0iTTI3LC03MS44MzE0QzI3LC02NC4xMzEgMjcsLTU0Ljk3NDMgMjcsLTQ2LjQxNjYiLz4KPHBvbHlnb24gZmlsbD0iIzAwMDAwMCIgc3Ryb2tlPSIjMDAwMDAwIiBwb2ludHM9IjMwLjUwMDEsLTQ2LjQxMzIgMjcsLTM2LjQxMzMgMjMuNTAwMSwtNDYuNDEzMyAzMC41MDAxLC00Ni40MTMyIi8+CjwvZz4KPCEtLSAyIC0tPgo8ZyBpZD0ibm9kZTciIGNsYXNzPSJub2RlIj4KPHRpdGxlPjI8L3RpdGxlPgo8ZWxsaXBzZSBmaWxsPSIjZjBmMGYwIiBzdHJva2U9IiMwMDAwMDAiIGN4PSIxNzEiIGN5PSItMTgiIHJ4PSIyNyIgcnk9IjE4Ii8+Cjx0ZXh0IHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjE3MSIgeT0iLTEzLjgiIGZvbnQtZmFtaWx5PSJUaW1lcyxzZXJpZiIgZm9udC1zaXplPSIxNC4wMCIgZmlsbD0iIzAwMDAwMCI+MjwvdGV4dD4KPC9nPgo8IS0tIG4yJiM0NTsmZ3Q7MiAtLT4KPGcgaWQ9ImVkZ2U2IiBjbGFzcz0iZWRnZSI+Cjx0aXRsZT5uMiYjNDU7Jmd0OzI8L3RpdGxlPgo8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIGQ9Ik0xNzEsLTcxLjgzMTRDMTcxLC02NC4xMzEgMTcxLC01NC45NzQzIDE3MSwtNDYuNDE2NiIvPgo8cG9seWdvbiBmaWxsPSIjMDAwMDAwIiBzdHJva2U9IiMwMDAwMDAiIHBvaW50cz0iMTc0LjUwMDEsLTQ2LjQxMzIgMTcxLC0zNi40MTMzIDE2Ny41MDAxLC00Ni40MTMzIDE3NC41MDAxLC00Ni40MTMyIi8+CjwvZz4KPCEtLSBuMyAtLT4KPGcgaWQ9Im5vZGUxMCIgY2xhc3M9Im5vZGUiPgo8dGl0bGU+bjM8L3RpdGxlPgo8ZWxsaXBzZSBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIGN4PSIyNDMiIGN5PSItOTAiIHJ4PSIyNyIgcnk9IjE4Ii8+Cjx0ZXh0IHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjI0MyIgeT0iLTg1LjgiIGZvbnQtZmFtaWx5PSJUaW1lcyxzZXJpZiIgZm9udC1zaXplPSIxNC4wMCIgZmlsbD0iIzAwMDAwMCI+bnVtPC90ZXh0Pgo8L2c+CjwhLS0gbTMmIzQ1OyZndDtuMyAtLT4KPGcgaWQ9ImVkZ2U5IiBjbGFzcz0iZWRnZSI+Cjx0aXRsZT5tMyYjNDU7Jmd0O24zPC90aXRsZT4KPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBkPSJNMzIzLjM3ODksLTE0OC40NTc0QzMwOC4zMDY1LC0xMzcuNDk1NiAyODYuODc0NiwtMTIxLjkwODggMjY5LjkzMTMsLTEwOS41ODY0Ii8+Cjxwb2x5Z29uIGZpbGw9IiMwMDAwMDAiIHN0cm9rZT0iIzAwMDAwMCIgcG9pbnRzPSIyNzEuNjgzNiwtMTA2LjUzMzEgMjYxLjUzNzYsLTEwMy40ODE5IDI2Ny41NjY0LC0xMTIuMTk0MyAyNzEuNjgzNiwtMTA2LjUzMzEiLz4KPC9nPgo8IS0tIG11bDIgLS0+CjxnIGlkPSJub2RlMTIiIGNsYXNzPSJub2RlIj4KPHRpdGxlPm11bDI8L3RpdGxlPgo8ZWxsaXBzZSBmaWxsPSIjZjBmMGYwIiBzdHJva2U9IiMwMDAwMDAiIGN4PSIzMTUiIGN5PSItOTAiIHJ4PSIyNyIgcnk9IjE4Ii8+Cjx0ZXh0IHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjMxNSIgeT0iLTg1LjgiIGZvbnQtZmFtaWx5PSJUaW1lcyxzZXJpZiIgZm9udC1zaXplPSIxNC4wMCIgZmlsbD0iIzAwMDAwMCI+KjwvdGV4dD4KPC9nPgo8IS0tIG0zJiM0NTsmZ3Q7bXVsMiAtLT4KPGcgaWQ9ImVkZ2UxMSIgY2xhc3M9ImVkZ2UiPgo8dGl0bGU+bTMmIzQ1OyZndDttdWwyPC90aXRsZT4KPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBkPSJNMzM1LjMyNTgsLTE0NC4yMDIyQzMzMi4yNTI0LC0xMzYuMDA2NCAzMjguNTM4NCwtMTI2LjEwMjQgMzI1LjEzMDUsLTExNy4wMTQ1Ii8+Cjxwb2x5Z29uIGZpbGw9IiMwMDAwMDAiIHN0cm9rZT0iIzAwMDAwMCIgcG9pbnRzPSIzMjguMzg1OCwtMTE1LjcyNzQgMzIxLjU5NzQsLTEwNy41OTMgMzIxLjgzMTUsLTExOC4xODUzIDMyOC4zODU4LC0xMTUuNzI3NCIvPgo8L2c+CjwhLS0gbjUgLS0+CjxnIGlkPSJub2RlMTMiIGNsYXNzPSJub2RlIj4KPHRpdGxlPm41PC90aXRsZT4KPGVsbGlwc2UgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBjeD0iMzg3IiBjeT0iLTkwIiByeD0iMjciIHJ5PSIxOCIvPgo8dGV4dCB0ZXh0LWFuY2hvcj0ibWlkZGxlIiB4PSIzODciIHk9Ii04NS44IiBmb250LWZhbWlseT0iVGltZXMsc2VyaWYiIGZvbnQtc2l6ZT0iMTQuMDAiIGZpbGw9IiMwMDAwMDAiPm51bTwvdGV4dD4KPC9nPgo8IS0tIG0zJiM0NTsmZ3Q7bjUgLS0+CjxnIGlkPSJlZGdlMTIiIGNsYXNzPSJlZGdlIj4KPHRpdGxlPm0zJiM0NTsmZ3Q7bjU8L3RpdGxlPgo8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIGQ9Ik0zNTIuNDM3LC0xNDUuMzAwOEMzNTcuOTIzNSwtMTM2LjUyMjQgMzY0Ljc2ODYsLTEyNS41NzAzIDM3MC45MTYzLC0xMTUuNzMzOSIvPgo8cG9seWdvbiBmaWxsPSIjMDAwMDAwIiBzdHJva2U9IiMwMDAwMDAiIHBvaW50cz0iMzczLjk3NTEsLTExNy40NDM2IDM3Ni4zMDcxLC0xMDcuMTA4NiAzNjguMDM5MSwtMTEzLjczMzYgMzczLjk3NTEsLTExNy40NDM2Ii8+CjwvZz4KPCEtLSBtdWwzIC0tPgo8ZyBpZD0ibm9kZTE1IiBjbGFzcz0ibm9kZSI+Cjx0aXRsZT5tdWwzPC90aXRsZT4KPGVsbGlwc2UgZmlsbD0iI2YwZjBmMCIgc3Ryb2tlPSIjMDAwMDAwIiBjeD0iNDU5IiBjeT0iLTkwIiByeD0iMjciIHJ5PSIxOCIvPgo8dGV4dCB0ZXh0LWFuY2hvcj0ibWlkZGxlIiB4PSI0NTkiIHk9Ii04NS44IiBmb250LWZhbWlseT0iVGltZXMsc2VyaWYiIGZvbnQtc2l6ZT0iMTQuMDAiIGZpbGw9IiMwMDAwMDAiPio8L3RleHQ+CjwvZz4KPCEtLSBtMyYjNDU7Jmd0O211bDMgLS0+CjxnIGlkPSJlZGdlMTQiIGNsYXNzPSJlZGdlIj4KPHRpdGxlPm0zJiM0NTsmZ3Q7bXVsMzwvdGl0bGU+CjxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgZD0iTTM2MS44NDc1LC0xNDkuNzg2MkMzODAuNjczLC0xMzguMjAxMyA0MDkuMTY0NiwtMTIwLjY2NzkgNDMwLjQzMjEsLTEwNy41ODAzIi8+Cjxwb2x5Z29uIGZpbGw9IiMwMDAwMDAiIHN0cm9rZT0iIzAwMDAwMCIgcG9pbnRzPSI0MzIuMzcyOSwtMTEwLjQ5NTYgNDM5LjA1NTIsLTEwMi4yNzM3IDQyOC43MDQyLC0xMDQuNTMzOSA0MzIuMzcyOSwtMTEwLjQ5NTYiLz4KPC9nPgo8IS0tIG42IC0tPgo8ZyBpZD0ibm9kZTE2IiBjbGFzcz0ibm9kZSI+Cjx0aXRsZT5uNjwvdGl0bGU+CjxlbGxpcHNlIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgY3g9IjUzMSIgY3k9Ii05MCIgcng9IjI3IiByeT0iMTgiLz4KPHRleHQgdGV4dC1hbmNob3I9Im1pZGRsZSIgeD0iNTMxIiB5PSItODUuOCIgZm9udC1mYW1pbHk9IlRpbWVzLHNlcmlmIiBmb250LXNpemU9IjE0LjAwIiBmaWxsPSIjMDAwMDAwIj5udW08L3RleHQ+CjwvZz4KPCEtLSBtMyYjNDU7Jmd0O242IC0tPgo8ZyBpZD0iZWRnZTE1IiBjbGFzcz0iZWRnZSI+Cjx0aXRsZT5tMyYjNDU7Jmd0O242PC90aXRsZT4KPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBkPSJNMzY2LjczNzIsLTE1NC4zMTlDMzk3LjI5MDksLTE0NC41OTMzIDQ1MC42NjIsLTEyNi44MjI3IDQ5NSwtMTA4IDQ5Ni43ODQ5LC0xMDcuMjQyMyA0OTguNjA1OSwtMTA2LjQzNzMgNTAwLjQzNDEsLTEwNS42MDQyIi8+Cjxwb2x5Z29uIGZpbGw9IiMwMDAwMDAiIHN0cm9rZT0iIzAwMDAwMCIgcG9pbnRzPSI1MDEuOTczNSwtMTA4Ljc0NzkgNTA5LjUwMjMsLTEwMS4yOTM1IDQ5OC45NjgyLC0xMDIuNDI1OCA1MDEuOTczNSwtMTA4Ljc0NzkiLz4KPC9nPgo8IS0tIDMgLS0+CjxnIGlkPSJub2RlMTEiIGNsYXNzPSJub2RlIj4KPHRpdGxlPjM8L3RpdGxlPgo8ZWxsaXBzZSBmaWxsPSIjZjBmMGYwIiBzdHJva2U9IiMwMDAwMDAiIGN4PSIyNDMiIGN5PSItMTgiIHJ4PSIyNyIgcnk9IjE4Ii8+Cjx0ZXh0IHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjI0MyIgeT0iLTEzLjgiIGZvbnQtZmFtaWx5PSJUaW1lcyxzZXJpZiIgZm9udC1zaXplPSIxNC4wMCIgZmlsbD0iIzAwMDAwMCI+MzwvdGV4dD4KPC9nPgo8IS0tIG4zJiM0NTsmZ3Q7MyAtLT4KPGcgaWQ9ImVkZ2UxMCIgY2xhc3M9ImVkZ2UiPgo8dGl0bGU+bjMmIzQ1OyZndDszPC90aXRsZT4KPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBkPSJNMjQzLC03MS44MzE0QzI0MywtNjQuMTMxIDI0MywtNTQuOTc0MyAyNDMsLTQ2LjQxNjYiLz4KPHBvbHlnb24gZmlsbD0iIzAwMDAwMCIgc3Ryb2tlPSIjMDAwMDAwIiBwb2ludHM9IjI0Ni41MDAxLC00Ni40MTMyIDI0MywtMzYuNDEzMyAyMzkuNTAwMSwtNDYuNDEzMyAyNDYuNTAwMSwtNDYuNDEzMiIvPgo8L2c+CjwhLS0gNCAtLT4KPGcgaWQ9Im5vZGUxNCIgY2xhc3M9Im5vZGUiPgo8dGl0bGU+NDwvdGl0bGU+CjxlbGxpcHNlIGZpbGw9IiNmMGYwZjAiIHN0cm9rZT0iIzAwMDAwMCIgY3g9IjM4NyIgY3k9Ii0xOCIgcng9IjI3IiByeT0iMTgiLz4KPHRleHQgdGV4dC1hbmNob3I9Im1pZGRsZSIgeD0iMzg3IiB5PSItMTMuOCIgZm9udC1mYW1pbHk9IlRpbWVzLHNlcmlmIiBmb250LXNpemU9IjE0LjAwIiBmaWxsPSIjMDAwMDAwIj40PC90ZXh0Pgo8L2c+CjwhLS0gbjUmIzQ1OyZndDs0IC0tPgo8ZyBpZD0iZWRnZTEzIiBjbGFzcz0iZWRnZSI+Cjx0aXRsZT5uNSYjNDU7Jmd0OzQ8L3RpdGxlPgo8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIGQ9Ik0zODcsLTcxLjgzMTRDMzg3LC02NC4xMzEgMzg3LC01NC45NzQzIDM4NywtNDYuNDE2NiIvPgo8cG9seWdvbiBmaWxsPSIjMDAwMDAwIiBzdHJva2U9IiMwMDAwMDAiIHBvaW50cz0iMzkwLjUwMDEsLTQ2LjQxMzIgMzg3LC0zNi40MTMzIDM4My41MDAxLC00Ni40MTMzIDM5MC41MDAxLC00Ni40MTMyIi8+CjwvZz4KPCEtLSA1IC0tPgo8ZyBpZD0ibm9kZTE3IiBjbGFzcz0ibm9kZSI+Cjx0aXRsZT41PC90aXRsZT4KPGVsbGlwc2UgZmlsbD0iI2YwZjBmMCIgc3Ryb2tlPSIjMDAwMDAwIiBjeD0iNTMxIiBjeT0iLTE4IiByeD0iMjciIHJ5PSIxOCIvPgo8dGV4dCB0ZXh0LWFuY2hvcj0ibWlkZGxlIiB4PSI1MzEiIHk9Ii0xMy44IiBmb250LWZhbWlseT0iVGltZXMsc2VyaWYiIGZvbnQtc2l6ZT0iMTQuMDAiIGZpbGw9IiMwMDAwMDAiPjU8L3RleHQ+CjwvZz4KPCEtLSBuNiYjNDU7Jmd0OzUgLS0+CjxnIGlkPSJlZGdlMTYiIGNsYXNzPSJlZGdlIj4KPHRpdGxlPm42JiM0NTsmZ3Q7NTwvdGl0bGU+CjxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgZD0iTTUzMSwtNzEuODMxNEM1MzEsLTY0LjEzMSA1MzEsLTU0Ljk3NDMgNTMxLC00Ni40MTY2Ii8+Cjxwb2x5Z29uIGZpbGw9IiMwMDAwMDAiIHN0cm9rZT0iIzAwMDAwMCIgcG9pbnRzPSI1MzQuNTAwMSwtNDYuNDEzMiA1MzEsLTM2LjQxMzMgNTI3LjUwMDEsLTQ2LjQxMzMgNTM0LjUwMDEsLTQ2LjQxMzIiLz4KPC9nPgo8L2c+Cjwvc3ZnPgo=" alt=""><figcaption><code class="notranslate">1*2+3*4*5</code>の構文木</figcaption>
</figure>
<p>上の木構造では、足し算より掛け算が常に木の末端方向に現れるようになっています。実際のところ、<code class="notranslate">mul</code>から<code class="notranslate">expr</code>に戻るルールがないので、掛け算の下に足し算がある木は作りようがないのですが、そうはいってもこのような単純なルールで優先順位が木構造としてうまく表現できるのはかなり不思議に感じます。読者の皆さんも実際に生成規則と構文木を付き合わせて、構文木が正しいことを確認してみてください。</p>
<h3 id="再帰を含む生成規則"><a href="https://www.sigbus.info/compilerbook#%E5%86%8D%E5%B8%B0%E3%82%92%E5%90%AB%E3%82%80%E7%94%9F%E6%88%90%E8%A6%8F%E5%89%87" style="text-decoration: none; color: inherit;">再帰を含む生成規則</a></h3>
<p>生成文法では再帰的な文法も普通に書くことができます。下は、優先順位のカッコを四則演算に追加した文法の生成規則です。</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode scheme notranslate"><code class="sourceCode scheme notranslate"><span id="cb47-1"><a href="https://www.sigbus.info/compilerbook#cb47-1"></a>expr    <span class="op">=</span> mul (<span class="st">"+"</span> mul | <span class="st">"-"</span> mul)*</span>
<span id="cb47-2"><a href="https://www.sigbus.info/compilerbook#cb47-2"></a>mul     <span class="op">=</span> primary (<span class="st">"*"</span> primary | <span class="st">"/"</span> primary)*</span>
<span id="cb47-3"><a href="https://www.sigbus.info/compilerbook#cb47-3"></a>primary <span class="op">=</span> num | <span class="st">"("</span> expr <span class="st">")"</span></span></code></pre></div>
<p>上記の文法を以前の文法と比べてみると、今まで<code class="notranslate">num</code>が許されていたところに、<code class="notranslate">primary</code>、すなわち<code class="notranslate">num</code>あるいは<code class="notranslate">"(" expr ")"</code>が来てよいことになっています。つまりこの新しい文法では、丸カッコでくくられた式というものは、いままでの単一の数と同じ「くっつき具合」で扱われることになります。一つ例を見てみましょう。</p>
<p>次の木は<code class="notranslate">1*2</code>の構文木です。</p>
<figure>
<img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIKICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPgo8IS0tIEdlbmVyYXRlZCBieSBncmFwaHZpeiB2ZXJzaW9uIDIuNDAuMSAoMjAxNjEyMjUuMDMwNCkKIC0tPgo8IS0tIFRpdGxlOiBHIFBhZ2VzOiAxIC0tPgo8c3ZnIHdpZHRoPSIyNTBwdCIgaGVpZ2h0PSIzMzJwdCIKIHZpZXdCb3g9IjAuMDAgMC4wMCAyNTAuMjAgMzMyLjAwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4KPGcgaWQ9ImdyYXBoMCIgY2xhc3M9ImdyYXBoIiB0cmFuc2Zvcm09InNjYWxlKDEgMSkgcm90YXRlKDApIHRyYW5zbGF0ZSg0IDMyOCkiPgo8dGl0bGU+RzwvdGl0bGU+Cjxwb2x5Z29uIGZpbGw9IiNmZmZmZmYiIHN0cm9rZT0idHJhbnNwYXJlbnQiIHBvaW50cz0iLTQsNCAtNCwtMzI4IDI0Ni4yMDIxLC0zMjggMjQ2LjIwMjEsNCAtNCw0Ii8+CjwhLS0gZTAgLS0+CjxnIGlkPSJub2RlMSIgY2xhc3M9Im5vZGUiPgo8dGl0bGU+ZTA8L3RpdGxlPgo8ZWxsaXBzZSBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIGN4PSIxMjEuMTAxMSIgY3k9Ii0zMDYiIHJ4PSIyNyIgcnk9IjE4Ii8+Cjx0ZXh0IHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjEyMS4xMDExIiB5PSItMzAxLjgiIGZvbnQtZmFtaWx5PSJUaW1lcyxzZXJpZiIgZm9udC1zaXplPSIxNC4wMCIgZmlsbD0iIzAwMDAwMCI+ZXhwcjwvdGV4dD4KPC9nPgo8IS0tIG0wIC0tPgo8ZyBpZD0ibm9kZTIiIGNsYXNzPSJub2RlIj4KPHRpdGxlPm0wPC90aXRsZT4KPGVsbGlwc2UgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBjeD0iMTIxLjEwMTEiIGN5PSItMjM0IiByeD0iMjciIHJ5PSIxOCIvPgo8dGV4dCB0ZXh0LWFuY2hvcj0ibWlkZGxlIiB4PSIxMjEuMTAxMSIgeT0iLTIyOS44IiBmb250LWZhbWlseT0iVGltZXMsc2VyaWYiIGZvbnQtc2l6ZT0iMTQuMDAiIGZpbGw9IiMwMDAwMDAiPm11bDwvdGV4dD4KPC9nPgo8IS0tIGUwJiM0NTsmZ3Q7bTAgLS0+CjxnIGlkPSJlZGdlMSIgY2xhc3M9ImVkZ2UiPgo8dGl0bGU+ZTAmIzQ1OyZndDttMDwvdGl0bGU+CjxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgZD0iTTEyMS4xMDExLC0yODcuODMxNEMxMjEuMTAxMSwtMjgwLjEzMSAxMjEuMTAxMSwtMjcwLjk3NDMgMTIxLjEwMTEsLTI2Mi40MTY2Ii8+Cjxwb2x5Z29uIGZpbGw9IiMwMDAwMDAiIHN0cm9rZT0iIzAwMDAwMCIgcG9pbnRzPSIxMjQuNjAxMiwtMjYyLjQxMzIgMTIxLjEwMTEsLTI1Mi40MTMzIDExNy42MDEyLC0yNjIuNDEzMyAxMjQuNjAxMiwtMjYyLjQxMzIiLz4KPC9nPgo8IS0tIHQwIC0tPgo8ZyBpZD0ibm9kZTMiIGNsYXNzPSJub2RlIj4KPHRpdGxlPnQwPC90aXRsZT4KPGVsbGlwc2UgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBjeD0iMzguMTAxMSIgY3k9Ii0xNjIiIHJ4PSIzOC4yMDI0IiByeT0iMTgiLz4KPHRleHQgdGV4dC1hbmNob3I9Im1pZGRsZSIgeD0iMzguMTAxMSIgeT0iLTE1Ny44IiBmb250LWZhbWlseT0iVGltZXMsc2VyaWYiIGZvbnQtc2l6ZT0iMTQuMDAiIGZpbGw9IiMwMDAwMDAiPnByaW1hcnk8L3RleHQ+CjwvZz4KPCEtLSBtMCYjNDU7Jmd0O3QwIC0tPgo8ZyBpZD0iZWRnZTIiIGNsYXNzPSJlZGdlIj4KPHRpdGxlPm0wJiM0NTsmZ3Q7dDA8L3RpdGxlPgo8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIGQ9Ik0xMDQuMzA0OCwtMjE5LjQyOTdDOTIuODUwNCwtMjA5LjQ5MzQgNzcuNDQ4MywtMTk2LjEzMjYgNjQuMzgyNSwtMTg0Ljc5ODMiLz4KPHBvbHlnb24gZmlsbD0iIzAwMDAwMCIgc3Ryb2tlPSIjMDAwMDAwIiBwb2ludHM9IjY2LjQ1MjYsLTE4MS45NjA3IDU2LjYwNTIsLTE3OC4wNTE4IDYxLjg2NTYsLTE4Ny4yNDg1IDY2LjQ1MjYsLTE4MS45NjA3Ii8+CjwvZz4KPCEtLSAqIC0tPgo8ZyBpZD0ibm9kZTYiIGNsYXNzPSJub2RlIj4KPHRpdGxlPio8L3RpdGxlPgo8ZWxsaXBzZSBmaWxsPSIjZjBmMGYwIiBzdHJva2U9IiMwMDAwMDAiIGN4PSIxMjEuMTAxMSIgY3k9Ii0xNjIiIHJ4PSIyNyIgcnk9IjE4Ii8+Cjx0ZXh0IHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjEyMS4xMDExIiB5PSItMTU3LjgiIGZvbnQtZmFtaWx5PSJUaW1lcyxzZXJpZiIgZm9udC1zaXplPSIxNC4wMCIgZmlsbD0iIzAwMDAwMCI+KjwvdGV4dD4KPC9nPgo8IS0tIG0wJiM0NTsmZ3Q7KiAtLT4KPGcgaWQ9ImVkZ2U1IiBjbGFzcz0iZWRnZSI+Cjx0aXRsZT5tMCYjNDU7Jmd0Oyo8L3RpdGxlPgo8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIGQ9Ik0xMjEuMTAxMSwtMjE1LjgzMTRDMTIxLjEwMTEsLTIwOC4xMzEgMTIxLjEwMTEsLTE5OC45NzQzIDEyMS4xMDExLC0xOTAuNDE2NiIvPgo8cG9seWdvbiBmaWxsPSIjMDAwMDAwIiBzdHJva2U9IiMwMDAwMDAiIHBvaW50cz0iMTI0LjYwMTIsLTE5MC40MTMyIDEyMS4xMDExLC0xODAuNDEzMyAxMTcuNjAxMiwtMTkwLjQxMzMgMTI0LjYwMTIsLTE5MC40MTMyIi8+CjwvZz4KPCEtLSB0MSAtLT4KPGcgaWQ9Im5vZGU3IiBjbGFzcz0ibm9kZSI+Cjx0aXRsZT50MTwvdGl0bGU+CjxlbGxpcHNlIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgY3g9IjIwNC4xMDExIiBjeT0iLTE2MiIgcng9IjM4LjIwMjQiIHJ5PSIxOCIvPgo8dGV4dCB0ZXh0LWFuY2hvcj0ibWlkZGxlIiB4PSIyMDQuMTAxMSIgeT0iLTE1Ny44IiBmb250LWZhbWlseT0iVGltZXMsc2VyaWYiIGZvbnQtc2l6ZT0iMTQuMDAiIGZpbGw9IiMwMDAwMDAiPnByaW1hcnk8L3RleHQ+CjwvZz4KPCEtLSBtMCYjNDU7Jmd0O3QxIC0tPgo8ZyBpZD0iZWRnZTYiIGNsYXNzPSJlZGdlIj4KPHRpdGxlPm0wJiM0NTsmZ3Q7dDE8L3RpdGxlPgo8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIGQ9Ik0xMzcuODk3MywtMjE5LjQyOTdDMTQ5LjM1MTcsLTIwOS40OTM0IDE2NC43NTM4LC0xOTYuMTMyNiAxNzcuODE5NiwtMTg0Ljc5ODMiLz4KPHBvbHlnb24gZmlsbD0iIzAwMDAwMCIgc3Ryb2tlPSIjMDAwMDAwIiBwb2ludHM9IjE4MC4zMzY1LC0xODcuMjQ4NSAxODUuNTk2OSwtMTc4LjA1MTggMTc1Ljc0OTUsLTE4MS45NjA3IDE4MC4zMzY1LC0xODcuMjQ4NSIvPgo8L2c+CjwhLS0gbjAgLS0+CjxnIGlkPSJub2RlNCIgY2xhc3M9Im5vZGUiPgo8dGl0bGU+bjA8L3RpdGxlPgo8ZWxsaXBzZSBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIGN4PSIzOC4xMDExIiBjeT0iLTkwIiByeD0iMjciIHJ5PSIxOCIvPgo8dGV4dCB0ZXh0LWFuY2hvcj0ibWlkZGxlIiB4PSIzOC4xMDExIiB5PSItODUuOCIgZm9udC1mYW1pbHk9IlRpbWVzLHNlcmlmIiBmb250LXNpemU9IjE0LjAwIiBmaWxsPSIjMDAwMDAwIj5udW08L3RleHQ+CjwvZz4KPCEtLSB0MCYjNDU7Jmd0O24wIC0tPgo8ZyBpZD0iZWRnZTMiIGNsYXNzPSJlZGdlIj4KPHRpdGxlPnQwJiM0NTsmZ3Q7bjA8L3RpdGxlPgo8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIGQ9Ik0zOC4xMDExLC0xNDMuODMxNEMzOC4xMDExLC0xMzYuMTMxIDM4LjEwMTEsLTEyNi45NzQzIDM4LjEwMTEsLTExOC40MTY2Ii8+Cjxwb2x5Z29uIGZpbGw9IiMwMDAwMDAiIHN0cm9rZT0iIzAwMDAwMCIgcG9pbnRzPSI0MS42MDEyLC0xMTguNDEzMiAzOC4xMDExLC0xMDguNDEzMyAzNC42MDEyLC0xMTguNDEzMyA0MS42MDEyLC0xMTguNDEzMiIvPgo8L2c+CjwhLS0gMSAtLT4KPGcgaWQ9Im5vZGU1IiBjbGFzcz0ibm9kZSI+Cjx0aXRsZT4xPC90aXRsZT4KPGVsbGlwc2UgZmlsbD0iI2YwZjBmMCIgc3Ryb2tlPSIjMDAwMDAwIiBjeD0iMzguMTAxMSIgY3k9Ii0xOCIgcng9IjI3IiByeT0iMTgiLz4KPHRleHQgdGV4dC1hbmNob3I9Im1pZGRsZSIgeD0iMzguMTAxMSIgeT0iLTEzLjgiIGZvbnQtZmFtaWx5PSJUaW1lcyxzZXJpZiIgZm9udC1zaXplPSIxNC4wMCIgZmlsbD0iIzAwMDAwMCI+MTwvdGV4dD4KPC9nPgo8IS0tIG4wJiM0NTsmZ3Q7MSAtLT4KPGcgaWQ9ImVkZ2U0IiBjbGFzcz0iZWRnZSI+Cjx0aXRsZT5uMCYjNDU7Jmd0OzE8L3RpdGxlPgo8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIGQ9Ik0zOC4xMDExLC03MS44MzE0QzM4LjEwMTEsLTY0LjEzMSAzOC4xMDExLC01NC45NzQzIDM4LjEwMTEsLTQ2LjQxNjYiLz4KPHBvbHlnb24gZmlsbD0iIzAwMDAwMCIgc3Ryb2tlPSIjMDAwMDAwIiBwb2ludHM9IjQxLjYwMTIsLTQ2LjQxMzIgMzguMTAxMSwtMzYuNDEzMyAzNC42MDEyLC00Ni40MTMzIDQxLjYwMTIsLTQ2LjQxMzIiLz4KPC9nPgo8IS0tIG4xIC0tPgo8ZyBpZD0ibm9kZTgiIGNsYXNzPSJub2RlIj4KPHRpdGxlPm4xPC90aXRsZT4KPGVsbGlwc2UgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBjeD0iMjA0LjEwMTEiIGN5PSItOTAiIHJ4PSIyNyIgcnk9IjE4Ii8+Cjx0ZXh0IHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjIwNC4xMDExIiB5PSItODUuOCIgZm9udC1mYW1pbHk9IlRpbWVzLHNlcmlmIiBmb250LXNpemU9IjE0LjAwIiBmaWxsPSIjMDAwMDAwIj5udW08L3RleHQ+CjwvZz4KPCEtLSB0MSYjNDU7Jmd0O24xIC0tPgo8ZyBpZD0iZWRnZTciIGNsYXNzPSJlZGdlIj4KPHRpdGxlPnQxJiM0NTsmZ3Q7bjE8L3RpdGxlPgo8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIGQ9Ik0yMDQuMTAxMSwtMTQzLjgzMTRDMjA0LjEwMTEsLTEzNi4xMzEgMjA0LjEwMTEsLTEyNi45NzQzIDIwNC4xMDExLC0xMTguNDE2NiIvPgo8cG9seWdvbiBmaWxsPSIjMDAwMDAwIiBzdHJva2U9IiMwMDAwMDAiIHBvaW50cz0iMjA3LjYwMTIsLTExOC40MTMyIDIwNC4xMDExLC0xMDguNDEzMyAyMDAuNjAxMiwtMTE4LjQxMzMgMjA3LjYwMTIsLTExOC40MTMyIi8+CjwvZz4KPCEtLSAyIC0tPgo8ZyBpZD0ibm9kZTkiIGNsYXNzPSJub2RlIj4KPHRpdGxlPjI8L3RpdGxlPgo8ZWxsaXBzZSBmaWxsPSIjZjBmMGYwIiBzdHJva2U9IiMwMDAwMDAiIGN4PSIyMDQuMTAxMSIgY3k9Ii0xOCIgcng9IjI3IiByeT0iMTgiLz4KPHRleHQgdGV4dC1hbmNob3I9Im1pZGRsZSIgeD0iMjA0LjEwMTEiIHk9Ii0xMy44IiBmb250LWZhbWlseT0iVGltZXMsc2VyaWYiIGZvbnQtc2l6ZT0iMTQuMDAiIGZpbGw9IiMwMDAwMDAiPjI8L3RleHQ+CjwvZz4KPCEtLSBuMSYjNDU7Jmd0OzIgLS0+CjxnIGlkPSJlZGdlOCIgY2xhc3M9ImVkZ2UiPgo8dGl0bGU+bjEmIzQ1OyZndDsyPC90aXRsZT4KPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBkPSJNMjA0LjEwMTEsLTcxLjgzMTRDMjA0LjEwMTEsLTY0LjEzMSAyMDQuMTAxMSwtNTQuOTc0MyAyMDQuMTAxMSwtNDYuNDE2NiIvPgo8cG9seWdvbiBmaWxsPSIjMDAwMDAwIiBzdHJva2U9IiMwMDAwMDAiIHBvaW50cz0iMjA3LjYwMTIsLTQ2LjQxMzIgMjA0LjEwMTEsLTM2LjQxMzMgMjAwLjYwMTIsLTQ2LjQxMzMgMjA3LjYwMTIsLTQ2LjQxMzIiLz4KPC9nPgo8L2c+Cjwvc3ZnPgo=" alt=""><figcaption><code class="notranslate">1*2</code>の構文木</figcaption>
</figure>
<p>次の木は<code class="notranslate">1*(2+3)</code>の構文木です。</p>
<figure>
<img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIKICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPgo8IS0tIEdlbmVyYXRlZCBieSBncmFwaHZpeiB2ZXJzaW9uIDIuNDAuMSAoMjAxNjEyMjUuMDMwNCkKIC0tPgo8IS0tIFRpdGxlOiBHIFBhZ2VzOiAxIC0tPgo8c3ZnIHdpZHRoPSIzMjJwdCIgaGVpZ2h0PSI1NDhwdCIKIHZpZXdCb3g9IjAuMDAgMC4wMCAzMjIuMjAgNTQ4LjAwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4KPGcgaWQ9ImdyYXBoMCIgY2xhc3M9ImdyYXBoIiB0cmFuc2Zvcm09InNjYWxlKDEgMSkgcm90YXRlKDApIHRyYW5zbGF0ZSg0IDU0NCkiPgo8dGl0bGU+RzwvdGl0bGU+Cjxwb2x5Z29uIGZpbGw9IiNmZmZmZmYiIHN0cm9rZT0idHJhbnNwYXJlbnQiIHBvaW50cz0iLTQsNCAtNCwtNTQ0IDMxOC4yMDIxLC01NDQgMzE4LjIwMjEsNCAtNCw0Ii8+CjwhLS0gZTAgLS0+CjxnIGlkPSJub2RlMSIgY2xhc3M9Im5vZGUiPgo8dGl0bGU+ZTA8L3RpdGxlPgo8ZWxsaXBzZSBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIGN4PSIxMjEuMTAxMSIgY3k9Ii01MjIiIHJ4PSIyNyIgcnk9IjE4Ii8+Cjx0ZXh0IHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjEyMS4xMDExIiB5PSItNTE3LjgiIGZvbnQtZmFtaWx5PSJUaW1lcyxzZXJpZiIgZm9udC1zaXplPSIxNC4wMCIgZmlsbD0iIzAwMDAwMCI+ZXhwcjwvdGV4dD4KPC9nPgo8IS0tIG0wIC0tPgo8ZyBpZD0ibm9kZTIiIGNsYXNzPSJub2RlIj4KPHRpdGxlPm0wPC90aXRsZT4KPGVsbGlwc2UgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBjeD0iMTIxLjEwMTEiIGN5PSItNDUwIiByeD0iMjciIHJ5PSIxOCIvPgo8dGV4dCB0ZXh0LWFuY2hvcj0ibWlkZGxlIiB4PSIxMjEuMTAxMSIgeT0iLTQ0NS44IiBmb250LWZhbWlseT0iVGltZXMsc2VyaWYiIGZvbnQtc2l6ZT0iMTQuMDAiIGZpbGw9IiMwMDAwMDAiPm11bDwvdGV4dD4KPC9nPgo8IS0tIGUwJiM0NTsmZ3Q7bTAgLS0+CjxnIGlkPSJlZGdlMSIgY2xhc3M9ImVkZ2UiPgo8dGl0bGU+ZTAmIzQ1OyZndDttMDwvdGl0bGU+CjxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgZD0iTTEyMS4xMDExLC01MDMuODMxNEMxMjEuMTAxMSwtNDk2LjEzMSAxMjEuMTAxMSwtNDg2Ljk3NDMgMTIxLjEwMTEsLTQ3OC40MTY2Ii8+Cjxwb2x5Z29uIGZpbGw9IiMwMDAwMDAiIHN0cm9rZT0iIzAwMDAwMCIgcG9pbnRzPSIxMjQuNjAxMiwtNDc4LjQxMzIgMTIxLjEwMTEsLTQ2OC40MTMzIDExNy42MDEyLC00NzguNDEzMyAxMjQuNjAxMiwtNDc4LjQxMzIiLz4KPC9nPgo8IS0tIHQwIC0tPgo8ZyBpZD0ibm9kZTMiIGNsYXNzPSJub2RlIj4KPHRpdGxlPnQwPC90aXRsZT4KPGVsbGlwc2UgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBjeD0iMzguMTAxMSIgY3k9Ii0zNzgiIHJ4PSIzOC4yMDI0IiByeT0iMTgiLz4KPHRleHQgdGV4dC1hbmNob3I9Im1pZGRsZSIgeD0iMzguMTAxMSIgeT0iLTM3My44IiBmb250LWZhbWlseT0iVGltZXMsc2VyaWYiIGZvbnQtc2l6ZT0iMTQuMDAiIGZpbGw9IiMwMDAwMDAiPnByaW1hcnk8L3RleHQ+CjwvZz4KPCEtLSBtMCYjNDU7Jmd0O3QwIC0tPgo8ZyBpZD0iZWRnZTIiIGNsYXNzPSJlZGdlIj4KPHRpdGxlPm0wJiM0NTsmZ3Q7dDA8L3RpdGxlPgo8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIGQ9Ik0xMDQuMzA0OCwtNDM1LjQyOTdDOTIuODUwNCwtNDI1LjQ5MzQgNzcuNDQ4MywtNDEyLjEzMjYgNjQuMzgyNSwtNDAwLjc5ODMiLz4KPHBvbHlnb24gZmlsbD0iIzAwMDAwMCIgc3Ryb2tlPSIjMDAwMDAwIiBwb2ludHM9IjY2LjQ1MjYsLTM5Ny45NjA3IDU2LjYwNTIsLTM5NC4wNTE4IDYxLjg2NTYsLTQwMy4yNDg1IDY2LjQ1MjYsLTM5Ny45NjA3Ii8+CjwvZz4KPCEtLSAqIC0tPgo8ZyBpZD0ibm9kZTYiIGNsYXNzPSJub2RlIj4KPHRpdGxlPio8L3RpdGxlPgo8ZWxsaXBzZSBmaWxsPSIjZjBmMGYwIiBzdHJva2U9IiMwMDAwMDAiIGN4PSIxMjEuMTAxMSIgY3k9Ii0zNzgiIHJ4PSIyNyIgcnk9IjE4Ii8+Cjx0ZXh0IHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjEyMS4xMDExIiB5PSItMzczLjgiIGZvbnQtZmFtaWx5PSJUaW1lcyxzZXJpZiIgZm9udC1zaXplPSIxNC4wMCIgZmlsbD0iIzAwMDAwMCI+KjwvdGV4dD4KPC9nPgo8IS0tIG0wJiM0NTsmZ3Q7KiAtLT4KPGcgaWQ9ImVkZ2U1IiBjbGFzcz0iZWRnZSI+Cjx0aXRsZT5tMCYjNDU7Jmd0Oyo8L3RpdGxlPgo8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIGQ9Ik0xMjEuMTAxMSwtNDMxLjgzMTRDMTIxLjEwMTEsLTQyNC4xMzEgMTIxLjEwMTEsLTQxNC45NzQzIDEyMS4xMDExLC00MDYuNDE2NiIvPgo8cG9seWdvbiBmaWxsPSIjMDAwMDAwIiBzdHJva2U9IiMwMDAwMDAiIHBvaW50cz0iMTI0LjYwMTIsLTQwNi40MTMyIDEyMS4xMDExLC0zOTYuNDEzMyAxMTcuNjAxMiwtNDA2LjQxMzMgMTI0LjYwMTIsLTQwNi40MTMyIi8+CjwvZz4KPCEtLSB0MSAtLT4KPGcgaWQ9Im5vZGU3IiBjbGFzcz0ibm9kZSI+Cjx0aXRsZT50MTwvdGl0bGU+CjxlbGxpcHNlIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgY3g9IjIwNC4xMDExIiBjeT0iLTM3OCIgcng9IjM4LjIwMjQiIHJ5PSIxOCIvPgo8dGV4dCB0ZXh0LWFuY2hvcj0ibWlkZGxlIiB4PSIyMDQuMTAxMSIgeT0iLTM3My44IiBmb250LWZhbWlseT0iVGltZXMsc2VyaWYiIGZvbnQtc2l6ZT0iMTQuMDAiIGZpbGw9IiMwMDAwMDAiPnByaW1hcnk8L3RleHQ+CjwvZz4KPCEtLSBtMCYjNDU7Jmd0O3QxIC0tPgo8ZyBpZD0iZWRnZTYiIGNsYXNzPSJlZGdlIj4KPHRpdGxlPm0wJiM0NTsmZ3Q7dDE8L3RpdGxlPgo8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIGQ9Ik0xMzcuODk3MywtNDM1LjQyOTdDMTQ5LjM1MTcsLTQyNS40OTM0IDE2NC43NTM4LC00MTIuMTMyNiAxNzcuODE5NiwtNDAwLjc5ODMiLz4KPHBvbHlnb24gZmlsbD0iIzAwMDAwMCIgc3Ryb2tlPSIjMDAwMDAwIiBwb2ludHM9IjE4MC4zMzY1LC00MDMuMjQ4NSAxODUuNTk2OSwtMzk0LjA1MTggMTc1Ljc0OTUsLTM5Ny45NjA3IDE4MC4zMzY1LC00MDMuMjQ4NSIvPgo8L2c+CjwhLS0gbjAgLS0+CjxnIGlkPSJub2RlNCIgY2xhc3M9Im5vZGUiPgo8dGl0bGU+bjA8L3RpdGxlPgo8ZWxsaXBzZSBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIGN4PSIzOC4xMDExIiBjeT0iLTMwNiIgcng9IjI3IiByeT0iMTgiLz4KPHRleHQgdGV4dC1hbmNob3I9Im1pZGRsZSIgeD0iMzguMTAxMSIgeT0iLTMwMS44IiBmb250LWZhbWlseT0iVGltZXMsc2VyaWYiIGZvbnQtc2l6ZT0iMTQuMDAiIGZpbGw9IiMwMDAwMDAiPm51bTwvdGV4dD4KPC9nPgo8IS0tIHQwJiM0NTsmZ3Q7bjAgLS0+CjxnIGlkPSJlZGdlMyIgY2xhc3M9ImVkZ2UiPgo8dGl0bGU+dDAmIzQ1OyZndDtuMDwvdGl0bGU+CjxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgZD0iTTM4LjEwMTEsLTM1OS44MzE0QzM4LjEwMTEsLTM1Mi4xMzEgMzguMTAxMSwtMzQyLjk3NDMgMzguMTAxMSwtMzM0LjQxNjYiLz4KPHBvbHlnb24gZmlsbD0iIzAwMDAwMCIgc3Ryb2tlPSIjMDAwMDAwIiBwb2ludHM9IjQxLjYwMTIsLTMzNC40MTMyIDM4LjEwMTEsLTMyNC40MTMzIDM0LjYwMTIsLTMzNC40MTMzIDQxLjYwMTIsLTMzNC40MTMyIi8+CjwvZz4KPCEtLSAxIC0tPgo8ZyBpZD0ibm9kZTUiIGNsYXNzPSJub2RlIj4KPHRpdGxlPjE8L3RpdGxlPgo8ZWxsaXBzZSBmaWxsPSIjZjBmMGYwIiBzdHJva2U9IiMwMDAwMDAiIGN4PSIzOC4xMDExIiBjeT0iLTIzNCIgcng9IjI3IiByeT0iMTgiLz4KPHRleHQgdGV4dC1hbmNob3I9Im1pZGRsZSIgeD0iMzguMTAxMSIgeT0iLTIyOS44IiBmb250LWZhbWlseT0iVGltZXMsc2VyaWYiIGZvbnQtc2l6ZT0iMTQuMDAiIGZpbGw9IiMwMDAwMDAiPjE8L3RleHQ+CjwvZz4KPCEtLSBuMCYjNDU7Jmd0OzEgLS0+CjxnIGlkPSJlZGdlNCIgY2xhc3M9ImVkZ2UiPgo8dGl0bGU+bjAmIzQ1OyZndDsxPC90aXRsZT4KPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBkPSJNMzguMTAxMSwtMjg3LjgzMTRDMzguMTAxMSwtMjgwLjEzMSAzOC4xMDExLC0yNzAuOTc0MyAzOC4xMDExLC0yNjIuNDE2NiIvPgo8cG9seWdvbiBmaWxsPSIjMDAwMDAwIiBzdHJva2U9IiMwMDAwMDAiIHBvaW50cz0iNDEuNjAxMiwtMjYyLjQxMzIgMzguMTAxMSwtMjUyLjQxMzMgMzQuNjAxMiwtMjYyLjQxMzMgNDEuNjAxMiwtMjYyLjQxMzIiLz4KPC9nPgo8IS0tICggLS0+CjxnIGlkPSJub2RlOCIgY2xhc3M9Im5vZGUiPgo8dGl0bGU+KDwvdGl0bGU+CjxlbGxpcHNlIGZpbGw9IiNmMGYwZjAiIHN0cm9rZT0iIzAwMDAwMCIgY3g9IjEzMi4xMDExIiBjeT0iLTMwNiIgcng9IjI3IiByeT0iMTgiLz4KPHRleHQgdGV4dC1hbmNob3I9Im1pZGRsZSIgeD0iMTMyLjEwMTEiIHk9Ii0zMDEuOCIgZm9udC1mYW1pbHk9IlRpbWVzLHNlcmlmIiBmb250LXNpemU9IjE0LjAwIiBmaWxsPSIjMDAwMDAwIj4oPC90ZXh0Pgo8L2c+CjwhLS0gdDEmIzQ1OyZndDsoIC0tPgo8ZyBpZD0iZWRnZTciIGNsYXNzPSJlZGdlIj4KPHRpdGxlPnQxJiM0NTsmZ3Q7KDwvdGl0bGU+CjxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgZD0iTTE4Ny43NjMxLC0zNjEuNjYyMUMxNzcuOTE5NiwtMzUxLjgxODUgMTY1LjI0NjgsLTMzOS4xNDU4IDE1NC40ODA1LC0zMjguMzc5NSIvPgo8cG9seWdvbiBmaWxsPSIjMDAwMDAwIiBzdHJva2U9IiMwMDAwMDAiIHBvaW50cz0iMTU2LjkzNTYsLTMyNS44ODQ4IDE0Ny4zODk3LC0zMjEuMjg4NiAxNTEuOTg1OSwtMzMwLjgzNDYgMTU2LjkzNTYsLTMyNS44ODQ4Ii8+CjwvZz4KPCEtLSBlMSAtLT4KPGcgaWQ9Im5vZGU5IiBjbGFzcz0ibm9kZSI+Cjx0aXRsZT5lMTwvdGl0bGU+CjxlbGxpcHNlIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgY3g9IjIwNC4xMDExIiBjeT0iLTMwNiIgcng9IjI3IiByeT0iMTgiLz4KPHRleHQgdGV4dC1hbmNob3I9Im1pZGRsZSIgeD0iMjA0LjEwMTEiIHk9Ii0zMDEuOCIgZm9udC1mYW1pbHk9IlRpbWVzLHNlcmlmIiBmb250LXNpemU9IjE0LjAwIiBmaWxsPSIjMDAwMDAwIj5leHByPC90ZXh0Pgo8L2c+CjwhLS0gdDEmIzQ1OyZndDtlMSAtLT4KPGcgaWQ9ImVkZ2U4IiBjbGFzcz0iZWRnZSI+Cjx0aXRsZT50MSYjNDU7Jmd0O2UxPC90aXRsZT4KPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBkPSJNMjA0LjEwMTEsLTM1OS44MzE0QzIwNC4xMDExLC0zNTIuMTMxIDIwNC4xMDExLC0zNDIuOTc0MyAyMDQuMTAxMSwtMzM0LjQxNjYiLz4KPHBvbHlnb24gZmlsbD0iIzAwMDAwMCIgc3Ryb2tlPSIjMDAwMDAwIiBwb2ludHM9IjIwNy42MDEyLC0zMzQuNDEzMiAyMDQuMTAxMSwtMzI0LjQxMzMgMjAwLjYwMTIsLTMzNC40MTMzIDIwNy42MDEyLC0zMzQuNDEzMiIvPgo8L2c+CjwhLS0gKSAtLT4KPGcgaWQ9Im5vZGUxOSIgY2xhc3M9Im5vZGUiPgo8dGl0bGU+KTwvdGl0bGU+CjxlbGxpcHNlIGZpbGw9IiNmMGYwZjAiIHN0cm9rZT0iIzAwMDAwMCIgY3g9IjI3Ni4xMDExIiBjeT0iLTMwNiIgcng9IjI3IiByeT0iMTgiLz4KPHRleHQgdGV4dC1hbmNob3I9Im1pZGRsZSIgeD0iMjc2LjEwMTEiIHk9Ii0zMDEuOCIgZm9udC1mYW1pbHk9IlRpbWVzLHNlcmlmIiBmb250LXNpemU9IjE0LjAwIiBmaWxsPSIjMDAwMDAwIj4pPC90ZXh0Pgo8L2c+CjwhLS0gdDEmIzQ1OyZndDspIC0tPgo8ZyBpZD0iZWRnZTE4IiBjbGFzcz0iZWRnZSI+Cjx0aXRsZT50MSYjNDU7Jmd0Oyk8L3RpdGxlPgo8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIGQ9Ik0yMjAuNDM5LC0zNjEuNjYyMUMyMzAuMjgyNSwtMzUxLjgxODUgMjQyLjk1NTMsLTMzOS4xNDU4IDI1My43MjE2LC0zMjguMzc5NSIvPgo8cG9seWdvbiBmaWxsPSIjMDAwMDAwIiBzdHJva2U9IiMwMDAwMDAiIHBvaW50cz0iMjU2LjIxNjIsLTMzMC44MzQ2IDI2MC44MTI0LC0zMjEuMjg4NiAyNTEuMjY2NSwtMzI1Ljg4NDggMjU2LjIxNjIsLTMzMC44MzQ2Ii8+CjwvZz4KPCEtLSBtMiAtLT4KPGcgaWQ9Im5vZGUxMCIgY2xhc3M9Im5vZGUiPgo8dGl0bGU+bTI8L3RpdGxlPgo8ZWxsaXBzZSBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIGN4PSIxMzIuMTAxMSIgY3k9Ii0yMzQiIHJ4PSIyNyIgcnk9IjE4Ii8+Cjx0ZXh0IHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjEzMi4xMDExIiB5PSItMjI5LjgiIGZvbnQtZmFtaWx5PSJUaW1lcyxzZXJpZiIgZm9udC1zaXplPSIxNC4wMCIgZmlsbD0iIzAwMDAwMCI+bXVsPC90ZXh0Pgo8L2c+CjwhLS0gZTEmIzQ1OyZndDttMiAtLT4KPGcgaWQ9ImVkZ2U5IiBjbGFzcz0iZWRnZSI+Cjx0aXRsZT5lMSYjNDU7Jmd0O20yPC90aXRsZT4KPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBkPSJNMTg4LjgzMTcsLTI5MC43MzA3QzE3OC45MDQxLC0yODAuODAzIDE2NS43ODU3LC0yNjcuNjg0NyAxNTQuNjY0NywtMjU2LjU2MzciLz4KPHBvbHlnb24gZmlsbD0iIzAwMDAwMCIgc3Ryb2tlPSIjMDAwMDAwIiBwb2ludHM9IjE1Ni44OTQ0LC0yNTMuODQzNiAxNDcuMzQ4NCwtMjQ5LjI0NzMgMTUxLjk0NDYsLTI1OC43OTMzIDE1Ni44OTQ0LC0yNTMuODQzNiIvPgo8L2c+CjwhLS0gKyAtLT4KPGcgaWQ9Im5vZGUxNCIgY2xhc3M9Im5vZGUiPgo8dGl0bGU+KzwvdGl0bGU+CjxlbGxpcHNlIGZpbGw9IiNmMGYwZjAiIHN0cm9rZT0iIzAwMDAwMCIgY3g9IjIwNC4xMDExIiBjeT0iLTIzNCIgcng9IjI3IiByeT0iMTgiLz4KPHRleHQgdGV4dC1hbmNob3I9Im1pZGRsZSIgeD0iMjA0LjEwMTEiIHk9Ii0yMjkuOCIgZm9udC1mYW1pbHk9IlRpbWVzLHNlcmlmIiBmb250LXNpemU9IjE0LjAwIiBmaWxsPSIjMDAwMDAwIj4rPC90ZXh0Pgo8L2c+CjwhLS0gZTEmIzQ1OyZndDsrIC0tPgo8ZyBpZD0iZWRnZTEzIiBjbGFzcz0iZWRnZSI+Cjx0aXRsZT5lMSYjNDU7Jmd0Oys8L3RpdGxlPgo8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIGQ9Ik0yMDQuMTAxMSwtMjg3LjgzMTRDMjA0LjEwMTEsLTI4MC4xMzEgMjA0LjEwMTEsLTI3MC45NzQzIDIwNC4xMDExLC0yNjIuNDE2NiIvPgo8cG9seWdvbiBmaWxsPSIjMDAwMDAwIiBzdHJva2U9IiMwMDAwMDAiIHBvaW50cz0iMjA3LjYwMTIsLTI2Mi40MTMyIDIwNC4xMDExLC0yNTIuNDEzMyAyMDAuNjAxMiwtMjYyLjQxMzMgMjA3LjYwMTIsLTI2Mi40MTMyIi8+CjwvZz4KPCEtLSBtMyAtLT4KPGcgaWQ9Im5vZGUxNSIgY2xhc3M9Im5vZGUiPgo8dGl0bGU+bTM8L3RpdGxlPgo8ZWxsaXBzZSBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIGN4PSIyNzYuMTAxMSIgY3k9Ii0yMzQiIHJ4PSIyNyIgcnk9IjE4Ii8+Cjx0ZXh0IHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjI3Ni4xMDExIiB5PSItMjI5LjgiIGZvbnQtZmFtaWx5PSJUaW1lcyxzZXJpZiIgZm9udC1zaXplPSIxNC4wMCIgZmlsbD0iIzAwMDAwMCI+bXVsPC90ZXh0Pgo8L2c+CjwhLS0gZTEmIzQ1OyZndDttMyAtLT4KPGcgaWQ9ImVkZ2UxNCIgY2xhc3M9ImVkZ2UiPgo8dGl0bGU+ZTEmIzQ1OyZndDttMzwvdGl0bGU+CjxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgZD0iTTIxOS4zNzA0LC0yOTAuNzMwN0MyMjkuMjk4LC0yODAuODAzIDI0Mi40MTY0LC0yNjcuNjg0NyAyNTMuNTM3NCwtMjU2LjU2MzciLz4KPHBvbHlnb24gZmlsbD0iIzAwMDAwMCIgc3Ryb2tlPSIjMDAwMDAwIiBwb2ludHM9IjI1Ni4yNTc1LC0yNTguNzkzMyAyNjAuODUzNywtMjQ5LjI0NzMgMjUxLjMwNzcsLTI1My44NDM2IDI1Ni4yNTc1LC0yNTguNzkzMyIvPgo8L2c+CjwhLS0gdDIgLS0+CjxnIGlkPSJub2RlMTEiIGNsYXNzPSJub2RlIj4KPHRpdGxlPnQyPC90aXRsZT4KPGVsbGlwc2UgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBjeD0iMTMyLjEwMTEiIGN5PSItMTYyIiByeD0iMzguMjAyNCIgcnk9IjE4Ii8+Cjx0ZXh0IHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjEzMi4xMDExIiB5PSItMTU3LjgiIGZvbnQtZmFtaWx5PSJUaW1lcyxzZXJpZiIgZm9udC1zaXplPSIxNC4wMCIgZmlsbD0iIzAwMDAwMCI+cHJpbWFyeTwvdGV4dD4KPC9nPgo8IS0tIG0yJiM0NTsmZ3Q7dDIgLS0+CjxnIGlkPSJlZGdlMTAiIGNsYXNzPSJlZGdlIj4KPHRpdGxlPm0yJiM0NTsmZ3Q7dDI8L3RpdGxlPgo8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIGQ9Ik0xMzIuMTAxMSwtMjE1LjgzMTRDMTMyLjEwMTEsLTIwOC4xMzEgMTMyLjEwMTEsLTE5OC45NzQzIDEzMi4xMDExLC0xOTAuNDE2NiIvPgo8cG9seWdvbiBmaWxsPSIjMDAwMDAwIiBzdHJva2U9IiMwMDAwMDAiIHBvaW50cz0iMTM1LjYwMTIsLTE5MC40MTMyIDEzMi4xMDExLC0xODAuNDEzMyAxMjguNjAxMiwtMTkwLjQxMzMgMTM1LjYwMTIsLTE5MC40MTMyIi8+CjwvZz4KPCEtLSBuMSAtLT4KPGcgaWQ9Im5vZGUxMiIgY2xhc3M9Im5vZGUiPgo8dGl0bGU+bjE8L3RpdGxlPgo8ZWxsaXBzZSBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIGN4PSIxMzIuMTAxMSIgY3k9Ii05MCIgcng9IjI3IiByeT0iMTgiLz4KPHRleHQgdGV4dC1hbmNob3I9Im1pZGRsZSIgeD0iMTMyLjEwMTEiIHk9Ii04NS44IiBmb250LWZhbWlseT0iVGltZXMsc2VyaWYiIGZvbnQtc2l6ZT0iMTQuMDAiIGZpbGw9IiMwMDAwMDAiPm51bTwvdGV4dD4KPC9nPgo8IS0tIHQyJiM0NTsmZ3Q7bjEgLS0+CjxnIGlkPSJlZGdlMTEiIGNsYXNzPSJlZGdlIj4KPHRpdGxlPnQyJiM0NTsmZ3Q7bjE8L3RpdGxlPgo8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIGQ9Ik0xMzIuMTAxMSwtMTQzLjgzMTRDMTMyLjEwMTEsLTEzNi4xMzEgMTMyLjEwMTEsLTEyNi45NzQzIDEzMi4xMDExLC0xMTguNDE2NiIvPgo8cG9seWdvbiBmaWxsPSIjMDAwMDAwIiBzdHJva2U9IiMwMDAwMDAiIHBvaW50cz0iMTM1LjYwMTIsLTExOC40MTMyIDEzMi4xMDExLC0xMDguNDEzMyAxMjguNjAxMiwtMTE4LjQxMzMgMTM1LjYwMTIsLTExOC40MTMyIi8+CjwvZz4KPCEtLSAyIC0tPgo8ZyBpZD0ibm9kZTEzIiBjbGFzcz0ibm9kZSI+Cjx0aXRsZT4yPC90aXRsZT4KPGVsbGlwc2UgZmlsbD0iI2YwZjBmMCIgc3Ryb2tlPSIjMDAwMDAwIiBjeD0iMTMyLjEwMTEiIGN5PSItMTgiIHJ4PSIyNyIgcnk9IjE4Ii8+Cjx0ZXh0IHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjEzMi4xMDExIiB5PSItMTMuOCIgZm9udC1mYW1pbHk9IlRpbWVzLHNlcmlmIiBmb250LXNpemU9IjE0LjAwIiBmaWxsPSIjMDAwMDAwIj4yPC90ZXh0Pgo8L2c+CjwhLS0gbjEmIzQ1OyZndDsyIC0tPgo8ZyBpZD0iZWRnZTEyIiBjbGFzcz0iZWRnZSI+Cjx0aXRsZT5uMSYjNDU7Jmd0OzI8L3RpdGxlPgo8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIGQ9Ik0xMzIuMTAxMSwtNzEuODMxNEMxMzIuMTAxMSwtNjQuMTMxIDEzMi4xMDExLC01NC45NzQzIDEzMi4xMDExLC00Ni40MTY2Ii8+Cjxwb2x5Z29uIGZpbGw9IiMwMDAwMDAiIHN0cm9rZT0iIzAwMDAwMCIgcG9pbnRzPSIxMzUuNjAxMiwtNDYuNDEzMiAxMzIuMTAxMSwtMzYuNDEzMyAxMjguNjAxMiwtNDYuNDEzMyAxMzUuNjAxMiwtNDYuNDEzMiIvPgo8L2c+CjwhLS0gdDMgLS0+CjxnIGlkPSJub2RlMTYiIGNsYXNzPSJub2RlIj4KPHRpdGxlPnQzPC90aXRsZT4KPGVsbGlwc2UgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBjeD0iMjc2LjEwMTEiIGN5PSItMTYyIiByeD0iMzguMjAyNCIgcnk9IjE4Ii8+Cjx0ZXh0IHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjI3Ni4xMDExIiB5PSItMTU3LjgiIGZvbnQtZmFtaWx5PSJUaW1lcyxzZXJpZiIgZm9udC1zaXplPSIxNC4wMCIgZmlsbD0iIzAwMDAwMCI+cHJpbWFyeTwvdGV4dD4KPC9nPgo8IS0tIG0zJiM0NTsmZ3Q7dDMgLS0+CjxnIGlkPSJlZGdlMTUiIGNsYXNzPSJlZGdlIj4KPHRpdGxlPm0zJiM0NTsmZ3Q7dDM8L3RpdGxlPgo8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIGQ9Ik0yNzYuMTAxMSwtMjE1LjgzMTRDMjc2LjEwMTEsLTIwOC4xMzEgMjc2LjEwMTEsLTE5OC45NzQzIDI3Ni4xMDExLC0xOTAuNDE2NiIvPgo8cG9seWdvbiBmaWxsPSIjMDAwMDAwIiBzdHJva2U9IiMwMDAwMDAiIHBvaW50cz0iMjc5LjYwMTIsLTE5MC40MTMyIDI3Ni4xMDExLC0xODAuNDEzMyAyNzIuNjAxMiwtMTkwLjQxMzMgMjc5LjYwMTIsLTE5MC40MTMyIi8+CjwvZz4KPCEtLSBuMiAtLT4KPGcgaWQ9Im5vZGUxNyIgY2xhc3M9Im5vZGUiPgo8dGl0bGU+bjI8L3RpdGxlPgo8ZWxsaXBzZSBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIGN4PSIyNzYuMTAxMSIgY3k9Ii05MCIgcng9IjI3IiByeT0iMTgiLz4KPHRleHQgdGV4dC1hbmNob3I9Im1pZGRsZSIgeD0iMjc2LjEwMTEiIHk9Ii04NS44IiBmb250LWZhbWlseT0iVGltZXMsc2VyaWYiIGZvbnQtc2l6ZT0iMTQuMDAiIGZpbGw9IiMwMDAwMDAiPm51bTwvdGV4dD4KPC9nPgo8IS0tIHQzJiM0NTsmZ3Q7bjIgLS0+CjxnIGlkPSJlZGdlMTYiIGNsYXNzPSJlZGdlIj4KPHRpdGxlPnQzJiM0NTsmZ3Q7bjI8L3RpdGxlPgo8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIGQ9Ik0yNzYuMTAxMSwtMTQzLjgzMTRDMjc2LjEwMTEsLTEzNi4xMzEgMjc2LjEwMTEsLTEyNi45NzQzIDI3Ni4xMDExLC0xMTguNDE2NiIvPgo8cG9seWdvbiBmaWxsPSIjMDAwMDAwIiBzdHJva2U9IiMwMDAwMDAiIHBvaW50cz0iMjc5LjYwMTIsLTExOC40MTMyIDI3Ni4xMDExLC0xMDguNDEzMyAyNzIuNjAxMiwtMTE4LjQxMzMgMjc5LjYwMTIsLTExOC40MTMyIi8+CjwvZz4KPCEtLSAzIC0tPgo8ZyBpZD0ibm9kZTE4IiBjbGFzcz0ibm9kZSI+Cjx0aXRsZT4zPC90aXRsZT4KPGVsbGlwc2UgZmlsbD0iI2YwZjBmMCIgc3Ryb2tlPSIjMDAwMDAwIiBjeD0iMjc2LjEwMTEiIGN5PSItMTgiIHJ4PSIyNyIgcnk9IjE4Ii8+Cjx0ZXh0IHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjI3Ni4xMDExIiB5PSItMTMuOCIgZm9udC1mYW1pbHk9IlRpbWVzLHNlcmlmIiBmb250LXNpemU9IjE0LjAwIiBmaWxsPSIjMDAwMDAwIj4zPC90ZXh0Pgo8L2c+CjwhLS0gbjImIzQ1OyZndDszIC0tPgo8ZyBpZD0iZWRnZTE3IiBjbGFzcz0iZWRnZSI+Cjx0aXRsZT5uMiYjNDU7Jmd0OzM8L3RpdGxlPgo8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIGQ9Ik0yNzYuMTAxMSwtNzEuODMxNEMyNzYuMTAxMSwtNjQuMTMxIDI3Ni4xMDExLC01NC45NzQzIDI3Ni4xMDExLC00Ni40MTY2Ii8+Cjxwb2x5Z29uIGZpbGw9IiMwMDAwMDAiIHN0cm9rZT0iIzAwMDAwMCIgcG9pbnRzPSIyNzkuNjAxMiwtNDYuNDEzMiAyNzYuMTAxMSwtMzYuNDEzMyAyNzIuNjAxMiwtNDYuNDEzMyAyNzkuNjAxMiwtNDYuNDEzMiIvPgo8L2c+CjwvZz4KPC9zdmc+Cg==" alt=""><figcaption><code class="notranslate">1*(2+3)</code>の構文木</figcaption>
</figure>
<p>2つの木を比べてみると、<code class="notranslate">mul</code>の右の枝の<code class="notranslate">primary</code>の展開結果だけが異なることがわかります。展開結果の末端に現れる<code class="notranslate">primary</code>というのは、1つの数字に展開してもよいし、カッコでくくられた任意の式に展開してもよい、というルールが、木構造の中にきちんと反映されています。このように簡単な生成規則でカッコの優先順位も扱えるというのは少し感動的ではないでしょうか。</p>
<h3 id="再帰下降構文解析"><a href="https://www.sigbus.info/compilerbook#%E5%86%8D%E5%B8%B0%E4%B8%8B%E9%99%8D%E6%A7%8B%E6%96%87%E8%A7%A3%E6%9E%90" style="text-decoration: none; color: inherit;">再帰下降構文解析</a></h3>
<p>C言語の生成規則が与えられれば、それをどんどん展開していくことで、生成規則の観点からみて正しい任意のCプログラムを機械的に生成することができます。しかし9ccにおいて我々が行いたいことは、むしろ逆のことです。外部から文字列としてCプログラムが与えられていて、展開すると入力の文字列になる展開手順、すなわち入力と同じ文字列になる構文木の構造を知りたいのです。</p>
<p>実はある種の生成規則については、規則が与えられれば、その規則から生成される文にマッチする構文木を求めるコードを機械的に書いていくことができます。ここで説明する「再帰下降構文解析法」はそういったテクニックの一つです。</p>
<p>例として四則演算の文法を考えてみましょう。四則演算の文法を再掲します。</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode scheme notranslate"><code class="sourceCode scheme notranslate"><span id="cb48-1"><a href="https://www.sigbus.info/compilerbook#cb48-1"></a>expr    <span class="op">=</span> mul (<span class="st">"+"</span> mul | <span class="st">"-"</span> mul)*</span>
<span id="cb48-2"><a href="https://www.sigbus.info/compilerbook#cb48-2"></a>mul     <span class="op">=</span> primary (<span class="st">"*"</span> primary | <span class="st">"/"</span> primary)*</span>
<span id="cb48-3"><a href="https://www.sigbus.info/compilerbook#cb48-3"></a>primary <span class="op">=</span> num | <span class="st">"("</span> expr <span class="st">")"</span></span></code></pre></div>
<p>再帰下降構文解析法でパーサを書くときの基本的な戦略は、これらの非終端記号一つ一つをそのまま関数一つ一つにマップするというものです。したがってパーサは<code class="notranslate">expr</code>、<code class="notranslate">mul</code>、<code class="notranslate">primary</code>という3つの関数を持つことになります。それぞれの関数は、その名前のとおりのトークン列をパースします。</p>
<p>具体的にコードで考えてみましょう。パーサに渡される入力はトークンの列です。パーサからは抽象構文木を作って返したいので、抽象構文木のノードの型を定義しておきましょう。ノードの型を以下に示します。</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode c notranslate"><code class="sourceCode c notranslate"><span id="cb49-1"><a href="https://www.sigbus.info/compilerbook#cb49-1"></a><span class="co">// 抽象構文木のノードの種類</span></span>
<span id="cb49-2"><a href="https://www.sigbus.info/compilerbook#cb49-2"></a><span class="kw">typedef</span> <span class="kw">enum</span> {</span>
<span id="cb49-3"><a href="https://www.sigbus.info/compilerbook#cb49-3"></a>  ND_ADD, <span class="co">// +</span></span>
<span id="cb49-4"><a href="https://www.sigbus.info/compilerbook#cb49-4"></a>  ND_SUB, <span class="co">// -</span></span>
<span id="cb49-5"><a href="https://www.sigbus.info/compilerbook#cb49-5"></a>  ND_MUL, <span class="co">// *</span></span>
<span id="cb49-6"><a href="https://www.sigbus.info/compilerbook#cb49-6"></a>  ND_DIV, <span class="co">// /</span></span>
<span id="cb49-7"><a href="https://www.sigbus.info/compilerbook#cb49-7"></a>  ND_NUM, <span class="co">// 整数</span></span>
<span id="cb49-8"><a href="https://www.sigbus.info/compilerbook#cb49-8"></a>} NodeKind;</span>
<span id="cb49-9"><a href="https://www.sigbus.info/compilerbook#cb49-9"></a></span>
<span id="cb49-10"><a href="https://www.sigbus.info/compilerbook#cb49-10"></a><span class="kw">typedef</span> <span class="kw">struct</span> Node Node;</span>
<span id="cb49-11"><a href="https://www.sigbus.info/compilerbook#cb49-11"></a></span>
<span id="cb49-12"><a href="https://www.sigbus.info/compilerbook#cb49-12"></a><span class="co">// 抽象構文木のノードの型</span></span>
<span id="cb49-13"><a href="https://www.sigbus.info/compilerbook#cb49-13"></a><span class="kw">struct</span> Node {</span>
<span id="cb49-14"><a href="https://www.sigbus.info/compilerbook#cb49-14"></a>  NodeKind kind; <span class="co">// ノードの型</span></span>
<span id="cb49-15"><a href="https://www.sigbus.info/compilerbook#cb49-15"></a>  Node *lhs;     <span class="co">// 左辺</span></span>
<span id="cb49-16"><a href="https://www.sigbus.info/compilerbook#cb49-16"></a>  Node *rhs;     <span class="co">// 右辺</span></span>
<span id="cb49-17"><a href="https://www.sigbus.info/compilerbook#cb49-17"></a>  <span class="dt">int</span> val;       <span class="co">// kindがND_NUMの場合のみ使う</span></span>
<span id="cb49-18"><a href="https://www.sigbus.info/compilerbook#cb49-18"></a>};</span></code></pre></div>
<p><code class="notranslate">lhs</code>と<code class="notranslate">rhs</code>いうのはそれぞれleft-hand sideとright-hand side、すなわち左辺と右辺という意味です。</p>
<p>新しいノードを作成する関数も定義しておきます。この文法における四則演算では、左辺と右辺を受け取る2項演算子と、数値の2種類があるので、その2種類に合わせて関数を2つ用意します。</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode c notranslate"><code class="sourceCode c notranslate"><span id="cb50-1"><a href="https://www.sigbus.info/compilerbook#cb50-1"></a>Node *new_node(NodeKind kind, Node *lhs, Node *rhs) {</span>
<span id="cb50-2"><a href="https://www.sigbus.info/compilerbook#cb50-2"></a>  Node *node = calloc(<span class="dv">1</span>, <span class="kw">sizeof</span>(Node));</span>
<span id="cb50-3"><a href="https://www.sigbus.info/compilerbook#cb50-3"></a>  node-&gt;kind = kind;</span>
<span id="cb50-4"><a href="https://www.sigbus.info/compilerbook#cb50-4"></a>  node-&gt;lhs = lhs;</span>
<span id="cb50-5"><a href="https://www.sigbus.info/compilerbook#cb50-5"></a>  node-&gt;rhs = rhs;</span>
<span id="cb50-6"><a href="https://www.sigbus.info/compilerbook#cb50-6"></a>  <span class="cf">return</span> node;</span>
<span id="cb50-7"><a href="https://www.sigbus.info/compilerbook#cb50-7"></a>}</span>
<span id="cb50-8"><a href="https://www.sigbus.info/compilerbook#cb50-8"></a></span>
<span id="cb50-9"><a href="https://www.sigbus.info/compilerbook#cb50-9"></a>Node *new_node_num(<span class="dt">int</span> val) {</span>
<span id="cb50-10"><a href="https://www.sigbus.info/compilerbook#cb50-10"></a>  Node *node = calloc(<span class="dv">1</span>, <span class="kw">sizeof</span>(Node));</span>
<span id="cb50-11"><a href="https://www.sigbus.info/compilerbook#cb50-11"></a>  node-&gt;kind = ND_NUM;</span>
<span id="cb50-12"><a href="https://www.sigbus.info/compilerbook#cb50-12"></a>  node-&gt;val = val;</span>
<span id="cb50-13"><a href="https://www.sigbus.info/compilerbook#cb50-13"></a>  <span class="cf">return</span> node;</span>
<span id="cb50-14"><a href="https://www.sigbus.info/compilerbook#cb50-14"></a>}</span></code></pre></div>
<p>さて、これらの関数とデータ型を使ってパーサを書いていきましょう。<code class="notranslate">+</code>や<code class="notranslate">-</code>は左結合の演算子ということになっています。左結合の演算子をパーズする関数は、パターンとして次のように書きます。</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode c notranslate"><code class="sourceCode c notranslate"><span id="cb51-1"><a href="https://www.sigbus.info/compilerbook#cb51-1"></a>Node *expr() {</span>
<span id="cb51-2"><a href="https://www.sigbus.info/compilerbook#cb51-2"></a>  Node *node = mul();</span>
<span id="cb51-3"><a href="https://www.sigbus.info/compilerbook#cb51-3"></a></span>
<span id="cb51-4"><a href="https://www.sigbus.info/compilerbook#cb51-4"></a>  <span class="cf">for</span> (;;) {</span>
<span id="cb51-5"><a href="https://www.sigbus.info/compilerbook#cb51-5"></a>    <span class="cf">if</span> (consume(<span class="ch">'+'</span>))</span>
<span id="cb51-6"><a href="https://www.sigbus.info/compilerbook#cb51-6"></a>      node = new_node(ND_ADD, node, mul());</span>
<span id="cb51-7"><a href="https://www.sigbus.info/compilerbook#cb51-7"></a>    <span class="cf">else</span> <span class="cf">if</span> (consume(<span class="ch">'-'</span>))</span>
<span id="cb51-8"><a href="https://www.sigbus.info/compilerbook#cb51-8"></a>      node = new_node(ND_SUB, node, mul());</span>
<span id="cb51-9"><a href="https://www.sigbus.info/compilerbook#cb51-9"></a>    <span class="cf">else</span></span>
<span id="cb51-10"><a href="https://www.sigbus.info/compilerbook#cb51-10"></a>      <span class="cf">return</span> node;</span>
<span id="cb51-11"><a href="https://www.sigbus.info/compilerbook#cb51-11"></a>  }</span>
<span id="cb51-12"><a href="https://www.sigbus.info/compilerbook#cb51-12"></a>}</span></code></pre></div>
<p><code class="notranslate">consume</code>というのは以前のステップで定義した関数で、入力ストリームの次のトークンが引数とマッチするときに、入力を1トークン読み進めて真を返す関数です。</p>
<p><code class="notranslate">expr</code>関数をよく読んでみてください。<code class="notranslate">expr = mul ("+" mul | "-" mul)*</code>という生成規則が、そのまま関数呼び出しとループにマップされていることがわかると思います。上記の<code class="notranslate">expr</code>関数から返される抽象構文木では、演算子は左結合、つまり返されるノードの左側の枝のほうが深くなるようになっています。</p>
<p><code class="notranslate">expr</code>関数が使っている<code class="notranslate">mul</code>関数も定義してみましょう。<code class="notranslate">*</code>や<code class="notranslate">/</code>も左結合の演算子なので、同じパターンで記述することができます。その関数を下に示します。</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode c notranslate"><code class="sourceCode c notranslate"><span id="cb52-1"><a href="https://www.sigbus.info/compilerbook#cb52-1"></a>Node *mul() {</span>
<span id="cb52-2"><a href="https://www.sigbus.info/compilerbook#cb52-2"></a>  Node *node = primary();</span>
<span id="cb52-3"><a href="https://www.sigbus.info/compilerbook#cb52-3"></a></span>
<span id="cb52-4"><a href="https://www.sigbus.info/compilerbook#cb52-4"></a>  <span class="cf">for</span> (;;) {</span>
<span id="cb52-5"><a href="https://www.sigbus.info/compilerbook#cb52-5"></a>    <span class="cf">if</span> (consume(<span class="ch">'*'</span>))</span>
<span id="cb52-6"><a href="https://www.sigbus.info/compilerbook#cb52-6"></a>      node = new_node(ND_MUL, node, primary());</span>
<span id="cb52-7"><a href="https://www.sigbus.info/compilerbook#cb52-7"></a>    <span class="cf">else</span> <span class="cf">if</span> (consume(<span class="ch">'/'</span>))</span>
<span id="cb52-8"><a href="https://www.sigbus.info/compilerbook#cb52-8"></a>      node = new_node(ND_DIV, node, primary());</span>
<span id="cb52-9"><a href="https://www.sigbus.info/compilerbook#cb52-9"></a>    <span class="cf">else</span></span>
<span id="cb52-10"><a href="https://www.sigbus.info/compilerbook#cb52-10"></a>      <span class="cf">return</span> node;</span>
<span id="cb52-11"><a href="https://www.sigbus.info/compilerbook#cb52-11"></a>  }</span>
<span id="cb52-12"><a href="https://www.sigbus.info/compilerbook#cb52-12"></a>}</span></code></pre></div>
<p>上記のコードの関数呼び出し関係は、<code class="notranslate">mul = primary ("*" primary | "/" primary)*</code>という生成規則にそのまま対応しています。</p>
<p>最後に<code class="notranslate">primary</code>関数を定義してみましょう。<code class="notranslate">primary</code>が読み込むのは左結合の演算子ではないので、上記のパターンのコードにはなりませんが、<code class="notranslate">primary = "(" expr ")" | num</code>という生成規則をそのまま関数呼び出しに対応させることで、<code class="notranslate">primary</code>関数は以下のように記述することができます。</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode c notranslate"><code class="sourceCode c notranslate"><span id="cb53-1"><a href="https://www.sigbus.info/compilerbook#cb53-1"></a>Node *primary() {</span>
<span id="cb53-2"><a href="https://www.sigbus.info/compilerbook#cb53-2"></a>  <span class="co">// 次のトークンが"("なら、"(" expr ")"のはず</span></span>
<span id="cb53-3"><a href="https://www.sigbus.info/compilerbook#cb53-3"></a>  <span class="cf">if</span> (consume(<span class="ch">'('</span>)) {</span>
<span id="cb53-4"><a href="https://www.sigbus.info/compilerbook#cb53-4"></a>    Node *node = expr();</span>
<span id="cb53-5"><a href="https://www.sigbus.info/compilerbook#cb53-5"></a>    expect(<span class="ch">')'</span>);</span>
<span id="cb53-6"><a href="https://www.sigbus.info/compilerbook#cb53-6"></a>    <span class="cf">return</span> node;</span>
<span id="cb53-7"><a href="https://www.sigbus.info/compilerbook#cb53-7"></a>  }</span>
<span id="cb53-8"><a href="https://www.sigbus.info/compilerbook#cb53-8"></a></span>
<span id="cb53-9"><a href="https://www.sigbus.info/compilerbook#cb53-9"></a>  <span class="co">// そうでなければ数値のはず</span></span>
<span id="cb53-10"><a href="https://www.sigbus.info/compilerbook#cb53-10"></a>  <span class="cf">return</span> new_node_num(expect_number());</span>
<span id="cb53-11"><a href="https://www.sigbus.info/compilerbook#cb53-11"></a>}</span></code></pre></div>
<p>さて、これで全ての関数が揃ったわけですが、これで本当にトークン列をパースできるのでしょうか？ 一見よくわからないかもしれませんが、この関数群を使うときちんとトークン列をパースできます。例として<code class="notranslate">1+2*3</code>という式を考えてみましょう。</p>
<p>最初に呼ばれるのは<code class="notranslate">expr</code>です。式というのは全体として<code class="notranslate">expr</code>であると決めつけて（この場合、実際にそうなわけですが）入力を読み始めるわけです。そうすると、<code class="notranslate">expr</code>→<code class="notranslate">mul</code>→<code class="notranslate">primary</code>というように関数呼び出しが行われて、<code class="notranslate">1</code>というトークンが読み込まれ、<code class="notranslate">expr</code>には、返り値として1を表す構文木が返ってきます。</p>
<p>次に、<code class="notranslate">expr</code>の中の<code class="notranslate">consume('+')</code>という式が真になるので、<code class="notranslate">+</code>というトークンが消費され、<code class="notranslate">mul</code>が再度呼び出されます。この段階での入力の残りは<code class="notranslate">2*3</code>です。</p>
<p><code class="notranslate">mul</code>からは前回と同様に<code class="notranslate">primary</code>が呼び出されて、<code class="notranslate">2</code>というトークンが読み込まれますが、今回は<code class="notranslate">mul</code>はすぐにはリターンしません。<code class="notranslate">mul</code>の中の<code class="notranslate">consume('*')</code>という式が真になるので、<code class="notranslate">mul</code>は再度<code class="notranslate">primary</code>を呼び出して、<code class="notranslate">3</code>というトークンを読み込みます。結果として<code class="notranslate">mul</code>からは<code class="notranslate">2*3</code>を表す構文木が返ることになります。</p>
<p>リターンした先の<code class="notranslate">expr</code>では、1を表す構文木と<code class="notranslate">2*3</code>を表す構文木が組み合わされて、<code class="notranslate">1+2*3</code>を表す構文木が構築され、それが<code class="notranslate">expr</code>の返り値になります。つまり正しく<code class="notranslate">1+2*3</code>がパースできたというわけです。</p>
<p>関数の呼び出し関係とそれぞれの関数が読み込むトークンを図に示すと次のようになります。下の図では、<code class="notranslate">1+2*3</code>全体に対応した<code class="notranslate">expr</code>の層がありますが、これが入力全体を読み込む<code class="notranslate">expr</code>の呼び出しを表しています。<code class="notranslate">expr</code>の上に2つの<code class="notranslate">mul</code>がありますが、それらは<code class="notranslate">1</code>と<code class="notranslate">2*3</code>を読み込む別の<code class="notranslate">mul</code>の呼び出しを表しています。</p>
<figure>
<img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIHdpZHRoPSIzMDNweCIgaGVpZ2h0PSIxMjJweCIgdmlld0JveD0iLTAuNSAtMC41IDMwMyAxMjIiIGNvbnRlbnQ9IiZsdDtteGZpbGUgaG9zdD0mcXVvdDt3d3cuZHJhdy5pbyZxdW90OyBtb2RpZmllZD0mcXVvdDsyMDE5LTA5LTIyVDA2OjA1OjQxLjQxMlomcXVvdDsgYWdlbnQ9JnF1b3Q7TW96aWxsYS81LjAgKE1hY2ludG9zaDsgSW50ZWwgTWFjIE9TIFggMTBfMTRfNikgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzc3LjAuMzg2NS43NSBTYWZhcmkvNTM3LjM2JnF1b3Q7IHZlcnNpb249JnF1b3Q7MTEuMy4wJnF1b3Q7IGV0YWc9JnF1b3Q7SFFqbmVZUHU1bEFYX1FkNnNrbHQmcXVvdDsgdHlwZT0mcXVvdDtnb29nbGUmcXVvdDsgcGFnZXM9JnF1b3Q7MSZxdW90OyZndDsmbHQ7ZGlhZ3JhbSBpZD0mcXVvdDtZY0U4aEk5TTN4TzVwdmNIeHJHUiZxdW90OyZndDs3Wm5ManRvd0ZJYWZKcHRLUlhFQ2dTd0htT2xzV28zRW91M1NTZzZKVlNkR2pybjE2WHN5Y1c0NENPWUNxQW9zSVA1dEg5di9kM0l6bGp0TGR0OGtYY1hmUlFqY2N1eHdaN2x6eTNFSXNWMzh5WlY5b1l5SlZ3aVJaS0Z1VkFzTDloZTBhR3QxelVMSVdnMlZFRnl4VlZzTVJKcENvRm9hbFZKczI4MldncmRIWGRFSURHRVJVRzZxUDFtbzRrS2RqT3hhZndZV3hhcGFzSzVKYU5sWUMxbE1RN0Z0U082ajVjNmtFS280U25ZejRMbDVwUzlGdjZjanRkWEVKS1RxbkE1TzBXRkQrVnF2RFhZcnFlZW05dVdDcFZpbkllUjliTXVkYm1PbVlMR2lRVjY3UmNTb3hTcmhXQ0o0dUJTcDBzeElXWDZpQ2VNNTdXZmdHMUFzb0ZpUllRaVdSam9xNVN4SzhUakFxWU5FWVFNeWI4Z2ZkRVhDd2pDZjBGVFBHYXRoZDNUZHBISVQweEJFQWtydXNZbnVNTlQrN3l0Q1JYbGI0M1JLbkhFRFpjbU42Z3lLcXNpMXlYaWdmZTcyM0RVOFQ5YThkNWI3cHVPWE1ueG9HTDZTTEtFNlNKOU1IMS9QOUZFL3M1eWNUbk55S2N1OS91YjVvZTFYVFBSeGYxMi80ZVZsWXJoT0RMOXhZYXB0YXFhaytBTXp3UVZhTTA5Rm1odXhaSndmU09lNzJFV3h6YmtGYmliV2ttRkV4LzRCMjVLeW52RWhkZWNpdHdEM2VveDhnNUhsVE8rVU9pbjVONk5VUHZvMk1EbDNTR2ZkWmE1SmlSaVV2dHdwZFZPNjRibGt2ays3ZDBwblBUdGNrNUw1Qm01QWdqUjh5SGVLYXZORG1zV3Y3cEUyUEZ5djNQL0tDd01iSTJ2aE53cGY3WUU5TElYNVRodGZsUGJOMGd2Z0V5TzhJcTNZbUhaRGFPeEtuVFQ3aEp1bEpvRlR4VGJ0OEYwVzZ4RmVCTU9CbXl3SG93T2FwVkJHeVRERkF0QWRtenRTSGJHSVYzOUdUaXV3NXc4ODN4Nk9QVko4SDR5aXFJeEFHYU84WmtSbHkzbEpZdTRhM0pQa1EwbGlYSmJmblNJVFRJSm1pdHdvUTh3dGpnOWt5UCtHcytPVWZ4L05JKytRRitCbDdvLzBpSmYvV2J6OHEvRXlkMVo2eEl0ODJnbDJiRy9zQXNUTVhaaytFVHZ5M3ZGbVhuaDdHMTJHR0Jici94YUw1dlUvdE83alB3PT0mbHQ7L2RpYWdyYW0mZ3Q7Jmx0Oy9teGZpbGUmZ3Q7Ij48ZGVmcy8+PGc+PHJlY3QgeD0iMCIgeT0iOTYiIHdpZHRoPSIzMDAiIGhlaWdodD0iMjQiIGZpbGw9IiNmZmZmZmYiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjIiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTM2LjUsMTAwLjUpc2NhbGUoMS4yKSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIyMiIgaGVpZ2h0PSIxMSIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDExcHg7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiAyMnB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7d2hpdGUtc3BhY2U6bm9ybWFsOyI+ZXhwcjwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSIxMSIgeT0iMTEiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTFweCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSI+ZXhwcjwvdGV4dD48L3N3aXRjaD48L2c+PHJlY3QgeD0iMCIgeT0iNzIiIHdpZHRoPSI2MCIgaGVpZ2h0PSIyNCIgZmlsbD0iI2ZmZmZmZiIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuMiIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxOC41LDc2LjUpc2NhbGUoMS4yKSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIxOCIgaGVpZ2h0PSIxMSIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDExcHg7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiAxOHB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7d2hpdGUtc3BhY2U6bm9ybWFsOyI+bXVsPC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjkiIHk9IjExIiBmaWxsPSIjMDAwMDAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjExcHgiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EiPm11bDwvdGV4dD48L3N3aXRjaD48L2c+PHJlY3QgeD0iMCIgeT0iNDgiIHdpZHRoPSI2MCIgaGVpZ2h0PSIyNCIgZmlsbD0iI2ZmZmZmZiIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuMiIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg3LjUsNTIuNSlzY2FsZSgxLjIpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjM2IiBoZWlnaHQ9IjExIiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTFweDsgZm9udC1mYW1pbHk6IEhlbHZldGljYTsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDM4cHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDt3aGl0ZS1zcGFjZTpub3JtYWw7Ij5wcmltYXJ5PC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjE4IiB5PSIxMSIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxMXB4IiBmb250LWZhbWlseT0iSGVsdmV0aWNhIj5wcmltYXJ5PC90ZXh0Pjwvc3dpdGNoPjwvZz48cmVjdCB4PSIxMjAiIHk9IjcyIiB3aWR0aD0iMTgwIiBoZWlnaHQ9IjI0IiBmaWxsPSIjZmZmZmZmIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4yIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE5OC41LDc2LjUpc2NhbGUoMS4yKSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIxOCIgaGVpZ2h0PSIxMSIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDExcHg7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiAxOHB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7d2hpdGUtc3BhY2U6bm9ybWFsOyI+bXVsPC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjkiIHk9IjExIiBmaWxsPSIjMDAwMDAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjExcHgiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EiPm11bDwvdGV4dD48L3N3aXRjaD48L2c+PHJlY3QgeD0iMTIwIiB5PSI0OCIgd2lkdGg9IjYwIiBoZWlnaHQ9IjI0IiBmaWxsPSIjZmZmZmZmIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4yIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEyNy41LDUyLjUpc2NhbGUoMS4yKSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIzNiIgaGVpZ2h0PSIxMSIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDExcHg7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiAzOHB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7d2hpdGUtc3BhY2U6bm9ybWFsOyI+cHJpbWFyeTwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSIxOCIgeT0iMTEiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTFweCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSI+cHJpbWFyeTwvdGV4dD48L3N3aXRjaD48L2c+PHJlY3QgeD0iMjQwIiB5PSI0OCIgd2lkdGg9IjYwIiBoZWlnaHQ9IjI0IiBmaWxsPSIjZmZmZmZmIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4yIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI0Ny41LDUyLjUpc2NhbGUoMS4yKSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIzNiIgaGVpZ2h0PSIxMSIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDExcHg7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiAzOHB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7d2hpdGUtc3BhY2U6bm9ybWFsOyI+cHJpbWFyeTwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSIxOCIgeT0iMTEiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTFweCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSI+cHJpbWFyeTwvdGV4dD48L3N3aXRjaD48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjQuNSw0LjUpc2NhbGUoMS4yKSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSI4IiBoZWlnaHQ9IjEyIiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTJweDsgZm9udC1mYW1pbHk6ICZxdW90O0NvdXJpZXIgTmV3JnF1b3Q7OyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogOHB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IGZvbnQtd2VpZ2h0OiBib2xkOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0O3doaXRlLXNwYWNlOm5vcm1hbDsiPjE8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iNCIgeT0iMTIiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTJweCIgZm9udC1mYW1pbHk9IkNvdXJpZXIgTmV3IiBmb250LXdlaWdodD0iYm9sZCI+MTwvdGV4dD48L3N3aXRjaD48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoODQuNSw0LjUpc2NhbGUoMS4yKSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSI4IiBoZWlnaHQ9IjEyIiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTJweDsgZm9udC1mYW1pbHk6ICZxdW90O0NvdXJpZXIgTmV3JnF1b3Q7OyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogOHB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IGZvbnQtd2VpZ2h0OiBib2xkOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0O3doaXRlLXNwYWNlOm5vcm1hbDsiPis8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iNCIgeT0iMTIiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTJweCIgZm9udC1mYW1pbHk9IkNvdXJpZXIgTmV3IiBmb250LXdlaWdodD0iYm9sZCI+KzwvdGV4dD48L3N3aXRjaD48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTQ0LjUsNC41KXNjYWxlKDEuMikiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iOCIgaGVpZ2h0PSIxMiIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDEycHg7IGZvbnQtZmFtaWx5OiAmcXVvdDtDb3VyaWVyIE5ldyZxdW90OzsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDhweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyBmb250LXdlaWdodDogYm9sZDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDt3aGl0ZS1zcGFjZTpub3JtYWw7Ij4yPC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjQiIHk9IjEyIiBmaWxsPSIjMDAwMDAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjEycHgiIGZvbnQtZmFtaWx5PSJDb3VyaWVyIE5ldyIgZm9udC13ZWlnaHQ9ImJvbGQiPjI8L3RleHQ+PC9zd2l0Y2g+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIwNC41LDQuNSlzY2FsZSgxLjIpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjgiIGhlaWdodD0iMTIiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxMnB4OyBmb250LWZhbWlseTogJnF1b3Q7Q291cmllciBOZXcmcXVvdDs7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiA4cHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgZm9udC13ZWlnaHQ6IGJvbGQ7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7d2hpdGUtc3BhY2U6bm9ybWFsOyI+KjwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSI0IiB5PSIxMiIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxMnB4IiBmb250LWZhbWlseT0iQ291cmllciBOZXciIGZvbnQtd2VpZ2h0PSJib2xkIj4qPC90ZXh0Pjwvc3dpdGNoPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNjQuNSw0LjUpc2NhbGUoMS4yKSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSI4IiBoZWlnaHQ9IjEyIiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTJweDsgZm9udC1mYW1pbHk6ICZxdW90O0NvdXJpZXIgTmV3JnF1b3Q7OyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogOHB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IGZvbnQtd2VpZ2h0OiBib2xkOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0O3doaXRlLXNwYWNlOm5vcm1hbDsiPjM8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iNCIgeT0iMTIiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTJweCIgZm9udC1mYW1pbHk9IkNvdXJpZXIgTmV3IiBmb250LXdlaWdodD0iYm9sZCI+MzwvdGV4dD48L3N3aXRjaD48L2c+PHBhdGggZD0iTSAyNDAuNiAwLjYgTCAyNDAuMiA0Ny42MyIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuMiIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2UtZGFzaGFycmF5PSIzLjU5OTk5OTk5OTk5OTk5OTYgMy41OTk5OTk5OTk5OTk5OTk2IiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gMzAwIDAuNiBMIDI5OS42IDQ3LjYzIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4yIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS1kYXNoYXJyYXk9IjMuNTk5OTk5OTk5OTk5OTk5NiAzLjU5OTk5OTk5OTk5OTk5OTYiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSAwLjYgMCBMIDAgNDgiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjIiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLWRhc2hhcnJheT0iMy41OTk5OTk5OTk5OTk5OTk2IDMuNTk5OTk5OTk5OTk5OTk5NiIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDYwLjYgMCBMIDYwIDQ4IiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4yIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS1kYXNoYXJyYXk9IjMuNTk5OTk5OTk5OTk5OTk5NiAzLjU5OTk5OTk5OTk5OTk5OTYiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSAxMjAuNiAwIEwgMTIwIDQ4IiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4yIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS1kYXNoYXJyYXk9IjMuNTk5OTk5OTk5OTk5OTk5NiAzLjU5OTk5OTk5OTk5OTk5OTYiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSAxODAgMCBMIDE3OS40IDQ4IiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4yIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS1kYXNoYXJyYXk9IjMuNTk5OTk5OTk5OTk5OTk5NiAzLjU5OTk5OTk5OTk5OTk5OTYiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PC9nPjwvc3ZnPg==" alt=""><figcaption><code class="notranslate">1+2*3</code>をパースしている時の関数の呼び出し関係</figcaption>
</figure>
<p>もう少し複雑な例を下に示します。下の図は、<code class="notranslate">1*2+(3+4)</code>をパースしているときの関数の呼び出し関係を表しています。</p>
<figure>
<img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIHdpZHRoPSI1NDNweCIgaGVpZ2h0PSIxOTRweCIgdmlld0JveD0iLTAuNSAtMC41IDU0MyAxOTQiIGNvbnRlbnQ9IiZsdDtteGZpbGUgaG9zdD0mcXVvdDt3d3cuZHJhdy5pbyZxdW90OyBtb2RpZmllZD0mcXVvdDsyMDE5LTA5LTIyVDA2OjA1OjU3LjgyMFomcXVvdDsgYWdlbnQ9JnF1b3Q7TW96aWxsYS81LjAgKE1hY2ludG9zaDsgSW50ZWwgTWFjIE9TIFggMTBfMTRfNikgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzc3LjAuMzg2NS43NSBTYWZhcmkvNTM3LjM2JnF1b3Q7IHZlcnNpb249JnF1b3Q7MTEuMy4wJnF1b3Q7IGV0YWc9JnF1b3Q7eXlZSkJCeDBfb3lZZVZDYU9IVWcmcXVvdDsgdHlwZT0mcXVvdDtnb29nbGUmcXVvdDsgcGFnZXM9JnF1b3Q7MSZxdW90OyZndDsmbHQ7ZGlhZ3JhbSBpZD0mcXVvdDtVdWg3QW1pX2E3T0daT0JibVNnNSZxdW90OyZndDs3WnRiYjVzd0ZNYy9UYVJ0MGlJTUpHR1BiZHF1TDVzbTVXSGJvd1V1V0RNNGNwemJQdjFNTUNGd1FFM0hyVkxjaHhRZlg0alA3Mi9uK0pCTW5HVjgrQ3J3T3ZyR0E4SW10aFVjSnM3RHhMWVJzaHoxTDdVY004c0N6VE5ES0dpZ0d4V0dGZjFMdE5IUzFpME55S2JVVUhMT0pGMlhqVDVQRXVMTGtnMEx3ZmZsWmkrY2xlKzZ4aUVCaHBXUEdiVCtwSUdNTXFzM3N3cjdNNkZoSk04VDFqVXh6aHRyd3liQ0FkOWZtSnpIaWJNVW5NdnNLajRzQ1V1ZGwvc2w2L2ZVVUh0K1k0SWs4cG9PZHRaaGg5bFd6NDBjMWtLL04zbk1KeXo0TmdsSTJzZWFPUGY3aUVxeVdtTS9yZDByeE1vV3laaXBFbEtYTHp5Uks5M1h5c3NaUTVUWFArR1lzcFQrTTJFN0lxbVBWY1ZHRFVtVFVIZkRqSWFKdXZiVlZJaFFoaDBSYVVOMnB5dGlHZ1RwVGU3MUhGUTFPVFQ2QVoyOXEyUkplRXlrT0tvbXVvUGpaVDJPZVZIejJSZDQzUnh2ZElFMjU0aTFvc0x6eUlYVDFZWDJlejBEQnpDSXQ4d2dtRU1FcUM4RUxrQ3dGalRHZXBDYnh1QkNESDFSbUptRmNITGxGU3VoTndaencrRGtTcS9Dd0JwdUdTek1adFM0RkdwMm85NDRlSUFEQWdUVTFHVFp6UnNwK0IreTVJd3I1endrUEVsZDhVSVpxNWl1OTJNZDF6TDVFcm9sM3dxcVJyU3Q3MlJmNFk0cTNPMWVQalBzQVQ4enZnQklud3lrV2tqZWVKRHljOXNGSmR0UXFxV0VSbHhMQ0FGTUUvdmVnS29ITmVaNmdzZjJEd2JUVlJIRW9Kamd5ZDR4bUs2S3R3ZkZCRS8vWnR0ckRQWEdYRTh3UWVBYVRBMFIrWWlZWUE3aG84RlVpOGtkY3pXWlBFTmoxRDFrMWhQQlBNTnRQb01CT1RjYlF1anRDUUNDaVlTYlhRMGdHS3Q1R3RZWEJ4dW1DbTZXQS9nUUg1SUR6QVhjNUlPQUtvTWhId1RrU2JMU3dhUUNnQ1RCWGZxTmhpSStDdkFtT2hGQlplK3JDWXZqcjdRd3RkVEpWQnQrSzhObmEycTV1ZUhob04yY2xZNlhwUjlFTFVWeWNqb0FXRVJFSkFEZm5ualYyNjk0TTdjSndyQ2t1L0x3ZFM3V2QvakJxYnJ4cTNucWZJU05pZ0I5b2pzVm5HckdtYUo1OFRmTER5WkY5REJGcnUzTkZ2cTFmQmVKUlVna3VNdEpEV2VYWENjUW1HQXdBbWtqa0taVDAxc0Y0bFVFWW8ra2o3ck1odEhILyt1ak1Udi9Wb0dnNmhZeWxrSmdTc1VvcEpWQ3ZNVjAxcEZHMUZEejk2QVJtTTh4R21tamtjN2lFQkNJaktVUW1Fb3lDbW1qRUxlclFNU3RSaUlqQ1FUbXVJeEFXZ21rcXkzRXJXNGg1V0c5b1FRQzAyOUdJTzJPdXAyZGRkK0ZRQnlZRnpRQ2FTV1F6cEloNzJNSGNlcSt2R1FFMGlKSzdXb0hBZG1RUVFTaWlzWFBxTExteFkvUm5NZC8mbHQ7L2RpYWdyYW0mZ3Q7Jmx0Oy9teGZpbGUmZ3Q7Ij48ZGVmcy8+PGc+PHJlY3QgeD0iMCIgeT0iMTY4IiB3aWR0aD0iNTQwIiBoZWlnaHQ9IjI0IiBmaWxsPSIjZmZmZmZmIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4yIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI1Ni41LDE3Mi41KXNjYWxlKDEuMikiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iMjIiIGhlaWdodD0iMTEiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxMXB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMjJweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0O3doaXRlLXNwYWNlOm5vcm1hbDsiPmV4cHI8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iMTEiIHk9IjExIiBmaWxsPSIjMDAwMDAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjExcHgiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EiPmV4cHI8L3RleHQ+PC9zd2l0Y2g+PC9nPjxyZWN0IHg9IjAiIHk9IjE0NCIgd2lkdGg9IjE4MCIgaGVpZ2h0PSIyNCIgZmlsbD0iI2ZmZmZmZiIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuMiIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg3OC41LDE0OC41KXNjYWxlKDEuMikiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iMTgiIGhlaWdodD0iMTEiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxMXB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMThweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0O3doaXRlLXNwYWNlOm5vcm1hbDsiPm11bDwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSI5IiB5PSIxMSIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxMXB4IiBmb250LWZhbWlseT0iSGVsdmV0aWNhIj5tdWw8L3RleHQ+PC9zd2l0Y2g+PC9nPjxyZWN0IHg9IjAiIHk9IjEyMCIgd2lkdGg9IjYwIiBoZWlnaHQ9IjI0IiBmaWxsPSIjZmZmZmZmIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4yIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDcuNSwxMjQuNSlzY2FsZSgxLjIpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjM2IiBoZWlnaHQ9IjExIiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTFweDsgZm9udC1mYW1pbHk6IEhlbHZldGljYTsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDM4cHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDt3aGl0ZS1zcGFjZTpub3JtYWw7Ij5wcmltYXJ5PC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjE4IiB5PSIxMSIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxMXB4IiBmb250LWZhbWlseT0iSGVsdmV0aWNhIj5wcmltYXJ5PC90ZXh0Pjwvc3dpdGNoPjwvZz48cmVjdCB4PSIyNDAiIHk9IjE0NCIgd2lkdGg9IjMwMCIgaGVpZ2h0PSIyNCIgZmlsbD0iI2ZmZmZmZiIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuMiIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzNzguNSwxNDguNSlzY2FsZSgxLjIpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjE4IiBoZWlnaHQ9IjExIiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTFweDsgZm9udC1mYW1pbHk6IEhlbHZldGljYTsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDE4cHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDt3aGl0ZS1zcGFjZTpub3JtYWw7Ij5tdWw8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iOSIgeT0iMTEiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTFweCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSI+bXVsPC90ZXh0Pjwvc3dpdGNoPjwvZz48cmVjdCB4PSIzMDAiIHk9IjcyIiB3aWR0aD0iNjAiIGhlaWdodD0iMjQiIGZpbGw9IiNmZmZmZmYiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjIiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzE4LjUsNzYuNSlzY2FsZSgxLjIpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjE4IiBoZWlnaHQ9IjExIiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTFweDsgZm9udC1mYW1pbHk6IEhlbHZldGljYTsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDE4cHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDt3aGl0ZS1zcGFjZTpub3JtYWw7Ij5tdWw8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iOSIgeT0iMTEiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTFweCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSI+bXVsPC90ZXh0Pjwvc3dpdGNoPjwvZz48cmVjdCB4PSIyNDAiIHk9IjEyMCIgd2lkdGg9IjMwMCIgaGVpZ2h0PSIyNCIgZmlsbD0iI2ZmZmZmZiIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuMiIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzNjcuNSwxMjQuNSlzY2FsZSgxLjIpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjM2IiBoZWlnaHQ9IjExIiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTFweDsgZm9udC1mYW1pbHk6IEhlbHZldGljYTsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDM4cHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDt3aGl0ZS1zcGFjZTpub3JtYWw7Ij5wcmltYXJ5PC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjE4IiB5PSIxMSIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxMXB4IiBmb250LWZhbWlseT0iSGVsdmV0aWNhIj5wcmltYXJ5PC90ZXh0Pjwvc3dpdGNoPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNC41LDQuNSlzY2FsZSgxLjIpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjgiIGhlaWdodD0iMTIiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxMnB4OyBmb250LWZhbWlseTogJnF1b3Q7Q291cmllciBOZXcmcXVvdDs7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiA4cHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgZm9udC13ZWlnaHQ6IGJvbGQ7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7d2hpdGUtc3BhY2U6bm9ybWFsOyI+MTwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSI0IiB5PSIxMiIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxMnB4IiBmb250LWZhbWlseT0iQ291cmllciBOZXciIGZvbnQtd2VpZ2h0PSJib2xkIj4xPC90ZXh0Pjwvc3dpdGNoPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg4NC41LDQuNSlzY2FsZSgxLjIpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjgiIGhlaWdodD0iMTIiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxMnB4OyBmb250LWZhbWlseTogJnF1b3Q7Q291cmllciBOZXcmcXVvdDs7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiA4cHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgZm9udC13ZWlnaHQ6IGJvbGQ7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7d2hpdGUtc3BhY2U6bm9ybWFsOyI+KjwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSI0IiB5PSIxMiIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxMnB4IiBmb250LWZhbWlseT0iQ291cmllciBOZXciIGZvbnQtd2VpZ2h0PSJib2xkIj4qPC90ZXh0Pjwvc3dpdGNoPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNDQuNSw0LjUpc2NhbGUoMS4yKSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSI4IiBoZWlnaHQ9IjEyIiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTJweDsgZm9udC1mYW1pbHk6ICZxdW90O0NvdXJpZXIgTmV3JnF1b3Q7OyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogOHB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IGZvbnQtd2VpZ2h0OiBib2xkOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0O3doaXRlLXNwYWNlOm5vcm1hbDsiPjI8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iNCIgeT0iMTIiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTJweCIgZm9udC1mYW1pbHk9IkNvdXJpZXIgTmV3IiBmb250LXdlaWdodD0iYm9sZCI+MjwvdGV4dD48L3N3aXRjaD48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjA0LjUsNC41KXNjYWxlKDEuMikiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iOCIgaGVpZ2h0PSIxMiIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDEycHg7IGZvbnQtZmFtaWx5OiAmcXVvdDtDb3VyaWVyIE5ldyZxdW90OzsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDhweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyBmb250LXdlaWdodDogYm9sZDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDt3aGl0ZS1zcGFjZTpub3JtYWw7Ij4rPC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjQiIHk9IjEyIiBmaWxsPSIjMDAwMDAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjEycHgiIGZvbnQtZmFtaWx5PSJDb3VyaWVyIE5ldyIgZm9udC13ZWlnaHQ9ImJvbGQiPis8L3RleHQ+PC9zd2l0Y2g+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI2NC41LDQuNSlzY2FsZSgxLjIpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjgiIGhlaWdodD0iMTIiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxMnB4OyBmb250LWZhbWlseTogJnF1b3Q7Q291cmllciBOZXcmcXVvdDs7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiA4cHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgZm9udC13ZWlnaHQ6IGJvbGQ7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7d2hpdGUtc3BhY2U6bm9ybWFsOyI+KDwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSI0IiB5PSIxMiIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxMnB4IiBmb250LWZhbWlseT0iQ291cmllciBOZXciIGZvbnQtd2VpZ2h0PSJib2xkIj4oPC90ZXh0Pjwvc3dpdGNoPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzMjQuNSw0LjUpc2NhbGUoMS4yKSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSI4IiBoZWlnaHQ9IjEyIiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTJweDsgZm9udC1mYW1pbHk6ICZxdW90O0NvdXJpZXIgTmV3JnF1b3Q7OyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogOHB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IGZvbnQtd2VpZ2h0OiBib2xkOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0O3doaXRlLXNwYWNlOm5vcm1hbDsiPjM8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iNCIgeT0iMTIiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTJweCIgZm9udC1mYW1pbHk9IkNvdXJpZXIgTmV3IiBmb250LXdlaWdodD0iYm9sZCI+MzwvdGV4dD48L3N3aXRjaD48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzg0LjUsNC41KXNjYWxlKDEuMikiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iOCIgaGVpZ2h0PSIxMiIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDEycHg7IGZvbnQtZmFtaWx5OiAmcXVvdDtDb3VyaWVyIE5ldyZxdW90OzsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDhweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyBmb250LXdlaWdodDogYm9sZDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDt3aGl0ZS1zcGFjZTpub3JtYWw7Ij4rPC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjQiIHk9IjEyIiBmaWxsPSIjMDAwMDAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjEycHgiIGZvbnQtZmFtaWx5PSJDb3VyaWVyIE5ldyIgZm9udC13ZWlnaHQ9ImJvbGQiPis8L3RleHQ+PC9zd2l0Y2g+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQ0NC41LDQuNSlzY2FsZSgxLjIpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjgiIGhlaWdodD0iMTIiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxMnB4OyBmb250LWZhbWlseTogJnF1b3Q7Q291cmllciBOZXcmcXVvdDs7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiA4cHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgZm9udC13ZWlnaHQ6IGJvbGQ7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7d2hpdGUtc3BhY2U6bm9ybWFsOyI+NDwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSI0IiB5PSIxMiIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxMnB4IiBmb250LWZhbWlseT0iQ291cmllciBOZXciIGZvbnQtd2VpZ2h0PSJib2xkIj40PC90ZXh0Pjwvc3dpdGNoPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1MDQuNSw0LjUpc2NhbGUoMS4yKSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSI4IiBoZWlnaHQ9IjEyIiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTJweDsgZm9udC1mYW1pbHk6ICZxdW90O0NvdXJpZXIgTmV3JnF1b3Q7OyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogOHB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IGZvbnQtd2VpZ2h0OiBib2xkOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0O3doaXRlLXNwYWNlOm5vcm1hbDsiPik8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iNCIgeT0iMTIiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTJweCIgZm9udC1mYW1pbHk9IkNvdXJpZXIgTmV3IiBmb250LXdlaWdodD0iYm9sZCI+KTwvdGV4dD48L3N3aXRjaD48L2c+PHJlY3QgeD0iMTIwIiB5PSIxMjAiIHdpZHRoPSI2MCIgaGVpZ2h0PSIyNCIgZmlsbD0iI2ZmZmZmZiIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuMiIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMjcuNSwxMjQuNSlzY2FsZSgxLjIpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjM2IiBoZWlnaHQ9IjExIiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTFweDsgZm9udC1mYW1pbHk6IEhlbHZldGljYTsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDM4cHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDt3aGl0ZS1zcGFjZTpub3JtYWw7Ij5wcmltYXJ5PC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjE4IiB5PSIxMSIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxMXB4IiBmb250LWZhbWlseT0iSGVsdmV0aWNhIj5wcmltYXJ5PC90ZXh0Pjwvc3dpdGNoPjwvZz48cmVjdCB4PSIzMDAiIHk9Ijk2IiB3aWR0aD0iMTgwIiBoZWlnaHQ9IjI0IiBmaWxsPSIjZmZmZmZmIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4yIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDM3Ni41LDEwMC41KXNjYWxlKDEuMikiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iMjIiIGhlaWdodD0iMTEiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxMXB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMjJweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0O3doaXRlLXNwYWNlOm5vcm1hbDsiPmV4cHI8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iMTEiIHk9IjExIiBmaWxsPSIjMDAwMDAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjExcHgiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EiPmV4cHI8L3RleHQ+PC9zd2l0Y2g+PC9nPjxyZWN0IHg9IjMwMCIgeT0iNDgiIHdpZHRoPSI2MCIgaGVpZ2h0PSIyNCIgZmlsbD0iI2ZmZmZmZiIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuMiIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzMDcuNSw1Mi41KXNjYWxlKDEuMikiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iMzYiIGhlaWdodD0iMTEiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxMXB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMzhweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0O3doaXRlLXNwYWNlOm5vcm1hbDsiPnByaW1hcnk8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iMTgiIHk9IjExIiBmaWxsPSIjMDAwMDAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjExcHgiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EiPnByaW1hcnk8L3RleHQ+PC9zd2l0Y2g+PC9nPjxyZWN0IHg9IjQyMCIgeT0iNDgiIHdpZHRoPSI2MCIgaGVpZ2h0PSIyNCIgZmlsbD0iI2ZmZmZmZiIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuMiIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0MjcuNSw1Mi41KXNjYWxlKDEuMikiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iMzYiIGhlaWdodD0iMTEiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxMXB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMzhweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0O3doaXRlLXNwYWNlOm5vcm1hbDsiPnByaW1hcnk8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iMTgiIHk9IjExIiBmaWxsPSIjMDAwMDAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjExcHgiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EiPnByaW1hcnk8L3RleHQ+PC9zd2l0Y2g+PC9nPjxyZWN0IHg9IjQyMCIgeT0iNzIiIHdpZHRoPSI2MCIgaGVpZ2h0PSIyNCIgZmlsbD0iI2ZmZmZmZiIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuMiIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0MzguNSw3Ni41KXNjYWxlKDEuMikiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iMTgiIGhlaWdodD0iMTEiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxMXB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMThweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0O3doaXRlLXNwYWNlOm5vcm1hbDsiPm11bDwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSI5IiB5PSIxMSIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxMXB4IiBmb250LWZhbWlseT0iSGVsdmV0aWNhIj5tdWw8L3RleHQ+PC9zd2l0Y2g+PC9nPjxwYXRoIGQ9Ik0gMCAwIEwgMC4yIDEyMC4xNyIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuMiIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2UtZGFzaGFycmF5PSIzLjU5OTk5OTk5OTk5OTk5OTYgMy41OTk5OTk5OTk5OTk5OTk2IiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gNjAgMCBMIDYwLjIgMTIwLjE3IiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4yIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS1kYXNoYXJyYXk9IjMuNTk5OTk5OTk5OTk5OTk5NiAzLjU5OTk5OTk5OTk5OTk5OTYiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSAxMjAgMCBMIDEyMC4yIDEyMC4xNyIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuMiIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2UtZGFzaGFycmF5PSIzLjU5OTk5OTk5OTk5OTk5OTYgMy41OTk5OTk5OTk5OTk5OTk2IiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gMTc5LjQgMCBMIDE3OS42IDEyMC4xNyIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuMiIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2UtZGFzaGFycmF5PSIzLjU5OTk5OTk5OTk5OTk5OTYgMy41OTk5OTk5OTk5OTk5OTk2IiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gMjQwIDAgTCAyNDAuMiAxMjAuMTciIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjIiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLWRhc2hhcnJheT0iMy41OTk5OTk5OTk5OTk5OTk2IDMuNTk5OTk5OTk5OTk5OTk5NiIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDU0MCAwIEwgNTQwLjIgMTIwLjE3IiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4yIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS1kYXNoYXJyYXk9IjMuNTk5OTk5OTk5OTk5OTk5NiAzLjU5OTk5OTk5OTk5OTk5OTYiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSA0ODAgMCBMIDQ4MC4yIDQ4LjE3IiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4yIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS1kYXNoYXJyYXk9IjMuNTk5OTk5OTk5OTk5OTk5NiAzLjU5OTk5OTk5OTk5OTk5OTYiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSA0MjAgMCBMIDQyMC4yIDQ4LjE3IiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4yIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS1kYXNoYXJyYXk9IjMuNTk5OTk5OTk5OTk5OTk5NiAzLjU5OTk5OTk5OTk5OTk5OTYiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSAzNjAgMCBMIDM2MC4yIDQ4LjE3IiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4yIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS1kYXNoYXJyYXk9IjMuNTk5OTk5OTk5OTk5OTk5NiAzLjU5OTk5OTk5OTk5OTk5OTYiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSAzMDAgMCBMIDMwMC4yIDQ4LjE3IiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4yIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS1kYXNoYXJyYXk9IjMuNTk5OTk5OTk5OTk5OTk5NiAzLjU5OTk5OTk5OTk5OTk5OTYiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PC9nPjwvc3ZnPg==" alt=""><figcaption><code class="notranslate">1*2+(3+4)</code>をパースしている時の関数の呼び出し関係</figcaption>
</figure>
<p>再帰に慣れていないプログラマの場合、上のような再帰的な関数はわかりづらく感じるかもしれません。正直、再帰には非常に慣れているはずの筆者ですら、こういったコードが動くのは一種のマジックのように感じます。再帰的なコードは、仕組みがわかっていてもどこか不思議な感じがするのですが、それはおそらくそういうものなのでしょう。何度もよく頭の中でコードをトレースしてみて、きちんとコードが動作することを確認してみてください。</p>
<p>上記のような1つの生成規則を1つの関数にマップするという構文解析の手法を「再帰下降構文解析」といいます。上記のパーサではトークンを1つだけ先読みして、どの関数を呼び出すか、あるいはリターンするか、ということを決めていましたが、そのようにトークンを1つだけ先読みする再帰下降パーサのことを<span class="index" id="index40">LL(1)</span>パーサといいます。また、LL(1)パーサが書ける文法のことをLL(1)文法といいます。</p>
<h2 id="スタックマシン"><a href="https://www.sigbus.info/compilerbook#%E3%82%B9%E3%82%BF%E3%83%83%E3%82%AF%E3%83%9E%E3%82%B7%E3%83%B3" style="text-decoration: none; color: inherit;">スタックマシン</a></h2>
<p>前章ではトークン列を抽象構文木に変換するアルゴリズムについて説明しました。演算子の優先順位を考慮した文法を選ぶことによって、<code class="notranslate">*</code>や<code class="notranslate">/</code>が、<code class="notranslate">+</code>や<code class="notranslate">-</code>に比べて、常に枝の先の方に来ている抽象構文木を作ることができるようになったわけですが、この木をどのようにアセンブリに変換すればよいのでしょうか？ この章ではその方法を説明します。</p>
<p>まずは、なぜ加減算と同じ方法ではアセンブリに変換できないのかを考えてみましょう。加減算のできるコンパイラでは、RAXを結果のレジスタとして、そこに加算や減算を行っていました。つまりコンパイルされたプログラムでは中間的な計算結果を1つだけ保持していました。</p>
<p>しかし、乗除算が含まれる場合は中間的な計算結果が1つだけになるとは限りません。例として2*3+4*5を考えてみてください。足し算を行うためには両辺が計算済みでなければいけないので、足し算の前に2*3と、4*5を計算する必要があります。つまりこの場合は途中の計算結果を2つ保持できなければ全体の計算ができないのです。</p>
<p>こういったものの計算が簡単に行えるのが「<span class="index" id="index41">スタックマシン</span>」というコンピュータです。ここではいったんパーサの作った抽象構文木から離れて、スタックマシンについて学んでみましょう。</p>
<h3 id="スタックマシンの概念"><a href="https://www.sigbus.info/compilerbook#%E3%82%B9%E3%82%BF%E3%83%83%E3%82%AF%E3%83%9E%E3%82%B7%E3%83%B3%E3%81%AE%E6%A6%82%E5%BF%B5" style="text-decoration: none; color: inherit;">スタックマシンの概念</a></h3>
<p>スタックマシンは、スタックをデータ保存領域として持っているコンピュータのことです。したがってスタックマシンでは「スタックにプッシュする」と「スタックからポップする」という2つの操作が基本操作になります。プッシュでは、スタックの一番上に新しい要素が積まれます。ポップでは、スタックの一番上から要素が取り除かれます。</p>
<p>スタックマシンにおける演算命令は、スタックトップの要素に作用します。例えばスタックマシンの<code class="notranslate">ADD</code>命令は、スタックトップから2つ要素をポップしてきて、それらを加算し、その結果をスタックにプッシュします（x86-64命令との混同を避けるために、仮想スタックマシンの命令はすべて大文字で表記することにします）。別の言い方をすると、<code class="notranslate">ADD</code>は、スタックトップの2つの要素を、それらを足した結果の1つの要素で置き換える命令です。</p>
<p><code class="notranslate">SUB</code>、<code class="notranslate">MUL</code>、<code class="notranslate">DIV</code>命令は、<code class="notranslate">ADD</code>と同じように、スタックトップの2つの要素を、それらを減算、乗算、除算した1つの要素で置き換える命令ということになります。</p>
<p><code class="notranslate">PUSH</code>命令は引数の要素をスタックトップに積むものとします。ここでは使用しませんが、スタックトップから要素を1つ取り除いて捨てる<code class="notranslate">POP</code>という命令も考えることができます。</p>
<p>さて、これらの命令を使って、2*3+4*5を計算することを考えてみましょう。上のように定義したスタックマシンを使うと、次のようなコードで2*3+4*5を計算することができるはずです。</p>
<pre class="notranslate"><code class="notranslate">// 2*3を計算
PUSH 2
PUSH 3
MUL

// 4*5を計算
PUSH 4
PUSH 5
MUL

// 2*3 + 4*5を計算
ADD</code></pre>
<p>このコードについて少し詳しくみていきましょう。スタックにはあらかじめ何らかの値が入っているものとします。ここではその値は重要ではないので、「⋯」で表示します。スタックは図において上から下に伸びるものとします。</p>
<p>最初の2つの<code class="notranslate">PUSH</code>が2と3をスタックにプッシュするので、その直後の<code class="notranslate">MUL</code>が実行される時点ではスタックの状態は次のようになっています。</p>
<table class="notranslate">
<tbody>
<tr class="odd">
<td style="text-align: center;">⋯</td>
</tr>
<tr class="even">
<td style="text-align: center;">2</td>
</tr>
<tr class="odd">
<td style="text-align: center;">3</td>
</tr>
</tbody>
</table>
<p><code class="notranslate">MUL</code>はスタックトップの2つの値、すなわち3と2を取り除いて、それを掛けた結果、つまり6をスタックにプッシュします。したがって<code class="notranslate">MUL</code>の実行後にはスタックの状態は次のようになります。</p>
<table class="notranslate">
<tbody>
<tr class="odd">
<td style="text-align: center;">⋯</td>
</tr>
<tr class="even">
<td style="text-align: center;">6</td>
</tr>
</tbody>
</table>
<p>次に<code class="notranslate">PUSH</code>が4と5をプッシュするので、2番目の<code class="notranslate">MUL</code>が実行される直前にはスタックは次のようになっているはずです。</p>
<table class="notranslate">
<tbody>
<tr class="odd">
<td style="text-align: center;">⋯</td>
</tr>
<tr class="even">
<td style="text-align: center;">6</td>
</tr>
<tr class="odd">
<td style="text-align: center;">4</td>
</tr>
<tr class="even">
<td style="text-align: center;">5</td>
</tr>
</tbody>
</table>
<p>ここで<code class="notranslate">MUL</code>を実行すると、5と4が取り除かれて、それを掛けた結果の20に置き換えられます。したがって<code class="notranslate">MUL</code>の実行後には次のようになります。</p>
<table class="notranslate">
<tbody>
<tr class="odd">
<td style="text-align: center;">⋯</td>
</tr>
<tr class="even">
<td style="text-align: center;">6</td>
</tr>
<tr class="odd">
<td style="text-align: center;">20</td>
</tr>
</tbody>
</table>
<p>2*3と4*5の計算結果がうまくスタックに入っていることに着目してください。この状態で<code class="notranslate">ADD</code>を実行すると、20+6が計算され、その結果がスタックにプッシュされるので、最終的にスタックは次の状態になるはずです。</p>
<table class="notranslate">
<tbody>
<tr class="odd">
<td style="text-align: center;">⋯</td>
</tr>
<tr class="even">
<td style="text-align: center;">26</td>
</tr>
</tbody>
</table>
<p>スタックマシンの計算結果はスタックトップに残っている値ということにすると、26は2*3+4*5の結果ですから、きちんとその式が計算できたことになるわけです。</p>
<p>スタックマシンではこの式に限らず、複数の途中結果を持つどのような式でも計算することができます。スタックマシンを使うと、どのような部分式も、それを実行した結果として1つの要素をスタックに結果として残すという約束を守っている限り、上記の方法でうまくコンパイルできるのです。</p>
<div class="note">
<p>コラム: CISCとRISC</p>
<p>x86-64は、1978年に発売された8086から漸進的に発展してきた命令セットで、典型的な「<span class="index" id="index42">CISC</span>」（シスク）と呼ばれるスタイルのプロセッサです。CISCプロセッサの特徴は、機械語の演算がレジスタだけではなくメモリアドレスを取ることが可能であるということ、機械語命令の長さが可変長であること、アセンブリプログラマにとって便利な複雑な操作を1命令で行う命令を多く備えていること、などがあります。</p>
<p>CISCに対して1980年代に発明されたのが「<span class="index" id="index43">RISC</span>」（リスク）です。RISCプロセッサの特徴は、演算は必ずレジスタ間でのみ行い、メモリに対する操作はレジスタへのロードとレジスタからのストアだけであること、機械語命令の長さがどの命令でも同じことであること、アセンブリプログラマにとって便利な複合命令を持っておらず、コンパイラが生成する簡単な命令のみを備えていること、などがあります。</p>
<p>x86-64はCISCの数少ない生き残りの一つで、x86-64以外の主要なプロセッサはほぼ全てRISCをベースにしています。具体的にはARM、PowerPC、SPARC、MIPS、RISC-V（リスク・ファイブ）などはすべてRISCプロセッサです。</p>
<p>RISCには、x86-64のようなメモリとレジスタ間の演算はありません。レジスタのエイリアスもありません。特定の整数レジスタが特定の命令で特別な使われ方をする、といったルールもありません。そういう命令セットが主流になっている現代の目から見ると、x86-64の命令セットは古めかしいものに見えます。</p>
<p>RISCプロセッサはその単純なデザインゆえに高速化しやすく、プロセッサ業界を席捲しました。ではなぜx86-64は生き残りに成功したのでしょうか？ そこには既存のソフトウェア資産を活かせる高速なx86プロセッサを求める市場の巨大なニーズと、それに応えようとしたIntelやIntel互換チップメーカーの技術革新がありました。Intelは、CPUの命令デコーダでx86命令を内部的にある種のRISC命令に変換して、x86を内部的にRISCプロセッサ化しました。それによりRISCが高速化に成功したのと同じテクニックをx86に適用することが可能になったのです。</p>
</div>
<h3 id="スタックマシンへのコンパイル"><a href="https://www.sigbus.info/compilerbook#%E3%82%B9%E3%82%BF%E3%83%83%E3%82%AF%E3%83%9E%E3%82%B7%E3%83%B3%E3%81%B8%E3%81%AE%E3%82%B3%E3%83%B3%E3%83%91%E3%82%A4%E3%83%AB" style="text-decoration: none; color: inherit;">スタックマシンへのコンパイル</a></h3>
<p>この節では、抽象構文木をスタックマシンのコードに変換する方法について説明します。それができるようになれば、四則演算からなる式をパースして抽象構文木を組み立て、それをx86-64命令を使ったスタックマシンにコンパイルして実行することができるようになります。つまり四則演算のできるコンパイラが書けるようになるというわけです。</p>
<p>スタックマシンでは、部分式を計算すると、それが何であれその結果の1つの値がスタックトップに残るということになっていました。例えば下のような木を考えてください。</p>
<figure>
<img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIKICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPgo8IS0tIEdlbmVyYXRlZCBieSBncmFwaHZpeiB2ZXJzaW9uIDIuNDAuMSAoMjAxNjEyMjUuMDMwNCkKIC0tPgo8IS0tIFRpdGxlOiBHIFBhZ2VzOiAxIC0tPgo8c3ZnIHdpZHRoPSIxMzRwdCIgaGVpZ2h0PSIxMTZwdCIKIHZpZXdCb3g9IjAuMDAgMC4wMCAxMzQuMDAgMTE2LjAwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4KPGcgaWQ9ImdyYXBoMCIgY2xhc3M9ImdyYXBoIiB0cmFuc2Zvcm09InNjYWxlKDEgMSkgcm90YXRlKDApIHRyYW5zbGF0ZSg0IDExMikiPgo8dGl0bGU+RzwvdGl0bGU+Cjxwb2x5Z29uIGZpbGw9IiNmZmZmZmYiIHN0cm9rZT0idHJhbnNwYXJlbnQiIHBvaW50cz0iLTQsNCAtNCwtMTEyIDEzMCwtMTEyIDEzMCw0IC00LDQiLz4KPCEtLSArIC0tPgo8ZyBpZD0ibm9kZTEiIGNsYXNzPSJub2RlIj4KPHRpdGxlPis8L3RpdGxlPgo8ZWxsaXBzZSBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIGN4PSI2MyIgY3k9Ii05MCIgcng9IjI3IiByeT0iMTgiLz4KPHRleHQgdGV4dC1hbmNob3I9Im1pZGRsZSIgeD0iNjMiIHk9Ii04NS44IiBmb250LWZhbWlseT0iVGltZXMsc2VyaWYiIGZvbnQtc2l6ZT0iMTQuMDAiIGZpbGw9IiMwMDAwMDAiPis8L3RleHQ+CjwvZz4KPCEtLSBBIC0tPgo8ZyBpZD0ibm9kZTIiIGNsYXNzPSJub2RlIj4KPHRpdGxlPkE8L3RpdGxlPgo8ZWxsaXBzZSBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIGN4PSIyNyIgY3k9Ii0xOCIgcng9IjI3IiByeT0iMTgiLz4KPHRleHQgdGV4dC1hbmNob3I9Im1pZGRsZSIgeD0iMjciIHk9Ii0xMy44IiBmb250LWZhbWlseT0iVGltZXMsc2VyaWYiIGZvbnQtc2l6ZT0iMTQuMDAiIGZpbGw9IiMwMDAwMDAiPkE8L3RleHQ+CjwvZz4KPCEtLSArJiM0NTsmZ3Q7QSAtLT4KPGcgaWQ9ImVkZ2UxIiBjbGFzcz0iZWRnZSI+Cjx0aXRsZT4rJiM0NTsmZ3Q7QTwvdGl0bGU+CjxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgZD0iTTU0LjI4NTQsLTcyLjU3MDhDNTAuMDQwMywtNjQuMDgwNyA0NC44NDY0LC01My42OTI5IDQwLjEzMzcsLTQ0LjI2NzQiLz4KPHBvbHlnb24gZmlsbD0iIzAwMDAwMCIgc3Ryb2tlPSIjMDAwMDAwIiBwb2ludHM9IjQzLjIzNywtNDIuNjQ3NyAzNS42MzQzLC0zNS4yNjg3IDM2Ljk3NiwtNDUuNzc4MiA0My4yMzcsLTQyLjY0NzciLz4KPC9nPgo8IS0tIEIgLS0+CjxnIGlkPSJub2RlMyIgY2xhc3M9Im5vZGUiPgo8dGl0bGU+QjwvdGl0bGU+CjxlbGxpcHNlIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgY3g9Ijk5IiBjeT0iLTE4IiByeD0iMjciIHJ5PSIxOCIvPgo8dGV4dCB0ZXh0LWFuY2hvcj0ibWlkZGxlIiB4PSI5OSIgeT0iLTEzLjgiIGZvbnQtZmFtaWx5PSJUaW1lcyxzZXJpZiIgZm9udC1zaXplPSIxNC4wMCIgZmlsbD0iIzAwMDAwMCI+QjwvdGV4dD4KPC9nPgo8IS0tICsmIzQ1OyZndDtCIC0tPgo8ZyBpZD0iZWRnZTIiIGNsYXNzPSJlZGdlIj4KPHRpdGxlPismIzQ1OyZndDtCPC90aXRsZT4KPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBkPSJNNzEuNzE0NiwtNzIuNTcwOEM3NS45NTk3LC02NC4wODA3IDgxLjE1MzYsLTUzLjY5MjkgODUuODY2MywtNDQuMjY3NCIvPgo8cG9seWdvbiBmaWxsPSIjMDAwMDAwIiBzdHJva2U9IiMwMDAwMDAiIHBvaW50cz0iODkuMDI0LC00NS43NzgyIDkwLjM2NTcsLTM1LjI2ODcgODIuNzYzLC00Mi42NDc3IDg5LjAyNCwtNDUuNzc4MiIvPgo8L2c+CjwvZz4KPC9zdmc+Cg==" alt=""><figcaption>加算を表す抽象構文木</figcaption>
</figure>
<p><code class="notranslate">A</code>や<code class="notranslate">B</code>というのは部分木を抽象化して表したもので、実際にはなんらかの型のノードを意味しています。しかしその具体的な型や木の形は、この木全体をコンパイルするときには重要ではありません。この木をコンパイルするときは次のようにすればよいのです。</p>
<ol>
<li>左の部分木をコンパイルする</li>
<li>右の部分木をコンパイルする</li>
<li>スタックの2つの値を、それらを加算した結果で置き換えるコードを出力</li>
</ol>
<p>1のコードを実行した後には、その具体的なコードが何であれ、左の部分木の結果を表す1つの値がスタックトップに置かれているはずです。同様に、2のコードを実行した後には、右の部分木の結果を表す1つの値がスタックトップに置かれているはずです。したがって、木全体の値を計算するためには、その2つの値を、その合計値で置き換えればよいというわけです。</p>
<p>このように、抽象構文木をスタックマシンにコンパイルするときは、再帰的に考えて、木を下りながらどんどんアセンブリを出力していくことになります。再帰の考え方に慣れていない読者にとってはやや難しく思えるかもしれませんが、木のような自己相似形のデータ構造を扱う時には再帰は定番のテクニックです。</p>
<p>以下の例で具体的に考えてみましょう。</p>
<figure>
<img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIKICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPgo8IS0tIEdlbmVyYXRlZCBieSBncmFwaHZpeiB2ZXJzaW9uIDIuNDAuMSAoMjAxNjEyMjUuMDMwNCkKIC0tPgo8IS0tIFRpdGxlOiBHIFBhZ2VzOiAxIC0tPgo8c3ZnIHdpZHRoPSIxNzBwdCIgaGVpZ2h0PSIxODhwdCIKIHZpZXdCb3g9IjAuMDAgMC4wMCAxNzAuMDAgMTg4LjAwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4KPGcgaWQ9ImdyYXBoMCIgY2xhc3M9ImdyYXBoIiB0cmFuc2Zvcm09InNjYWxlKDEgMSkgcm90YXRlKDApIHRyYW5zbGF0ZSg0IDE4NCkiPgo8dGl0bGU+RzwvdGl0bGU+Cjxwb2x5Z29uIGZpbGw9IiNmZmZmZmYiIHN0cm9rZT0idHJhbnNwYXJlbnQiIHBvaW50cz0iLTQsNCAtNCwtMTg0IDE2NiwtMTg0IDE2Niw0IC00LDQiLz4KPCEtLSArIC0tPgo8ZyBpZD0ibm9kZTEiIGNsYXNzPSJub2RlIj4KPHRpdGxlPis8L3RpdGxlPgo8ZWxsaXBzZSBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIGN4PSI2MyIgY3k9Ii0xNjIiIHJ4PSIyNyIgcnk9IjE4Ii8+Cjx0ZXh0IHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjYzIiB5PSItMTU3LjgiIGZvbnQtZmFtaWx5PSJUaW1lcyxzZXJpZiIgZm9udC1zaXplPSIxNC4wMCIgZmlsbD0iIzAwMDAwMCI+KzwvdGV4dD4KPC9nPgo8IS0tIDIgLS0+CjxnIGlkPSJub2RlMiIgY2xhc3M9Im5vZGUiPgo8dGl0bGU+MjwvdGl0bGU+CjxlbGxpcHNlIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgY3g9IjI3IiBjeT0iLTkwIiByeD0iMjciIHJ5PSIxOCIvPgo8dGV4dCB0ZXh0LWFuY2hvcj0ibWlkZGxlIiB4PSIyNyIgeT0iLTg1LjgiIGZvbnQtZmFtaWx5PSJUaW1lcyxzZXJpZiIgZm9udC1zaXplPSIxNC4wMCIgZmlsbD0iIzAwMDAwMCI+MjwvdGV4dD4KPC9nPgo8IS0tICsmIzQ1OyZndDsyIC0tPgo8ZyBpZD0iZWRnZTEiIGNsYXNzPSJlZGdlIj4KPHRpdGxlPismIzQ1OyZndDsyPC90aXRsZT4KPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBkPSJNNTQuMjg1NCwtMTQ0LjU3MDhDNTAuMDQwMywtMTM2LjA4MDcgNDQuODQ2NCwtMTI1LjY5MjkgNDAuMTMzNywtMTE2LjI2NzQiLz4KPHBvbHlnb24gZmlsbD0iIzAwMDAwMCIgc3Ryb2tlPSIjMDAwMDAwIiBwb2ludHM9IjQzLjIzNywtMTE0LjY0NzcgMzUuNjM0MywtMTA3LjI2ODcgMzYuOTc2LC0xMTcuNzc4MiA0My4yMzcsLTExNC42NDc3Ii8+CjwvZz4KPCEtLSAqIC0tPgo8ZyBpZD0ibm9kZTMiIGNsYXNzPSJub2RlIj4KPHRpdGxlPio8L3RpdGxlPgo8ZWxsaXBzZSBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIGN4PSI5OSIgY3k9Ii05MCIgcng9IjI3IiByeT0iMTgiLz4KPHRleHQgdGV4dC1hbmNob3I9Im1pZGRsZSIgeD0iOTkiIHk9Ii04NS44IiBmb250LWZhbWlseT0iVGltZXMsc2VyaWYiIGZvbnQtc2l6ZT0iMTQuMDAiIGZpbGw9IiMwMDAwMDAiPio8L3RleHQ+CjwvZz4KPCEtLSArJiM0NTsmZ3Q7KiAtLT4KPGcgaWQ9ImVkZ2UyIiBjbGFzcz0iZWRnZSI+Cjx0aXRsZT4rJiM0NTsmZ3Q7KjwvdGl0bGU+CjxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgZD0iTTcxLjcxNDYsLTE0NC41NzA4Qzc1Ljk1OTcsLTEzNi4wODA3IDgxLjE1MzYsLTEyNS42OTI5IDg1Ljg2NjMsLTExNi4yNjc0Ii8+Cjxwb2x5Z29uIGZpbGw9IiMwMDAwMDAiIHN0cm9rZT0iIzAwMDAwMCIgcG9pbnRzPSI4OS4wMjQsLTExNy43NzgyIDkwLjM2NTcsLTEwNy4yNjg3IDgyLjc2MywtMTE0LjY0NzcgODkuMDI0LC0xMTcuNzc4MiIvPgo8L2c+CjwhLS0gMyAtLT4KPGcgaWQ9Im5vZGU0IiBjbGFzcz0ibm9kZSI+Cjx0aXRsZT4zPC90aXRsZT4KPGVsbGlwc2UgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBjeD0iNjMiIGN5PSItMTgiIHJ4PSIyNyIgcnk9IjE4Ii8+Cjx0ZXh0IHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjYzIiB5PSItMTMuOCIgZm9udC1mYW1pbHk9IlRpbWVzLHNlcmlmIiBmb250LXNpemU9IjE0LjAwIiBmaWxsPSIjMDAwMDAwIj4zPC90ZXh0Pgo8L2c+CjwhLS0gKiYjNDU7Jmd0OzMgLS0+CjxnIGlkPSJlZGdlMyIgY2xhc3M9ImVkZ2UiPgo8dGl0bGU+KiYjNDU7Jmd0OzM8L3RpdGxlPgo8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIGQ9Ik05MC4yODU0LC03Mi41NzA4Qzg2LjA0MDMsLTY0LjA4MDcgODAuODQ2NCwtNTMuNjkyOSA3Ni4xMzM3LC00NC4yNjc0Ii8+Cjxwb2x5Z29uIGZpbGw9IiMwMDAwMDAiIHN0cm9rZT0iIzAwMDAwMCIgcG9pbnRzPSI3OS4yMzcsLTQyLjY0NzcgNzEuNjM0MywtMzUuMjY4NyA3Mi45NzYsLTQ1Ljc3ODIgNzkuMjM3LC00Mi42NDc3Ii8+CjwvZz4KPCEtLSA0IC0tPgo8ZyBpZD0ibm9kZTUiIGNsYXNzPSJub2RlIj4KPHRpdGxlPjQ8L3RpdGxlPgo8ZWxsaXBzZSBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIGN4PSIxMzUiIGN5PSItMTgiIHJ4PSIyNyIgcnk9IjE4Ii8+Cjx0ZXh0IHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjEzNSIgeT0iLTEzLjgiIGZvbnQtZmFtaWx5PSJUaW1lcyxzZXJpZiIgZm9udC1zaXplPSIxNC4wMCIgZmlsbD0iIzAwMDAwMCI+NDwvdGV4dD4KPC9nPgo8IS0tIComIzQ1OyZndDs0IC0tPgo8ZyBpZD0iZWRnZTQiIGNsYXNzPSJlZGdlIj4KPHRpdGxlPiomIzQ1OyZndDs0PC90aXRsZT4KPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBkPSJNMTA3LjcxNDYsLTcyLjU3MDhDMTExLjk1OTcsLTY0LjA4MDcgMTE3LjE1MzYsLTUzLjY5MjkgMTIxLjg2NjMsLTQ0LjI2NzQiLz4KPHBvbHlnb24gZmlsbD0iIzAwMDAwMCIgc3Ryb2tlPSIjMDAwMDAwIiBwb2ludHM9IjEyNS4wMjQsLTQ1Ljc3ODIgMTI2LjM2NTcsLTM1LjI2ODcgMTE4Ljc2MywtNDIuNjQ3NyAxMjUuMDI0LC00NS43NzgyIi8+CjwvZz4KPC9nPgo8L3N2Zz4K" alt=""><figcaption>加算と乗算を表す抽象構文木</figcaption>
</figure>
<p>コード生成を行う関数は木のルートのノードを受け取ります。</p>
<p>上記の手順に従うと、その関数がまず行うのは左の部分木をコンパイルすることです。つまり数値の2をコンパイルすることになります。2を計算した結果はそのまま2なので、その部分木のコンパイル結果は<code class="notranslate">PUSH 2</code>です。</p>
<p>次にコード生成関数は右の部分木をコンパイルしようとします。そうすると再帰的に部分木の左側をコンパイルすることになり、結果として<code class="notranslate">PUSH 3</code>が出力されます。次は部分木の右側をコンパイルすることになり、<code class="notranslate">PUSH 4</code>が出力されます。</p>
<p>そのあとコード生成関数は再帰呼び出しを元に戻りながら、部分木の演算子の型に合わせたコードを出力していきます。最初に出力されるのは、スタックトップの2つの要素を、それらを掛けたもので置き換えるコードです。その次にスタックトップの2つの要素を、それらを足したもので置き換えるコードが出力されます。結果として下のアセンブリが出力されることになります。</p>
<pre class="notranslate"><code class="notranslate">PUSH 2
PUSH 3
PUSH 4
MUL
ADD</code></pre>
<p>このような手法を使うと、抽象構文木を機械的にアセンブリに落としていけるのです。</p>
<h3 id="x86-64におけるスタックマシンの実現方法"><a href="https://www.sigbus.info/compilerbook#x86-64%E3%81%AB%E3%81%8A%E3%81%91%E3%82%8B%E3%82%B9%E3%82%BF%E3%83%83%E3%82%AF%E3%83%9E%E3%82%B7%E3%83%B3%E3%81%AE%E5%AE%9F%E7%8F%BE%E6%96%B9%E6%B3%95" style="text-decoration: none; color: inherit;">x86-64におけるスタックマシンの実現方法</a></h3>
<p>ここまでは仮想的なスタックマシンの話でした。実際のx86-64はスタックマシンではなくレジスタマシンです。x86-64の演算は通常2つのレジスタ間に対して定義されており、スタックトップの2つの値に対して動作するように定義されているわけではありません。したがって、スタックマシンのテクニックをx86-64で使うためには、レジスタマシンでスタックマシンをある意味でエミュレートする必要があります。</p>
<p>レジスタマシンでスタックマシンをエミュレートするのは比較的簡単です。スタックマシンで1命令になっているものを複数の命令を使って実装すればよいのです。</p>
<p>そのための具体的な手法を説明しましょう。</p>
<p>まずスタックの先頭の要素を指すレジスタを1つ用意しておきます。そのレジスタのことをスタックポインタといいます。スタックトップの2つの値をポップしてきたいのであれば、スタックポインタの指す要素を2つ取り出して、スタックポインタを取り出した要素のぶんだけ変更しておきます。同じように、プッシュするときは、スタックポインタの値を変更しつつそれが指しているメモリ領域に書き込めばよいというわけです。</p>
<p>x86-64のRSPレジスタはスタックポインタとして使うことを念頭に置いて設計されています。x86-64の<code class="notranslate">push</code>や<code class="notranslate">pop</code>といった命令は、暗黙のうちにRSPをスタックポインタとして使って、その値を変更しつつ、RSPが指しているメモリにアクセスする命令です。したがって、x86-64命令セットをスタックマシンのように使うときは、RSPをスタックポインタとして使うのが素直です。では早速、<code class="notranslate">1+2</code>という式を、x86-64をスタックマシンと見立ててコンパイルしてみましょう。以下にx86-64のアセンブリを示します。</p>
<pre class="notranslate"><code class="notranslate">// 左辺と右辺をプッシュ
push 1
push 2

// 左辺と右辺をRAXとRDIにポップして足す
pop rdi
pop rax
add rax, rdi

// 足した結果をスタックにプッシュ
push rax</code></pre>
<p>x86-64には「RSPが指している2つの要素を足す」という命令はないので、いったんレジスタにロードして加算を行い、その結果をスタックにプッシュし直す必要があります。上記の<code class="notranslate">add</code>命令で行っているのはそういう操作です。</p>
<p>同様に<code class="notranslate">2*3+4*5</code>をx86-64で実装してみると次のようになります。</p>
<pre class="notranslate"><code class="notranslate">// 2*3を計算して結果をスタックにプッシュ
push 2
push 3

pop rdi
pop rax
mul rax, rdi
push rax

// 4*5を計算して結果をスタックにプッシュ
push 4
push 5

pop rdi
pop rax
mul rax, rdi
push rax

// スタックトップの2つの値を足す
// つまり2*3+4*5を計算する
pop rdi
pop rax
add rax, rdi
push rax</code></pre>
<p>このように、x86-64のスタック操作命令を使うと、x86-64であっても、かなりスタックマシンに近いコードを動かすことができます。</p>
<p>次の<code class="notranslate">gen</code>関数はこの手法をそのままCの関数で実装したものです。</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode c notranslate"><code class="sourceCode c notranslate"><span id="cb58-1"><a href="https://www.sigbus.info/compilerbook#cb58-1"></a><span class="dt">void</span> gen(Node *node) {</span>
<span id="cb58-2"><a href="https://www.sigbus.info/compilerbook#cb58-2"></a>  <span class="cf">if</span> (node-&gt;kind == ND_NUM) {</span>
<span id="cb58-3"><a href="https://www.sigbus.info/compilerbook#cb58-3"></a>    printf(<span class="st">"  push %d</span><span class="sc">\n</span><span class="st">"</span>, node-&gt;val);</span>
<span id="cb58-4"><a href="https://www.sigbus.info/compilerbook#cb58-4"></a>    <span class="cf">return</span>;</span>
<span id="cb58-5"><a href="https://www.sigbus.info/compilerbook#cb58-5"></a>  }</span>
<span id="cb58-6"><a href="https://www.sigbus.info/compilerbook#cb58-6"></a></span>
<span id="cb58-7"><a href="https://www.sigbus.info/compilerbook#cb58-7"></a>  gen(node-&gt;lhs);</span>
<span id="cb58-8"><a href="https://www.sigbus.info/compilerbook#cb58-8"></a>  gen(node-&gt;rhs);</span>
<span id="cb58-9"><a href="https://www.sigbus.info/compilerbook#cb58-9"></a></span>
<span id="cb58-10"><a href="https://www.sigbus.info/compilerbook#cb58-10"></a>  printf(<span class="st">"  pop rdi</span><span class="sc">\n</span><span class="st">"</span>);</span>
<span id="cb58-11"><a href="https://www.sigbus.info/compilerbook#cb58-11"></a>  printf(<span class="st">"  pop rax</span><span class="sc">\n</span><span class="st">"</span>);</span>
<span id="cb58-12"><a href="https://www.sigbus.info/compilerbook#cb58-12"></a></span>
<span id="cb58-13"><a href="https://www.sigbus.info/compilerbook#cb58-13"></a>  <span class="cf">switch</span> (node-&gt;kind) {</span>
<span id="cb58-14"><a href="https://www.sigbus.info/compilerbook#cb58-14"></a>  <span class="cf">case</span> ND_ADD:</span>
<span id="cb58-15"><a href="https://www.sigbus.info/compilerbook#cb58-15"></a>    printf(<span class="st">"  add rax, rdi</span><span class="sc">\n</span><span class="st">"</span>);</span>
<span id="cb58-16"><a href="https://www.sigbus.info/compilerbook#cb58-16"></a>    <span class="cf">break</span>;</span>
<span id="cb58-17"><a href="https://www.sigbus.info/compilerbook#cb58-17"></a>  <span class="cf">case</span> ND_SUB:</span>
<span id="cb58-18"><a href="https://www.sigbus.info/compilerbook#cb58-18"></a>    printf(<span class="st">"  sub rax, rdi</span><span class="sc">\n</span><span class="st">"</span>);</span>
<span id="cb58-19"><a href="https://www.sigbus.info/compilerbook#cb58-19"></a>    <span class="cf">break</span>;</span>
<span id="cb58-20"><a href="https://www.sigbus.info/compilerbook#cb58-20"></a>  <span class="cf">case</span> ND_MUL:</span>
<span id="cb58-21"><a href="https://www.sigbus.info/compilerbook#cb58-21"></a>    printf(<span class="st">"  imul rax, rdi</span><span class="sc">\n</span><span class="st">"</span>);</span>
<span id="cb58-22"><a href="https://www.sigbus.info/compilerbook#cb58-22"></a>    <span class="cf">break</span>;</span>
<span id="cb58-23"><a href="https://www.sigbus.info/compilerbook#cb58-23"></a>  <span class="cf">case</span> ND_DIV:</span>
<span id="cb58-24"><a href="https://www.sigbus.info/compilerbook#cb58-24"></a>    printf(<span class="st">"  cqo</span><span class="sc">\n</span><span class="st">"</span>);</span>
<span id="cb58-25"><a href="https://www.sigbus.info/compilerbook#cb58-25"></a>    printf(<span class="st">"  idiv rdi</span><span class="sc">\n</span><span class="st">"</span>);</span>
<span id="cb58-26"><a href="https://www.sigbus.info/compilerbook#cb58-26"></a>    <span class="cf">break</span>;</span>
<span id="cb58-27"><a href="https://www.sigbus.info/compilerbook#cb58-27"></a>  }</span>
<span id="cb58-28"><a href="https://www.sigbus.info/compilerbook#cb58-28"></a></span>
<span id="cb58-29"><a href="https://www.sigbus.info/compilerbook#cb58-29"></a>  printf(<span class="st">"  push rax</span><span class="sc">\n</span><span class="st">"</span>);</span>
<span id="cb58-30"><a href="https://www.sigbus.info/compilerbook#cb58-30"></a>}</span></code></pre></div>
<p>特にパースやコード生成において重要なポイントではないのですが、トリッキーな仕様の<code class="notranslate">idiv</code>命令が上のコードでは使われているので、それについて説明しておきましょう。</p>
<p><code class="notranslate">idiv</code>は符号あり除算を行う命令です。x86-64の<code class="notranslate">idiv</code>が素直な仕様になっていれば、上のコードでは本来<code class="notranslate">idiv rax, rdi</code>のように書きたかったところですが、そのような2つのレジスタをとる除算命令はx86-64には存在しません。その代わりに、<code class="notranslate">idiv</code>は暗黙のうちにRDXとRAXを取って、それを合わせたものを128ビット整数とみなして、それを引数のレジスタの64ビットの値で割り、商をRAXに、余りをRDXにセットする、という仕様になっています。<code class="notranslate">cqo</code>命令を使うと、RAXに入っている64ビットの値を128ビットに伸ばしてRDXとRAXにセットすることができるので、上記のコードでは<code class="notranslate">idiv</code>を呼ぶ前に<code class="notranslate">cqo</code>を呼んでいます。</p>
<p>さて、これでスタックマシンの説明は終わりです。ここまで読み進めたことによって、読者のみなさんは複雑な構文解析と、その構文解析の結果得られた抽象構文木をマシンコードに落とすことができるようになったはずです。その知識を活用するために、コンパイラ作成の作業に戻ってみましょう！</p>
<div class="invisible">
<p>掛け算や割り算のサイズ</p>
<p>一般にn桁の数を2つ掛けると、結果を表すためには2n桁必要になります。例えば3桁の10進数を掛けたときの最大の値を考えてみると、999×999=998001というように6桁の数になります。乗算をハードウェアで普通に実装すると、実際に引数のレジスタの2倍の桁数の結果が生成されます。x86-64ではその計算結果を無駄にすることなく、上位桁をRDXに、下位桁をRAXに保存することにしています。</p>
<p>割り算を普通に実装すると、割られる数は割る数の2倍の桁数が必要です。上位桁を0で埋めて計算を始めても構いませんが、x86-64ではRDXを使って上位桁の値を指定できるようになっています。また、割り算を行うと必然的に余りも同時に計算できてしまうのですが、それはRDXに保存されるという仕様になっています。</p>
<p>多くのRISCプロセッサは上記のx86-64のような機能は実装していません。RISCでは、掛け算では下位桁の結果だけがレジスタに保存され、割り算では上位桁は暗黙のうちに0で初期化される、といった仕様になっていることが多いようです。</p>
<p>そのような命令セットとx86-64を比較してみると、せっかく計算した値を無駄にしないx86-64の仕様の方が優れているように思えますが、実際には特にそういうわけでもありません。例えば掛け算においてアセンブリレベルでは常に2倍幅の結果が計算されているとはいっても、Cやそのほかの言語では結果の上位桁にアクセスする方法が特に規定されていないので、使いようがないというのが実際のところです。</p>
<p>また、多くのRISCプロセッサでは掛け算の上位桁と下位桁を計算する命令を別々に持っていて、2つの命令を使って2倍幅の結果を計算することが可能になっています。それらの命令は、連続して実行されるとき、ハードウェアが特別にそのパターンを認識して、内部的に1つの命令として実行するという最適化が行われていることがよくあります。したがって現代のプロセッサにおいては、RISCで大きな桁の数字を扱いたい時も、x86-64に比べて特に不利ということはありません。</p>
<p>x86-64の命令セットが現在の形になっている理由は歴史的事情によるところが多いのですが、掛け算や割り算もその一つの例です。</p>
</div>
<div class="note">
<p>コラム: 最適化コンパイラ</p>
<p>この章で筆者が説明に使ったx86-64のアセンブリはかなり非効率的に見えるかもしれません。例えばスタックに数値を<code class="notranslate">push</code>してそれを<code class="notranslate">pop</code>する命令は、直接レジスタにその値を<code class="notranslate">mov</code>する命令で書けば1命令で済むはずです。読者の中には、そういったアセンブリから冗長さを取り除いて最適化したいという気持ちが湧き上がってきている人もいることでしょう。しかし、その誘惑には負けないようにしてください。一番最初のコード生成では、コンパイラの実装の容易さを優先して冗長なコードを出力するのは、望ましいことなのです。</p>
<p>9ccには必要ならば後から最適化パスを付け足すことができます。生成されたアセンブリを再度スキャンして、特定のパターンで現れている命令列を別の命令列で置き換えることは難しくありません。例えば「<code class="notranslate">push</code>直後の<code class="notranslate">pop</code>は<code class="notranslate">mov</code>に置き換える」とか「連続している<code class="notranslate">add</code>が、即値（そくち）を同じレジスタに足している場合、その即値を合計した値を足す1つの<code class="notranslate">add</code>に置き換える」といったルールを作って、それを機械的に適用すれば、冗長なコードを、意味を変えることなくより効率的なコードに置き換えることができます。</p>
<p>コード生成と最適化を混ぜてしまうとコンパイラが複雑になってしまいます。最初から難しいコードになってしまうと、後から最適化パスを足すのはむしろ困難です。Donald Knuthが言っていたように「早すぎる最適化は全ての悪の元凶」なのです。読者の皆さんが作成するコンパイラでも、実装の簡単さだけを考慮するようにしてください。出力に含まれる明白な冗長さは後から取り除けるので心配する必要はありません。</p>
</div>
<h2 id="ステップ5四則演算のできる言語の作成"><a href="https://www.sigbus.info/compilerbook#%E3%82%B9%E3%83%86%E3%83%83%E3%83%975%E5%9B%9B%E5%89%87%E6%BC%94%E7%AE%97%E3%81%AE%E3%81%A7%E3%81%8D%E3%82%8B%E8%A8%80%E8%AA%9E%E3%81%AE%E4%BD%9C%E6%88%90" style="text-decoration: none; color: inherit;">ステップ5：四則演算のできる言語の作成</a></h2>
<p>この章では、前章までに作ってきたコンパイラを変更して、優先順位のカッコを含む四則演算の式を扱えるように拡張します。必要なパーツは揃っているので、新たに書くコードはほんのわずかです。コンパイラの<code class="notranslate">main</code>関数を変更して、新しく作成したパーサとコードジェネレータを使うようにしてみてください。下のようなコードになるはずです。</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode c notranslate"><code class="sourceCode c notranslate"><span id="cb59-1"><a href="https://www.sigbus.info/compilerbook#cb59-1"></a><span class="dt">int</span> main(<span class="dt">int</span> argc, <span class="dt">char</span> **argv) {</span>
<span id="cb59-2"><a href="https://www.sigbus.info/compilerbook#cb59-2"></a>  <span class="cf">if</span> (argc != <span class="dv">2</span>) {</span>
<span id="cb59-3"><a href="https://www.sigbus.info/compilerbook#cb59-3"></a>    error(<span class="st">"引数の個数が正しくありません"</span>);</span>
<span id="cb59-4"><a href="https://www.sigbus.info/compilerbook#cb59-4"></a>    <span class="cf">return</span> <span class="dv">1</span>;</span>
<span id="cb59-5"><a href="https://www.sigbus.info/compilerbook#cb59-5"></a>  }</span>
<span id="cb59-6"><a href="https://www.sigbus.info/compilerbook#cb59-6"></a></span>
<span id="cb59-7"><a href="https://www.sigbus.info/compilerbook#cb59-7"></a>  <span class="co">// トークナイズしてパースする</span></span>
<span id="cb59-8"><a href="https://www.sigbus.info/compilerbook#cb59-8"></a>  user_input = argv[<span class="dv">1</span>];</span>
<span id="cb59-9"><a href="https://www.sigbus.info/compilerbook#cb59-9"></a>  token = tokenize(user_input);</span>
<span id="cb59-10"><a href="https://www.sigbus.info/compilerbook#cb59-10"></a>  Node *node = expr();</span>
<span id="cb59-11"><a href="https://www.sigbus.info/compilerbook#cb59-11"></a></span>
<span id="cb59-12"><a href="https://www.sigbus.info/compilerbook#cb59-12"></a>  <span class="co">// アセンブリの前半部分を出力</span></span>
<span id="cb59-13"><a href="https://www.sigbus.info/compilerbook#cb59-13"></a>  printf(<span class="st">".intel_syntax noprefix</span><span class="sc">\n</span><span class="st">"</span>);</span>
<span id="cb59-14"><a href="https://www.sigbus.info/compilerbook#cb59-14"></a>  printf(<span class="st">".globl main</span><span class="sc">\n</span><span class="st">"</span>);</span>
<span id="cb59-15"><a href="https://www.sigbus.info/compilerbook#cb59-15"></a>  printf(<span class="st">"main:</span><span class="sc">\n</span><span class="st">"</span>);</span>
<span id="cb59-16"><a href="https://www.sigbus.info/compilerbook#cb59-16"></a></span>
<span id="cb59-17"><a href="https://www.sigbus.info/compilerbook#cb59-17"></a>  <span class="co">// 抽象構文木を下りながらコード生成</span></span>
<span id="cb59-18"><a href="https://www.sigbus.info/compilerbook#cb59-18"></a>  gen(node);</span>
<span id="cb59-19"><a href="https://www.sigbus.info/compilerbook#cb59-19"></a></span>
<span id="cb59-20"><a href="https://www.sigbus.info/compilerbook#cb59-20"></a>  <span class="co">// スタックトップに式全体の値が残っているはずなので</span></span>
<span id="cb59-21"><a href="https://www.sigbus.info/compilerbook#cb59-21"></a>  <span class="co">// それをRAXにロードして関数からの返り値とする</span></span>
<span id="cb59-22"><a href="https://www.sigbus.info/compilerbook#cb59-22"></a>  printf(<span class="st">"  pop rax</span><span class="sc">\n</span><span class="st">"</span>);</span>
<span id="cb59-23"><a href="https://www.sigbus.info/compilerbook#cb59-23"></a>  printf(<span class="st">"  ret</span><span class="sc">\n</span><span class="st">"</span>);</span>
<span id="cb59-24"><a href="https://www.sigbus.info/compilerbook#cb59-24"></a>  <span class="cf">return</span> <span class="dv">0</span>;</span>
<span id="cb59-25"><a href="https://www.sigbus.info/compilerbook#cb59-25"></a>}</span></code></pre></div>
<p>この段階まで進んだことで、加減乗除と優先順位のカッコからなる式が正しくコンパイルできるようになっているはずです。いくつかテストを追加しておきましょう。</p>
<pre class="notranslate"><code class="notranslate">assert 47 '5+6*7'
assert 15 '5*(9-6)'
assert 4 '(3+5)/2'</code></pre>
<p>なお、ここまでは説明の都合上、一気に<code class="notranslate">*</code>、<code class="notranslate">/</code>、<code class="notranslate">()</code>を実装しているような話の流れになっていますが、実際には一気に実装することは避ける方がよいでしょう。元々、加減算ができる機能があったわけですから、まずはその機能を壊さずに、抽象構文木とそれを使ったコードジェネレータを導入するようにしてみてください。そのときには新たな機能を足すわけではないので、新しいテストは必要ありません。その後に、<code class="notranslate">*</code>、<code class="notranslate">/</code>、<code class="notranslate">()</code>を、テスト込みで実装していってください。</p>
<div class="ref"><p style="font-weight: bold;">リファレンス実装</p>
<ul>
<li><a href="https://github.com/rui314/chibicc/commit/3c1e3831009edff2ea237d3e59680ba9d4bb2e14">3c1e3831009edff2</a></li>
</ul>
</div>
<div class="note">
<p>コラム: 9ccにおけるメモリ管理</p>
<p>読者は本書をここまで読んだところで、このコンパイラにおけるメモリ管理がどうなっているのか不思議に思っているかもしれません。ここまでに出てきたコードでは、（mallocの亜種の）callocは使っていますが、freeは呼んでいません。つまりアロケートしたメモリは解放されません。これは、いくらなんでも手抜きではないでしょうか？</p>
<p>実際にはこの「メモリ管理を行わないことをメモリ管理ポリシーとする」という設計は、いろいろなトレードオフを考慮した上で、筆者が意図的に選択したデザインです。</p>
<p>このデザインの利点として、メモリを解放しないことによって、まるでガベージコレクタがある言語のようにコードを書けるという点があります。これにより、メモリ管理を行うコードを書かなくてよくなるだけではなく、手動メモリ管理にまつわる不可解なバグを根本から断つことができます。</p>
<p>一方、freeをしないことによって発生する問題というのは、普通のPCのようなコンピュータで動かすことを考えると、実質的にあまり存在しません。コンパイラは1つのCファイルを読み込んでアセンブリを出力するだけの短命なプログラムです。プログラム終了時に確保されているメモリはOSによってすべて自動的に解放されます。したがって、トータルでどれくらいメモリを割り当てるかということだけが問題になるわけですが、筆者の実測ではかなり大きなCファイルをコンパイルしたときでもメモリ使用量は100MiB程度にすぎません。したがってfreeしないというのは現実的に有効な戦略なのです。例えばD言語のコンパイラDMDも、同じ考えから、mallocだけを行いfreeはしないというポリシーを採用しています。<a href="https://www.sigbus.info/compilerbook#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a></p>
</div>
<h2 id="ステップ6単項プラスと単項マイナス"><a href="https://www.sigbus.info/compilerbook#%E3%82%B9%E3%83%86%E3%83%83%E3%83%976%E5%8D%98%E9%A0%85%E3%83%97%E3%83%A9%E3%82%B9%E3%81%A8%E5%8D%98%E9%A0%85%E3%83%9E%E3%82%A4%E3%83%8A%E3%82%B9" style="text-decoration: none; color: inherit;">ステップ6：単項プラスと単項マイナス</a></h2>
<p>引き算を行う<code class="notranslate">-</code>演算子は、<code class="notranslate">5-3</code>のように2つの項の間に書くことだけではなく、<code class="notranslate">-3</code>のように単独の項の前に書くことができます。同様に<code class="notranslate">+</code>演算子も左辺を省略して<code class="notranslate">+3</code>のように書くことができます。このような1つの項だけを取る演算子のことを「<span class="index" id="index45">単項演算子</span>」（unary operator）といいます。それに対して、2つの項をとる演算子は「<span class="index" id="index46">2項演算子</span>」（binary operator）といいます。</p>
<p>Cには<code class="notranslate">+</code>と<code class="notranslate">-</code>以外に、ポインタを取得する<code class="notranslate">&amp;</code>やポインタをデリファレンスする<code class="notranslate">*</code>などの単項演算子が存在しますが、このステップでは<code class="notranslate">+</code>と<code class="notranslate">-</code>だけを実装することにします。</p>
<p>単項<code class="notranslate">+</code>と単項<code class="notranslate">-</code>は、2項の<code class="notranslate">+</code>や<code class="notranslate">-</code>と同じ記号ですが、定義は異なっています。2項の<code class="notranslate">-</code>は左辺から右辺を引く演算として定義されていますが、単項<code class="notranslate">-</code>にはそもそも左辺がないので、2項<code class="notranslate">-</code>の定義はそのままでは意味をなしません。Cでは単項<code class="notranslate">-</code>は右辺の正負を反転する演算として定義されています。単項<code class="notranslate">+</code>は右辺をそのまま返す演算子です。これは特になくても構わない演算子なのですが、単項<code class="notranslate">-</code>が存在するついでに存在しています。</p>
<p><code class="notranslate">+</code>や<code class="notranslate">-</code>は、単項と2項という、似て異なる定義の同名の演算子が複数存在していると考えるのが適切です。単項か2項かというのは文脈で見分けることになります。単項<code class="notranslate">+</code>/<code class="notranslate">-</code>を含んだ新しい文法は次のようになります。</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode scheme notranslate"><code class="sourceCode scheme notranslate"><span id="cb61-1"><a href="https://www.sigbus.info/compilerbook#cb61-1"></a>expr    <span class="op">=</span> mul (<span class="st">"+"</span> mul | <span class="st">"-"</span> mul)*</span>
<span id="cb61-2"><a href="https://www.sigbus.info/compilerbook#cb61-2"></a>mul     <span class="op">=</span> unary (<span class="st">"*"</span> unary | <span class="st">"/"</span> unary)*</span>
<span id="cb61-3"><a href="https://www.sigbus.info/compilerbook#cb61-3"></a>unary   <span class="op">=</span> (<span class="st">"+"</span> | <span class="st">"-"</span>)? primary</span>
<span id="cb61-4"><a href="https://www.sigbus.info/compilerbook#cb61-4"></a>primary <span class="op">=</span> num | <span class="st">"("</span> expr <span class="st">")"</span></span></code></pre></div>
<p>上記の新しい文法では<code class="notranslate">unary</code>という新しい非終端記号が増えていて、<code class="notranslate">mul</code>が<code class="notranslate">primary</code>ではなく<code class="notranslate">unary</code>を使うようになっています。<code class="notranslate">X?</code>は、オプショナルな、すなわち<code class="notranslate">X</code>が0回か1回出現する要素を表すEBNFの構文です。<code class="notranslate">unary = ("+" | "-")? primary</code>というルールでは、<code class="notranslate">unary</code>という非終端記号は、<code class="notranslate">+</code>か<code class="notranslate">-</code>が1つあってもなくてもよくて、そのあとに<code class="notranslate">primary</code>が続いているものを表しています。</p>
<p><code class="notranslate">-3</code>や<code class="notranslate">-(3+5)</code>、<code class="notranslate">-3*+5</code>などの式がこの新たな文法にマッチしていることを確認してみてください。以下に<code class="notranslate">-3*+5</code>の構文木を示します。</p>
<figure>
<img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIKICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPgo8IS0tIEdlbmVyYXRlZCBieSBncmFwaHZpeiB2ZXJzaW9uIDIuNDAuMSAoMjAxNjEyMjUuMDMwNCkKIC0tPgo8IS0tIFRpdGxlOiBHIFBhZ2VzOiAxIC0tPgo8c3ZnIHdpZHRoPSIzNTVwdCIgaGVpZ2h0PSI0MDRwdCIKIHZpZXdCb3g9IjAuMDAgMC4wMCAzNTUuMTAgNDA0LjAwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4KPGcgaWQ9ImdyYXBoMCIgY2xhc3M9ImdyYXBoIiB0cmFuc2Zvcm09InNjYWxlKDEgMSkgcm90YXRlKDApIHRyYW5zbGF0ZSg0IDQwMCkiPgo8dGl0bGU+RzwvdGl0bGU+Cjxwb2x5Z29uIGZpbGw9IiNmZmZmZmYiIHN0cm9rZT0idHJhbnNwYXJlbnQiIHBvaW50cz0iLTQsNCAtNCwtNDAwIDM1MS4xMDExLC00MDAgMzUxLjEwMTEsNCAtNCw0Ii8+CjwhLS0gZTEgLS0+CjxnIGlkPSJub2RlMSIgY2xhc3M9Im5vZGUiPgo8dGl0bGU+ZTE8L3RpdGxlPgo8ZWxsaXBzZSBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIGN4PSIxNjgiIGN5PSItMzc4IiByeD0iMjciIHJ5PSIxOCIvPgo8dGV4dCB0ZXh0LWFuY2hvcj0ibWlkZGxlIiB4PSIxNjgiIHk9Ii0zNzMuOCIgZm9udC1mYW1pbHk9IlRpbWVzLHNlcmlmIiBmb250LXNpemU9IjE0LjAwIiBmaWxsPSIjMDAwMDAwIj5leHByPC90ZXh0Pgo8L2c+CjwhLS0gZTMgLS0+CjxnIGlkPSJub2RlMiIgY2xhc3M9Im5vZGUiPgo8dGl0bGU+ZTM8L3RpdGxlPgo8ZWxsaXBzZSBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIGN4PSIxNjgiIGN5PSItMzA2IiByeD0iMjciIHJ5PSIxOCIvPgo8dGV4dCB0ZXh0LWFuY2hvcj0ibWlkZGxlIiB4PSIxNjgiIHk9Ii0zMDEuOCIgZm9udC1mYW1pbHk9IlRpbWVzLHNlcmlmIiBmb250LXNpemU9IjE0LjAwIiBmaWxsPSIjMDAwMDAwIj5tdWw8L3RleHQ+CjwvZz4KPCEtLSBlMSYjNDU7Jmd0O2UzIC0tPgo8ZyBpZD0iZWRnZTEiIGNsYXNzPSJlZGdlIj4KPHRpdGxlPmUxJiM0NTsmZ3Q7ZTM8L3RpdGxlPgo8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIGQ9Ik0xNjgsLTM1OS44MzE0QzE2OCwtMzUyLjEzMSAxNjgsLTM0Mi45NzQzIDE2OCwtMzM0LjQxNjYiLz4KPHBvbHlnb24gZmlsbD0iIzAwMDAwMCIgc3Ryb2tlPSIjMDAwMDAwIiBwb2ludHM9IjE3MS41MDAxLC0zMzQuNDEzMiAxNjgsLTMyNC40MTMzIDE2NC41MDAxLC0zMzQuNDEzMyAxNzEuNTAwMSwtMzM0LjQxMzIiLz4KPC9nPgo8IS0tIGU1IC0tPgo8ZyBpZD0ibm9kZTMiIGNsYXNzPSJub2RlIj4KPHRpdGxlPmU1PC90aXRsZT4KPGVsbGlwc2UgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBjeD0iOTMiIGN5PSItMjM0IiByeD0iMzAuNDg2MiIgcnk9IjE4Ii8+Cjx0ZXh0IHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjkzIiB5PSItMjI5LjgiIGZvbnQtZmFtaWx5PSJUaW1lcyxzZXJpZiIgZm9udC1zaXplPSIxNC4wMCIgZmlsbD0iIzAwMDAwMCI+dW5hcnk8L3RleHQ+CjwvZz4KPCEtLSBlMyYjNDU7Jmd0O2U1IC0tPgo8ZyBpZD0iZWRnZTMiIGNsYXNzPSJlZGdlIj4KPHRpdGxlPmUzJiM0NTsmZ3Q7ZTU8L3RpdGxlPgo8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIGQ9Ik0xNTIuNDYsLTI5MS4wODE2QzE0Mi4wNDE4LC0yODEuMDgwMSAxMjguMTMyMiwtMjY3LjcyNjkgMTE2LjM4NTgsLTI1Ni40NTA0Ii8+Cjxwb2x5Z29uIGZpbGw9IiMwMDAwMDAiIHN0cm9rZT0iIzAwMDAwMCIgcG9pbnRzPSIxMTguNjc1NCwtMjUzLjc5NjYgMTA5LjAzNzYsLTI0OS4zOTYxIDExMy44Mjc2LC0yNTguODQ2MyAxMTguNjc1NCwtMjUzLjc5NjYiLz4KPC9nPgo8IS0tICogLS0+CjxnIGlkPSJub2RlOCIgY2xhc3M9Im5vZGUiPgo8dGl0bGU+KjwvdGl0bGU+CjxlbGxpcHNlIGZpbGw9IiNmMGYwZjAiIHN0cm9rZT0iIzAwMDAwMCIgY3g9IjE2OCIgY3k9Ii0yMzQiIHJ4PSIyNyIgcnk9IjE4Ii8+Cjx0ZXh0IHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjE2OCIgeT0iLTIyOS44IiBmb250LWZhbWlseT0iVGltZXMsc2VyaWYiIGZvbnQtc2l6ZT0iMTQuMDAiIGZpbGw9IiMwMDAwMDAiPio8L3RleHQ+CjwvZz4KPCEtLSBlMyYjNDU7Jmd0OyogLS0+CjxnIGlkPSJlZGdlNyIgY2xhc3M9ImVkZ2UiPgo8dGl0bGU+ZTMmIzQ1OyZndDsqPC90aXRsZT4KPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBkPSJNMTY4LC0yODcuODMxNEMxNjgsLTI4MC4xMzEgMTY4LC0yNzAuOTc0MyAxNjgsLTI2Mi40MTY2Ii8+Cjxwb2x5Z29uIGZpbGw9IiMwMDAwMDAiIHN0cm9rZT0iIzAwMDAwMCIgcG9pbnRzPSIxNzEuNTAwMSwtMjYyLjQxMzIgMTY4LC0yNTIuNDEzMyAxNjQuNTAwMSwtMjYyLjQxMzMgMTcxLjUwMDEsLTI2Mi40MTMyIi8+CjwvZz4KPCEtLSBlOCAtLT4KPGcgaWQ9Im5vZGU5IiBjbGFzcz0ibm9kZSI+Cjx0aXRsZT5lODwvdGl0bGU+CjxlbGxpcHNlIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgY3g9IjI0MyIgY3k9Ii0yMzQiIHJ4PSIzMC40ODYyIiByeT0iMTgiLz4KPHRleHQgdGV4dC1hbmNob3I9Im1pZGRsZSIgeD0iMjQzIiB5PSItMjI5LjgiIGZvbnQtZmFtaWx5PSJUaW1lcyxzZXJpZiIgZm9udC1zaXplPSIxNC4wMCIgZmlsbD0iIzAwMDAwMCI+dW5hcnk8L3RleHQ+CjwvZz4KPCEtLSBlMyYjNDU7Jmd0O2U4IC0tPgo8ZyBpZD0iZWRnZTgiIGNsYXNzPSJlZGdlIj4KPHRpdGxlPmUzJiM0NTsmZ3Q7ZTg8L3RpdGxlPgo8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIGQ9Ik0xODMuNTQsLTI5MS4wODE2QzE5My45NTgyLC0yODEuMDgwMSAyMDcuODY3OCwtMjY3LjcyNjkgMjE5LjYxNDIsLTI1Ni40NTA0Ii8+Cjxwb2x5Z29uIGZpbGw9IiMwMDAwMDAiIHN0cm9rZT0iIzAwMDAwMCIgcG9pbnRzPSIyMjIuMTcyNCwtMjU4Ljg0NjMgMjI2Ljk2MjQsLTI0OS4zOTYxIDIxNy4zMjQ2LC0yNTMuNzk2NiAyMjIuMTcyNCwtMjU4Ljg0NjMiLz4KPC9nPgo8IS0tICYjNDU7IC0tPgo8ZyBpZD0ibm9kZTQiIGNsYXNzPSJub2RlIj4KPHRpdGxlPiYjNDU7PC90aXRsZT4KPGVsbGlwc2UgZmlsbD0iI2YwZjBmMCIgc3Ryb2tlPSIjMDAwMDAwIiBjeD0iMjciIGN5PSItMTYyIiByeD0iMjciIHJ5PSIxOCIvPgo8dGV4dCB0ZXh0LWFuY2hvcj0ibWlkZGxlIiB4PSIyNyIgeT0iLTE1Ny44IiBmb250LWZhbWlseT0iVGltZXMsc2VyaWYiIGZvbnQtc2l6ZT0iMTQuMDAiIGZpbGw9IiMwMDAwMDAiPiYjNDU7PC90ZXh0Pgo8L2c+CjwhLS0gZTUmIzQ1OyZndDsmIzQ1OyAtLT4KPGcgaWQ9ImVkZ2UyIiBjbGFzcz0iZWRnZSI+Cjx0aXRsZT5lNSYjNDU7Jmd0OyYjNDU7PC90aXRsZT4KPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBkPSJNNzguMzUyNSwtMjE4LjAyMDlDNjkuNDI5MSwtMjA4LjI4NjMgNTcuODgwNiwtMTk1LjY4OCA0Ny45OTU5LC0xODQuOTA0NiIvPgo8cG9seWdvbiBmaWxsPSIjMDAwMDAwIiBzdHJva2U9IiMwMDAwMDAiIHBvaW50cz0iNTAuNDkwOSwtMTgyLjQ0NjggNDEuMTUzNiwtMTc3LjQ0MDMgNDUuMzMwOCwtMTg3LjE3NjkgNTAuNDkwOSwtMTgyLjQ0NjgiLz4KPC9nPgo8IS0tIGU2IC0tPgo8ZyBpZD0ibm9kZTUiIGNsYXNzPSJub2RlIj4KPHRpdGxlPmU2PC90aXRsZT4KPGVsbGlwc2UgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBjeD0iMTEwIiBjeT0iLTE2MiIgcng9IjM4LjIwMjQiIHJ5PSIxOCIvPgo8dGV4dCB0ZXh0LWFuY2hvcj0ibWlkZGxlIiB4PSIxMTAiIHk9Ii0xNTcuOCIgZm9udC1mYW1pbHk9IlRpbWVzLHNlcmlmIiBmb250LXNpemU9IjE0LjAwIiBmaWxsPSIjMDAwMDAwIj5wcmltYXJ5PC90ZXh0Pgo8L2c+CjwhLS0gZTUmIzQ1OyZndDtlNiAtLT4KPGcgaWQ9ImVkZ2U0IiBjbGFzcz0iZWRnZSI+Cjx0aXRsZT5lNSYjNDU7Jmd0O2U2PC90aXRsZT4KPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBkPSJNOTcuMjg5OCwtMjE1LjgzMTRDOTkuMTU2MiwtMjA3LjkyNjYgMTAxLjM4NSwtMTk4LjQ4NzIgMTAzLjQ1MTEsLTE4OS43MzY1Ii8+Cjxwb2x5Z29uIGZpbGw9IiMwMDAwMDAiIHN0cm9rZT0iIzAwMDAwMCIgcG9pbnRzPSIxMDYuODc4OCwtMTkwLjQ1MDEgMTA1Ljc3MDQsLTE3OS45MTM0IDEwMC4wNjYxLC0xODguODQxNSAxMDYuODc4OCwtMTkwLjQ1MDEiLz4KPC9nPgo8IS0tIGU3IC0tPgo8ZyBpZD0ibm9kZTYiIGNsYXNzPSJub2RlIj4KPHRpdGxlPmU3PC90aXRsZT4KPGVsbGlwc2UgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBjeD0iMTEwIiBjeT0iLTkwIiByeD0iMjciIHJ5PSIxOCIvPgo8dGV4dCB0ZXh0LWFuY2hvcj0ibWlkZGxlIiB4PSIxMTAiIHk9Ii04NS44IiBmb250LWZhbWlseT0iVGltZXMsc2VyaWYiIGZvbnQtc2l6ZT0iMTQuMDAiIGZpbGw9IiMwMDAwMDAiPm51bTwvdGV4dD4KPC9nPgo8IS0tIGU2JiM0NTsmZ3Q7ZTcgLS0+CjxnIGlkPSJlZGdlNSIgY2xhc3M9ImVkZ2UiPgo8dGl0bGU+ZTYmIzQ1OyZndDtlNzwvdGl0bGU+CjxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgZD0iTTExMCwtMTQzLjgzMTRDMTEwLC0xMzYuMTMxIDExMCwtMTI2Ljk3NDMgMTEwLC0xMTguNDE2NiIvPgo8cG9seWdvbiBmaWxsPSIjMDAwMDAwIiBzdHJva2U9IiMwMDAwMDAiIHBvaW50cz0iMTEzLjUwMDEsLTExOC40MTMyIDExMCwtMTA4LjQxMzMgMTA2LjUwMDEsLTExOC40MTMzIDExMy41MDAxLC0xMTguNDEzMiIvPgo8L2c+CjwhLS0gMyAtLT4KPGcgaWQ9Im5vZGU3IiBjbGFzcz0ibm9kZSI+Cjx0aXRsZT4zPC90aXRsZT4KPGVsbGlwc2UgZmlsbD0iI2YwZjBmMCIgc3Ryb2tlPSIjMDAwMDAwIiBjeD0iMTEwIiBjeT0iLTE4IiByeD0iMjciIHJ5PSIxOCIvPgo8dGV4dCB0ZXh0LWFuY2hvcj0ibWlkZGxlIiB4PSIxMTAiIHk9Ii0xMy44IiBmb250LWZhbWlseT0iVGltZXMsc2VyaWYiIGZvbnQtc2l6ZT0iMTQuMDAiIGZpbGw9IiMwMDAwMDAiPjM8L3RleHQ+CjwvZz4KPCEtLSBlNyYjNDU7Jmd0OzMgLS0+CjxnIGlkPSJlZGdlNiIgY2xhc3M9ImVkZ2UiPgo8dGl0bGU+ZTcmIzQ1OyZndDszPC90aXRsZT4KPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBkPSJNMTEwLC03MS44MzE0QzExMCwtNjQuMTMxIDExMCwtNTQuOTc0MyAxMTAsLTQ2LjQxNjYiLz4KPHBvbHlnb24gZmlsbD0iIzAwMDAwMCIgc3Ryb2tlPSIjMDAwMDAwIiBwb2ludHM9IjExMy41MDAxLC00Ni40MTMyIDExMCwtMzYuNDEzMyAxMDYuNTAwMSwtNDYuNDEzMyAxMTMuNTAwMSwtNDYuNDEzMiIvPgo8L2c+CjwhLS0gKyAtLT4KPGcgaWQ9Im5vZGUxMCIgY2xhc3M9Im5vZGUiPgo8dGl0bGU+KzwvdGl0bGU+CjxlbGxpcHNlIGZpbGw9IiNmMGYwZjAiIHN0cm9rZT0iIzAwMDAwMCIgY3g9IjIyNiIgY3k9Ii0xNjIiIHJ4PSIyNyIgcnk9IjE4Ii8+Cjx0ZXh0IHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjIyNiIgeT0iLTE1Ny44IiBmb250LWZhbWlseT0iVGltZXMsc2VyaWYiIGZvbnQtc2l6ZT0iMTQuMDAiIGZpbGw9IiMwMDAwMDAiPis8L3RleHQ+CjwvZz4KPCEtLSBlOCYjNDU7Jmd0OysgLS0+CjxnIGlkPSJlZGdlOSIgY2xhc3M9ImVkZ2UiPgo8dGl0bGU+ZTgmIzQ1OyZndDsrPC90aXRsZT4KPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBkPSJNMjM4LjcxMDIsLTIxNS44MzE0QzIzNi44NDM4LC0yMDcuOTI2NiAyMzQuNjE1LC0xOTguNDg3MiAyMzIuNTQ4OSwtMTg5LjczNjUiLz4KPHBvbHlnb24gZmlsbD0iIzAwMDAwMCIgc3Ryb2tlPSIjMDAwMDAwIiBwb2ludHM9IjIzNS45MzM5LC0xODguODQxNSAyMzAuMjI5NiwtMTc5LjkxMzQgMjI5LjEyMTIsLTE5MC40NTAxIDIzNS45MzM5LC0xODguODQxNSIvPgo8L2c+CjwhLS0gZTkgLS0+CjxnIGlkPSJub2RlMTEiIGNsYXNzPSJub2RlIj4KPHRpdGxlPmU5PC90aXRsZT4KPGVsbGlwc2UgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBjeD0iMzA5IiBjeT0iLTE2MiIgcng9IjM4LjIwMjQiIHJ5PSIxOCIvPgo8dGV4dCB0ZXh0LWFuY2hvcj0ibWlkZGxlIiB4PSIzMDkiIHk9Ii0xNTcuOCIgZm9udC1mYW1pbHk9IlRpbWVzLHNlcmlmIiBmb250LXNpemU9IjE0LjAwIiBmaWxsPSIjMDAwMDAwIj5wcmltYXJ5PC90ZXh0Pgo8L2c+CjwhLS0gZTgmIzQ1OyZndDtlOSAtLT4KPGcgaWQ9ImVkZ2UxMCIgY2xhc3M9ImVkZ2UiPgo8dGl0bGU+ZTgmIzQ1OyZndDtlOTwvdGl0bGU+CjxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgZD0iTTI1Ny42NDc1LC0yMTguMDIwOUMyNjYuMTgxNiwtMjA4LjcxMDkgMjc3LjExNjgsLTE5Ni43ODE3IDI4Ni43MDE0LC0xODYuMzI1OCIvPgo8cG9seWdvbiBmaWxsPSIjMDAwMDAwIiBzdHJva2U9IiMwMDAwMDAiIHBvaW50cz0iMjg5LjUyODEsLTE4OC40MjE3IDI5My43MDU0LC0xNzguNjg1MSAyODQuMzY4LC0xODMuNjkxNiAyODkuNTI4MSwtMTg4LjQyMTciLz4KPC9nPgo8IS0tIGUxMCAtLT4KPGcgaWQ9Im5vZGUxMiIgY2xhc3M9Im5vZGUiPgo8dGl0bGU+ZTEwPC90aXRsZT4KPGVsbGlwc2UgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBjeD0iMzA5IiBjeT0iLTkwIiByeD0iMjciIHJ5PSIxOCIvPgo8dGV4dCB0ZXh0LWFuY2hvcj0ibWlkZGxlIiB4PSIzMDkiIHk9Ii04NS44IiBmb250LWZhbWlseT0iVGltZXMsc2VyaWYiIGZvbnQtc2l6ZT0iMTQuMDAiIGZpbGw9IiMwMDAwMDAiPm51bTwvdGV4dD4KPC9nPgo8IS0tIGU5JiM0NTsmZ3Q7ZTEwIC0tPgo8ZyBpZD0iZWRnZTExIiBjbGFzcz0iZWRnZSI+Cjx0aXRsZT5lOSYjNDU7Jmd0O2UxMDwvdGl0bGU+CjxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgZD0iTTMwOSwtMTQzLjgzMTRDMzA5LC0xMzYuMTMxIDMwOSwtMTI2Ljk3NDMgMzA5LC0xMTguNDE2NiIvPgo8cG9seWdvbiBmaWxsPSIjMDAwMDAwIiBzdHJva2U9IiMwMDAwMDAiIHBvaW50cz0iMzEyLjUwMDEsLTExOC40MTMyIDMwOSwtMTA4LjQxMzMgMzA1LjUwMDEsLTExOC40MTMzIDMxMi41MDAxLC0xMTguNDEzMiIvPgo8L2c+CjwhLS0gNSAtLT4KPGcgaWQ9Im5vZGUxMyIgY2xhc3M9Im5vZGUiPgo8dGl0bGU+NTwvdGl0bGU+CjxlbGxpcHNlIGZpbGw9IiNmMGYwZjAiIHN0cm9rZT0iIzAwMDAwMCIgY3g9IjMwOSIgY3k9Ii0xOCIgcng9IjI3IiByeT0iMTgiLz4KPHRleHQgdGV4dC1hbmNob3I9Im1pZGRsZSIgeD0iMzA5IiB5PSItMTMuOCIgZm9udC1mYW1pbHk9IlRpbWVzLHNlcmlmIiBmb250LXNpemU9IjE0LjAwIiBmaWxsPSIjMDAwMDAwIj41PC90ZXh0Pgo8L2c+CjwhLS0gZTEwJiM0NTsmZ3Q7NSAtLT4KPGcgaWQ9ImVkZ2UxMiIgY2xhc3M9ImVkZ2UiPgo8dGl0bGU+ZTEwJiM0NTsmZ3Q7NTwvdGl0bGU+CjxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgZD0iTTMwOSwtNzEuODMxNEMzMDksLTY0LjEzMSAzMDksLTU0Ljk3NDMgMzA5LC00Ni40MTY2Ii8+Cjxwb2x5Z29uIGZpbGw9IiMwMDAwMDAiIHN0cm9rZT0iIzAwMDAwMCIgcG9pbnRzPSIzMTIuNTAwMSwtNDYuNDEzMiAzMDksLTM2LjQxMzMgMzA1LjUwMDEsLTQ2LjQxMzMgMzEyLjUwMDEsLTQ2LjQxMzIiLz4KPC9nPgo8L2c+Cjwvc3ZnPgo=" alt=""><figcaption>-3*+5の構文木</figcaption>
</figure>
<p>この新しい文法に従うようにパーサを変更してみましょう。例によって、文法をそのまま関数呼び出しにマップすることでパーサの変更は完了するはずです。<code class="notranslate">unary</code>をパースする関数を下に示します。</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode c notranslate"><code class="sourceCode c notranslate"><span id="cb62-1"><a href="https://www.sigbus.info/compilerbook#cb62-1"></a>Node *unary() {</span>
<span id="cb62-2"><a href="https://www.sigbus.info/compilerbook#cb62-2"></a>  <span class="cf">if</span> (consume(<span class="ch">'+'</span>))</span>
<span id="cb62-3"><a href="https://www.sigbus.info/compilerbook#cb62-3"></a>    <span class="cf">return</span> primary();</span>
<span id="cb62-4"><a href="https://www.sigbus.info/compilerbook#cb62-4"></a>  <span class="cf">if</span> (consume(<span class="ch">'-'</span>))</span>
<span id="cb62-5"><a href="https://www.sigbus.info/compilerbook#cb62-5"></a>    <span class="cf">return</span> new_node(ND_SUB, new_node_num(<span class="dv">0</span>), primary());</span>
<span id="cb62-6"><a href="https://www.sigbus.info/compilerbook#cb62-6"></a>  <span class="cf">return</span> primary();</span>
<span id="cb62-7"><a href="https://www.sigbus.info/compilerbook#cb62-7"></a>}</span></code></pre></div>
<p>ここではパースの段階で<code class="notranslate">+x</code>を<code class="notranslate">x</code>に、<code class="notranslate">-x</code>を<code class="notranslate">0-x</code>に置き換えてしまうことにしました。したがってこのステップではコード生成器の変更は必要ありません。</p>
<p>テストを数個書いて、単項<code class="notranslate">+</code>/<code class="notranslate">-</code>を追加するコードと一緒にチェックインすれば、このステップは完了です。テストを書く時には、テスト結果を0〜255の範囲に収めるようにしましょう。<code class="notranslate">-10+20</code>のような式は、単項<code class="notranslate">-</code>を使いつつも全体の値は正の数になっているので、こういったテストを使ってください。</p>
<div class="ref"><p style="font-weight: bold;">リファレンス実装</p>
<ul>
<li><a href="https://github.com/rui314/chibicc/commit/bb5fe99dbad62c9516ec6a4bc64e444d09115e6d">bb5fe99dbad62c95</a></li>
</ul>
</div>
<div id="unaryplus" class="note">
<p>コラム: 単項プラスと文法の良し悪し</p>
<p>単項<code class="notranslate">+</code>演算子はオリジナルのCコンパイラには存在しておらず、1989年にANSI（アメリカ国家規格協会）でCが標準化されたときに、公式に言語に追加されました。単項<code class="notranslate">-</code>がある以上、単項<code class="notranslate">+</code>もあったほうが対称性が高くてその意味でよいのは確かですが、実際のところは単項<code class="notranslate">+</code>は特に使い道がありません。</p>
<p>一方で単項<code class="notranslate">+</code>を文法に追加したことによる副作用もあります。Cに慣れていない人が<code class="notranslate">+=</code>演算子を誤って<code class="notranslate">i =+ 3</code>のように書いてしまったとしましょう。単項<code class="notranslate">+</code>がなければこれは単なる不正な式ですが、単項<code class="notranslate">+</code>があるためにこれは<code class="notranslate">i = +3</code>と書いたのと同じように解釈されて、<code class="notranslate">i</code>に3を代入する正当な代入式としてコンパイラに黙って受け付けられてしまいます。</p>
<p>ANSIのC言語標準化委員会は、上記の問題を理解した上で単項<code class="notranslate">+</code>を言語に追加するという判断を下したわけですが、読者の皆さんはどう思いますか？ あなたがそのときC標準化委員会に属していたら、賛成しますか？ 反対しますか？</p>
</div>
<h2 id="ステップ7-比較演算子"><a href="https://www.sigbus.info/compilerbook#%E3%82%B9%E3%83%86%E3%83%83%E3%83%977-%E6%AF%94%E8%BC%83%E6%BC%94%E7%AE%97%E5%AD%90" style="text-decoration: none; color: inherit;">ステップ7: 比較演算子</a></h2>
<p>この節では、<code class="notranslate">&lt;</code>、<code class="notranslate">&lt;=</code>、<code class="notranslate">&gt;</code>、<code class="notranslate">&gt;=</code>、<code class="notranslate">==</code>、<code class="notranslate">!=</code>を実装します。これらの比較演算子は特殊な意味を持っているように見えますが、実際には<code class="notranslate">+</code>や<code class="notranslate">-</code>などと同じように、2つの整数を受け取って1つの整数を返す普通の2項演算子です。<code class="notranslate">+</code>が両辺を足した結果を返すように、例えば<code class="notranslate">==</code>は両辺が同じ場合は1を、違う場合は0を返します。</p>
<h3 id="トークナイザの変更"><a href="https://www.sigbus.info/compilerbook#%E3%83%88%E3%83%BC%E3%82%AF%E3%83%8A%E3%82%A4%E3%82%B6%E3%81%AE%E5%A4%89%E6%9B%B4" style="text-decoration: none; color: inherit;">トークナイザの変更</a></h3>
<p>今までに扱ってきた記号トークンは長さがどれも1文字で、コードでもそれを前提にしてきましたが、<code class="notranslate">==</code>などの比較演算子を扱うためにはコードを一般化する必要があります。文字列の長さをトークンに保存できるように、<code class="notranslate">len</code>というメンバを<code class="notranslate">Token</code>構造体に保存することにしましょう。新しい構造体の型を下に示します。</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode c notranslate"><code class="sourceCode c notranslate"><span id="cb63-1"><a href="https://www.sigbus.info/compilerbook#cb63-1"></a><span class="kw">struct</span> Token {</span>
<span id="cb63-2"><a href="https://www.sigbus.info/compilerbook#cb63-2"></a>  TokenKind kind; <span class="co">// トークンの型</span></span>
<span id="cb63-3"><a href="https://www.sigbus.info/compilerbook#cb63-3"></a>  Token *next;    <span class="co">// 次の入力トークン</span></span>
<span id="cb63-4"><a href="https://www.sigbus.info/compilerbook#cb63-4"></a>  <span class="dt">int</span> val;        <span class="co">// kindがTK_NUMの場合、その数値</span></span>
<span id="cb63-5"><a href="https://www.sigbus.info/compilerbook#cb63-5"></a>  <span class="dt">char</span> *str;      <span class="co">// トークン文字列</span></span>
<span id="cb63-6"><a href="https://www.sigbus.info/compilerbook#cb63-6"></a>  <span class="dt">int</span> len;        <span class="co">// トークンの長さ</span></span>
<span id="cb63-7"><a href="https://www.sigbus.info/compilerbook#cb63-7"></a>};</span></code></pre></div>
<p>この変更に伴って、<code class="notranslate">consume</code>や<code class="notranslate">expect</code>といった関数にも変更を加えて、それらの関数が文字ではなく文字列を取るように改良する必要があります。変更を加えた例を以下に示します。</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode c notranslate"><code class="sourceCode c notranslate"><span id="cb64-1"><a href="https://www.sigbus.info/compilerbook#cb64-1"></a><span class="dt">bool</span> consume(<span class="dt">char</span> *op) {</span>
<span id="cb64-2"><a href="https://www.sigbus.info/compilerbook#cb64-2"></a>  <span class="cf">if</span> (token-&gt;kind != TK_RESERVED ||</span>
<span id="cb64-3"><a href="https://www.sigbus.info/compilerbook#cb64-3"></a>      strlen(op) != token-&gt;len ||</span>
<span id="cb64-4"><a href="https://www.sigbus.info/compilerbook#cb64-4"></a>      memcmp(token-&gt;str, op, token-&gt;len))</span>
<span id="cb64-5"><a href="https://www.sigbus.info/compilerbook#cb64-5"></a>    <span class="cf">return</span> false;</span>
<span id="cb64-6"><a href="https://www.sigbus.info/compilerbook#cb64-6"></a>  token = token-&gt;next;</span>
<span id="cb64-7"><a href="https://www.sigbus.info/compilerbook#cb64-7"></a>  <span class="cf">return</span> true;</span>
<span id="cb64-8"><a href="https://www.sigbus.info/compilerbook#cb64-8"></a>}</span></code></pre></div>
<p>複数の文字からなる記号をトークナイズする場合、長いトークンから先にトークナイズする必要があります。たとえば残りの文字列が<code class="notranslate">&gt;</code>から始まっている場合、まず<code class="notranslate">strncmp(p, "&gt;=", 2)</code>のように<code class="notranslate">&gt;=</code>である可能性から先にチェックしないで、<code class="notranslate">&gt;</code>から始まっている可能性をチェックしてしまうと、<code class="notranslate">&gt;=</code>が<code class="notranslate">&gt;</code>と<code class="notranslate">=</code>という2つのトークンとして誤ってトークナイズされてしまいます。</p>
<h3 id="新しい文法"><a href="https://www.sigbus.info/compilerbook#%E6%96%B0%E3%81%97%E3%81%84%E6%96%87%E6%B3%95" style="text-decoration: none; color: inherit;">新しい文法</a></h3>
<p>比較演算子のサポートをパーサに追加するために、比較演算子を加えた文法がどのようになるのかを考えてみましょう。今までに出てきた演算子を優先順位の低い順から高い順に書くと次のようになります。</p>
<ol>
<li><code class="notranslate">==</code> <code class="notranslate">!=</code></li>
<li><code class="notranslate">&lt;</code> <code class="notranslate">&lt;=</code> <code class="notranslate">&gt;</code> <code class="notranslate">&gt;=</code></li>
<li><code class="notranslate">+</code> <code class="notranslate">-</code></li>
<li><code class="notranslate">*</code> <code class="notranslate">/</code></li>
<li>単項<code class="notranslate">+</code> 単項<code class="notranslate">-</code></li>
<li><code class="notranslate">()</code></li>
</ol>
<p>優先順位は生成文法で表現可能で、優先順位の異なる演算子は別の非終端記号にマップされるのでした。<code class="notranslate">expr</code>や<code class="notranslate">mul</code>と同様に文法を考えてみると、比較演算子を加えた新しい文法は以下のようになります。</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode scheme notranslate"><code class="sourceCode scheme notranslate"><span id="cb65-1"><a href="https://www.sigbus.info/compilerbook#cb65-1"></a>expr       <span class="op">=</span> equality</span>
<span id="cb65-2"><a href="https://www.sigbus.info/compilerbook#cb65-2"></a>equality   <span class="op">=</span> relational (<span class="st">"=="</span> relational | <span class="st">"!="</span> relational)*</span>
<span id="cb65-3"><a href="https://www.sigbus.info/compilerbook#cb65-3"></a>relational <span class="op">=</span> add (<span class="st">"&lt;"</span> add | <span class="st">"&lt;="</span> add | <span class="st">"&gt;"</span> add | <span class="st">"&gt;="</span> add)*</span>
<span id="cb65-4"><a href="https://www.sigbus.info/compilerbook#cb65-4"></a>add        <span class="op">=</span> mul (<span class="st">"+"</span> mul | <span class="st">"-"</span> mul)*</span>
<span id="cb65-5"><a href="https://www.sigbus.info/compilerbook#cb65-5"></a>mul        <span class="op">=</span> unary (<span class="st">"*"</span> unary | <span class="st">"/"</span> unary)*</span>
<span id="cb65-6"><a href="https://www.sigbus.info/compilerbook#cb65-6"></a>unary      <span class="op">=</span> (<span class="st">"+"</span> | <span class="st">"-"</span>)? primary</span>
<span id="cb65-7"><a href="https://www.sigbus.info/compilerbook#cb65-7"></a>primary    <span class="op">=</span> num | <span class="st">"("</span> expr <span class="st">")"</span></span></code></pre></div>
<p><code class="notranslate">equality</code>は<code class="notranslate">==</code>と<code class="notranslate">!=</code>を、<code class="notranslate">relational</code>は<code class="notranslate">&lt;</code>、<code class="notranslate">&lt;=</code>、<code class="notranslate">&gt;</code>、<code class="notranslate">&gt;=</code>を表しています。これらの非終端記号は、左結合の演算子をパースするパターンを使ってそのまま関数にマップすることができます。</p>
<p>なお、上記の文法では、式全体が<code class="notranslate">equality</code>であるということを表すために、<code class="notranslate">expr</code>と<code class="notranslate">equality</code>を分離しました。<code class="notranslate">expr</code>の右辺に<code class="notranslate">equality</code>の右辺を直接書いてもよかったのですが、おそらく上記の文法の方が見やすいと思います。</p>
<div id="code_complexity" class="note">
<p>コラム: 単純で冗長なコードと、高度で簡潔なコード</p>
<p>再帰下降構文解析では生成規則にほぼそのまま対応したコードを書くことになるので、同じような規則をパースする関数は、同じような見た目になります。ここまでに書いた<code class="notranslate">relational</code>、<code class="notranslate">equality</code>、<code class="notranslate">add</code>、<code class="notranslate">mul</code>も、同じような見た目の関数になっているはずです。</p>
<p>そういった関数に共通するパターンを、CのマクロやC++のテンプレート、高階関数やコード生成などのメタプログラミングのテクニックを使ってうまく抽象化できないかと考えることは、おそらく自然な発想でしょう。実際、そのようなことを行うことは可能です。しかし本書では、あえてそういったことを行なっていません。その理由は以下の通りです。</p>
<p>単純なコードは、やや冗長であっても理解するのは簡単です。似たような関数に同じような変更を後で加えることになったとしても、実際のところそれは大した手間ではありません。一方、高度に抽象化されたコードは、その抽象化メカニズムをまず理解し、それをどう使っているのかを次に理解する必要があるので、難解になりがちです。例えば、メタプログラミングを使って再帰下降構文解析の関数を生成する関数を書くところから本書の解説を始めていたら、この本はもっと難しい本になってしまっていたでしょう。</p>
<p>技巧を凝らした簡潔なコードを書くことを常に目指す必要はありません。そういうことを目指していると、それ以上難しくできないところまでコードを難しくしてしまいがちです。</p>
<p>コードを書いている本人はそのコードのエキスパートになるので、エキスパート目線から見た簡潔で無駄のないコードを良いコードだと感じがちですが、大半のコードの読者は筆者と同じ感覚は共有しておらず、そもそもそこまで習熟する必要性もないので、コードの筆者としての自分の感覚はある程度疑ってかかる必要があります。「もっといい書き方がありそうな単純なコード」を必要に応じてあえて書くというのは、理解しやすくメンテナンスしやすいプログラムを作るための一つの重要なテクニックです。</p>
</div>
<h3 id="アセンブリコードの生成"><a href="https://www.sigbus.info/compilerbook#%E3%82%A2%E3%82%BB%E3%83%B3%E3%83%96%E3%83%AA%E3%82%B3%E3%83%BC%E3%83%89%E3%81%AE%E7%94%9F%E6%88%90" style="text-decoration: none; color: inherit;">アセンブリコードの生成</a></h3>
<p>x86-64では、比較はcmp命令を使って行います。スタックから2つの整数をポップして比較を行い、同一の場合に1、そうでなければ0をRAXにセットするコードは次のようになります。</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode asm notranslate"><code class="sourceCode fasm notranslate"><span id="cb66-1"><a href="https://www.sigbus.info/compilerbook#cb66-1"></a><span class="bu">pop</span> <span class="kw">rdi</span></span>
<span id="cb66-2"><a href="https://www.sigbus.info/compilerbook#cb66-2"></a><span class="bu">pop</span> <span class="kw">rax</span></span>
<span id="cb66-3"><a href="https://www.sigbus.info/compilerbook#cb66-3"></a><span class="bu">cmp</span> <span class="kw">rax</span>, <span class="kw">rdi</span></span>
<span id="cb66-4"><a href="https://www.sigbus.info/compilerbook#cb66-4"></a><span class="bu">sete</span> <span class="kw">al</span></span>
<span id="cb66-5"><a href="https://www.sigbus.info/compilerbook#cb66-5"></a>movzb <span class="kw">rax</span>, <span class="kw">al</span></span></code></pre></div>
<p>このコードは、短いアセンブリながらやや盛りだくさんなので、ステップバイステップでコードを見ていきましょう。</p>
<p>最初の2行では値をスタックからポップしています。3行目では、それらのポップしてきた値を比較（compare）しています。比較結果はどこにいくのでしょうか？ x86-64では、比較命令の結果は特別な「<span class="index" id="index47">フラグレジスタ</span>」というものにセットされます。フラグレジスタは整数演算や比較演算命令が実行されるたびに更新されるレジスタで、結果が0かどうかといったビットや、桁あふれが発生したかどうかというビット、結果が0未満かどうかといったビットなどを持っています。</p>
<p>フラグレジスタは通常の整数レジスタではないので、RAXに比較結果をセットしたい場合、フラグレジスタの特定のビットをRAXにコピーしてくる必要があります。それを行うのが<code class="notranslate">sete</code>命令です。<code class="notranslate">sete</code>命令は、直前の<code class="notranslate">cmp</code>命令で調べた2つのレジスタの値が同じだった場合に、指定されたレジスタ（ここではAL）に1をセットします。それ以外の場合は0をセットします。</p>
<p>ALというのは本書のここまでに登場していない新しいレジスタ名ですが、実はALはRAXの下位8ビットを指す別名レジスタにすぎません。従って<code class="notranslate">sete</code>がALに値をセットすると、自動的にRAXも更新されることになります。ただし、RAXをAL経由で更新するときに上位56ビットは元の値のままになるので、RAX全体を0か1にセットしたい場合、上位56ビットはゼロクリアする必要があります。それを行うのが<code class="notranslate">movzb</code>命令です。<code class="notranslate">sete</code>命令が直接RAXに書き込めればよいのですが、<code class="notranslate">sete</code>は8ビットレジスタしか引数に取れない仕様になっているので、比較命令では、このように2つの命令を使ってRAXに値をセットすることになります。</p>
<p><img src="data:image/svg+xml;base64,PCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIHdpZHRoPSI2NDJweCIgaGVpZ2h0PSIxMTFweCIgdmlld0JveD0iLTAuNSAtMC41IDY0MiAxMTEiIGNvbnRlbnQ9IiZsdDtteGZpbGUgbW9kaWZpZWQ9JnF1b3Q7MjAxOS0wNS0yOVQwMTo1NjoxMi44MTlaJnF1b3Q7IGhvc3Q9JnF1b3Q7d3d3LmRyYXcuaW8mcXVvdDsgYWdlbnQ9JnF1b3Q7TW96aWxsYS81LjAgKE1hY2ludG9zaDsgSW50ZWwgTWFjIE9TIFggMTBfMTRfNSkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzc0LjAuMzcyOS4xNjkgU2FmYXJpLzUzNy4zNiZxdW90OyB2ZXJzaW9uPSZxdW90OzEwLjcuMCZxdW90OyBldGFnPSZxdW90O2ZzQUtHOG04VHM2aUx1Q2VLMWhWJnF1b3Q7IHR5cGU9JnF1b3Q7Z29vZ2xlJnF1b3Q7Jmd0OyZsdDtkaWFncmFtIGlkPSZxdW90OzRUM0J1YlFSUjh6anVhVmhyUXJfJnF1b3Q7Jmd0OzVaaEJrNW93Rk1jL0RjZWRBUUtvUjNXMzdhRzkxRU43VFNGQ1prTkNRMWkxbjc0dmtJZ1l0MnVuRzl2T2V0RHdmd25KKy8xZk1tQ0ExdlgrdmNSTjlVa1VoQVZ4V093RGRCL0U4U0lPNFZzTGgwR1lwMFlvSlMwR0tScUZEZjFCakdpN2RiUWc3YVNqRW9JcDJrekZYSEJPY2pYUnNKUmlOKzIyRld3NmE0Tkw0Z2liSEROWC9VSUxWWjFsb2ZVUGhKYVZuVGtLVGFUR3RyTVIyZ29YWW5jaW9ZY0FyYVVRYW1qVit6VmhtcDNsTW94NzkwejB1REJKdUxwbVFEd01lTUtzTTdtWmRhbURUVmFLamhkRTl3OER0TnBWVkpGTmczTWQzWUc3b0ZXcVpuQVZRYk5WVWp5U3RXQkM5cU5SMkg4Z3NoVmNHU2VqQks3TnhFUXFzbjkyOGRFUkNaUVNFVFZSOGdCZHpJQzVnV2lxS0ExblJ0aU5wcVNaMGFvVFF5eDliT3FnUE41NlJBVU5RK3N5T1hTQlhNWmdnbFZCbnlZRXMrK2R0bk1GaWFvN3pHakpBN1RVMVFscEV0bWpDRFdkdTdiSG8wTlIwdXo3Z0IwTHJkTDg5bk44a3hlbitOM2JRSkw5YXEzNko5YWJ6Tzdsd05tSDRWbHloZU56VDRZbkwyOFYyTTJOYnVhZFpJZVZ4UGtqVVMrREd5bEhmZlZJT0xLbzBDaGIwZW1zYnJKM2t0UWhlY1Q5MmloVEIrWG41VmVIcHQ0dnZ6cGR1T0JFdzZHTW5VbTJGSTg3VEtPaWNINHZUYUNtUmFHbnVXak50T285c0VjTy9OaUY3NHQ5ZHZzeTVrTDZLbVAzUkZpNEtIMmRDRE1INWZMajI2bmlMRHRESDBXM3ErSzVnejVESHRBenNsV3ZDNzZGenBTWGNKbmQ3aUhJbHdzTHg0VzVCeFBzQThXLzdFSVcva1ViN0d2UmlRK3p0N2tacm5wQTlHWkQ1TmdRZXJEaHY5Z09OenlWNEhKOFgrNWpKMzg2b0llZiZsdDsvZGlhZ3JhbSZndDsmbHQ7L214ZmlsZSZndDsiPjxkZWZzLz48Zz48cmVjdCB4PSIwIiB5PSI0NSIgd2lkdGg9IjU2MCIgaGVpZ2h0PSIyMCIgZmlsbD0iI2ZmZmZmZiIgc3Ryb2tlPSIjMDAwMDAwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxyZWN0IHg9IjU2MCIgeT0iNDUiIHdpZHRoPSI4MCIgaGVpZ2h0PSIyMCIgZmlsbD0iI2ZmZmZmZiIgc3Ryb2tlPSIjMDAwMDAwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDYzNi41LDQ3LjUpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjEiIGhlaWdodD0iMTQiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxNHB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMXB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IHJpZ2h0OyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPjxkaXYgc3R5bGU9InRleHQtYWxpZ246IGNlbnRlciA7IGZvbnQtc2l6ZTogMTRweCI+PGJyIHN0eWxlPSJmb250LXNpemU6IDE0cHgiIC8+PC9kaXY+PC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjAiIHk9IjE0IiBmaWxsPSIjMDAwMDAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjE0cHgiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EiPiZsdDtkaXYgc3R5bGU9InRleHQtYWxpZ246IGNlbnRlciA7IGZvbnQtc2l6ZTogMTRweCImZ3Q7Jmx0O2JyIHN0eWxlPSJmb250LXNpemU6IDE0cHgiJmd0OyZsdDsvZGl2Jmd0OzwvdGV4dD48L3N3aXRjaD48L2c+PHBhdGggZD0iTSAzMzAgLTI5MCBMIDMyNSAtMjkwIFEgMzIwIC0yOTAgMzIwIC0yODAgTCAzMjAgMjAgUSAzMjAgMzAgMzE1IDMwIEwgMzEyLjUgMzAgUSAzMTAgMzAgMzE1IDMwIEwgMzE3LjUgMzAgUSAzMjAgMzAgMzIwIDQwIEwgMzIwIDM0MCBRIDMyMCAzNTAgMzI1IDM1MCBMIDMzMCAzNTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiB0cmFuc2Zvcm09InJvdGF0ZSg5MCwzMjAsMzApIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDMwNS41LDIuNSkiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iMjgiIGhlaWdodD0iMTQiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxNHB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMzBweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0OyI+UkFYPC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjE0IiB5PSIxNCIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxNHB4IiBmb250LWZhbWlseT0iSGVsdmV0aWNhIj5SQVg8L3RleHQ+PC9zd2l0Y2g+PC9nPjxwYXRoIGQ9Ik0gNjEwIDQwIEwgNjA1IDQwIFEgNjAwIDQwIDYwMCA1MCBMIDYwMCA3MCBRIDYwMCA4MCA1OTUgODAgTCA1OTIuNSA4MCBRIDU5MCA4MCA1OTUgODAgTCA1OTcuNSA4MCBRIDYwMCA4MCA2MDAgOTAgTCA2MDAgMTEwIFEgNjAwIDEyMCA2MDUgMTIwIEwgNjEwIDEyMCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHRyYW5zZm9ybT0icm90YXRlKDI3MCw2MDAsODApIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDU5MC41LDkyLjUpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjE4IiBoZWlnaHQ9IjE0IiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTRweDsgZm9udC1mYW1pbHk6IEhlbHZldGljYTsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDE4cHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPkFMPC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjkiIHk9IjE0IiBmaWxsPSIjMDAwMDAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjE0cHgiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EiPkFMPC90ZXh0Pjwvc3dpdGNoPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1LjUsNDcuNSkiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iMTYiIGhlaWdodD0iMTQiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxNHB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMTdweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPjYzPC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjgiIHk9IjE0IiBmaWxsPSIjMDAwMDAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjE0cHgiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EiPjYzPC90ZXh0Pjwvc3dpdGNoPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1NDUuNSw0Ny41KSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSI4IiBoZWlnaHQ9IjE0IiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTRweDsgZm9udC1mYW1pbHk6IEhlbHZldGljYTsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDlweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiByaWdodDsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7Ij44PC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjQiIHk9IjE0IiBmaWxsPSIjMDAwMDAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjE0cHgiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EiPjg8L3RleHQ+PC9zd2l0Y2g+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDU2NS41LDQ3LjUpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjgiIGhlaWdodD0iMTQiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxNHB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogOXB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0OyI+NzwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSI0IiB5PSIxNCIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxNHB4IiBmb250LWZhbWlseT0iSGVsdmV0aWNhIj43PC90ZXh0Pjwvc3dpdGNoPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg2MjUuNSw0Ny41KSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSI4IiBoZWlnaHQ9IjE0IiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTRweDsgZm9udC1mYW1pbHk6IEhlbHZldGljYTsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDlweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiByaWdodDsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7Ij4wPC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjQiIHk9IjE0IiBmaWxsPSIjMDAwMDAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjE0cHgiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EiPjA8L3RleHQ+PC9zd2l0Y2g+PC9nPjwvZz48L3N2Zz4=" class="fig"></p>
<p><code class="notranslate">sete</code>の代わりに別の命令を使うことで、その他の比較演算子を実装することができます。<code class="notranslate">&lt;</code>では<code class="notranslate">setl</code>、<code class="notranslate">&lt;=</code>では<code class="notranslate">setle</code>、<code class="notranslate">!=</code>では<code class="notranslate">setne</code>を使うようにしてください。</p>
<p><code class="notranslate">&gt;</code>と<code class="notranslate">&gt;=</code>はコードジェネレータでサポートする必要はありません。パーサで両辺を入れ替えて<code class="notranslate">&lt;</code>や<code class="notranslate">&lt;=</code>として読み換えるようにしてください。</p>
<div class="ref"><p style="font-weight: bold;">リファレンス実装</p>
<ul>
<li><a href="https://github.com/rui314/chibicc/commit/6ddba4be5f63388607fc77fd786267b9ddcb14c9">6ddba4be5f633886</a></li>
</ul>
</div>
<div class="note">
<p>コラム: フラグレジスタとハードウェア</p>
<p>値の比較結果が、普通の整数レジスタと異なる特別なレジスタに暗黙のうちに保存されるというこのx86-64の仕様は、最初はわかりにくく感じるかもしれません。実際、RISCプロセッサでは、フラグレジスタを持つのを嫌って、値の比較結果を普通のレジスタにセットするという命令セットを持っているものがあります。たとえばRISC-Vはそのような命令セットです。</p>
<p>しかし、ハードウェアを実装する立場からすると、素朴な実装であれば、フラグレジスタを作るのはとても簡単です。つまり、整数演算を行うときに、その結果の配線を分岐して別のロジックにつないで、そちらで結果がゼロかどうか（すべての線が0かどうか）とか、結果がマイナスかどうか（最上位ビットの線が1かどうか）などを見て、その結果をフラグレジスタの各ビットにセットしてしまえばよいのです。フラグレジスタを持つCPUはまさにそのように実装されていて、整数演算を行うたびにフラグレジスタもついでに更新されることになります。</p>
<p>そのような仕組みでは、<code class="notranslate">cmp</code>だけではなく<code class="notranslate">add</code>や<code class="notranslate">sub</code>などでもフラグレジスタは更新されます。実際、<code class="notranslate">cmp</code>の実体は、フラグレジスタだけを更新する特殊な<code class="notranslate">sub</code>命令ということになっています。<code class="notranslate">sub rax, rdi</code>というようにして、その後にフラグレジスタを見ればRAXとRDIの大小関係がわかるのですが、それだとRAXが更新されてしまうので、整数レジスタへの書き込みを行わない<code class="notranslate">sub</code>として<code class="notranslate">cmp</code>が用意されています。</p>
<p>ソフトウェアの場合、「ついでに何かを計算する」ということをすると必ず余分な時間がかかってしまいますが、ハードウェアでは、線を分岐して余分にトランジスタを使うこと自体に時間的ペナルティは発生しないので、フラグレジスタを毎回更新するコストは、素朴なハードウェア実装の場合には存在しないのです。</p>
</div>
<hr>
<h1 id="分割コンパイルとリンク"><a href="https://www.sigbus.info/compilerbook#%E5%88%86%E5%89%B2%E3%82%B3%E3%83%B3%E3%83%91%E3%82%A4%E3%83%AB%E3%81%A8%E3%83%AA%E3%83%B3%E3%82%AF" style="text-decoration: none; color: inherit;">分割コンパイルとリンク</a></h1>
<p>この段階までは、Cファイルとテストのシェルスクリプトがそれぞれ1つだけというファイル構成で開発を進めてきました。この構成に問題があるというわけではないのですが、だんだんソースが長くなってきているので、このあたりで複数のCファイルに分割して見通しをよくすることにしましょう。このステップでは、9cc.cという1つのファイルを、以下の5つのファイルに分割します。</p>
<ul>
<li><code class="notranslate">9cc.h</code>: ヘッダファイル</li>
<li><code class="notranslate">main.c</code>: <code class="notranslate">main</code>関数</li>
<li><code class="notranslate">parse.c</code>: パーサ</li>
<li><code class="notranslate">codegen.c</code>: コードジェネレータ</li>
</ul>
<p><code class="notranslate">main</code>関数は小さいので他のCファイルに入れてもよかったのですが、意味的に<code class="notranslate">parse.c</code>と<code class="notranslate">codegen.c</code>のどちらにも属さないので、別のファイルに分けることにします。</p>
<p>この章では<span class="index" id="index48">分割コンパイル</span>の概念とその意義について説明を行い、その後に具体的な手順について説明をします。</p>
<h2 id="分割コンパイルとは"><a href="https://www.sigbus.info/compilerbook#%E5%88%86%E5%89%B2%E3%82%B3%E3%83%B3%E3%83%91%E3%82%A4%E3%83%AB%E3%81%A8%E3%81%AF" style="text-decoration: none; color: inherit;">分割コンパイルとは</a></h2>
<h3 id="分割コンパイルとその必要性"><a href="https://www.sigbus.info/compilerbook#%E5%88%86%E5%89%B2%E3%82%B3%E3%83%B3%E3%83%91%E3%82%A4%E3%83%AB%E3%81%A8%E3%81%9D%E3%81%AE%E5%BF%85%E8%A6%81%E6%80%A7" style="text-decoration: none; color: inherit;">分割コンパイルとその必要性</a></h3>
<p>分割コンパイルとは、1つのプログラムを複数のソースファイルに分割して書いて、別々にコンパイルすることです。分割コンパイルでは、コンパイラはプログラム全体ではなく、プログラムの断片を読んで、それに対応した断片を出力することになります。単体では実行不可能なプログラムの断片の入ったファイルのことを「<span class="index" id="index49">オブジェクトファイル</span>」（拡張子は<code class="notranslate">.o</code>）といいます。分割コンパイルでは、最後にオブジェクトファイルをつなぎ合わせて1つのファイルを作ることになります。オブジェクトファイルをまとめて1つの実行ファイルにするプログラムのことを「リンカ」といいます。</p>
<p>なぜ分割コンパイルをする必要があるのかを理解しておきましょう。実は、技術的にはソースを分割しなければならない必然性というものはありません。コンパイラにソースコードを一度に全部渡せば、コンパイラはリンカの助けなしに完全な実行ファイルを出力することが論理的には可能です。</p>
<p>ただしそのようなやり方の場合、コンパイラは、プログラムが使っているコードを本当にすべて知っている必要があります。例えば<code class="notranslate">printf</code>などの標準ライブラリの関数は、普通は標準ライブラリの作者がCで書いた関数なわけですが、リンクのステップを省くためには、そういった関数のソースコードも毎回コンパイラの入力に与える必要が出てきてしまいます。何度も同じ関数をコンパイルするのは、多くの場合、単なる時間の無駄です。したがって標準ライブラリは普通はコンパイル済みのオブジェクトファイル形式で配布されていて、手元で毎回コンパイルし直さなくてよくなっています。つまり、1つのソースコードからなるプログラムでも、標準ライブラリを使っている限り、実は分割コンパイルを利用しているのです。</p>
<p>分割コンパイルを行わないと、1行変更しただけでもコード全体をコンパイルし直すことになります。数万行の長さのコードではコンパイルは数十秒はかかります。大きなプロジェクトではソースコードは1000万行以上あったりするので、それを1つの単位としてコンパイルすると1日では終わらないでしょう。メモリも100GiBといった単位で必要になります。そういったビルド手順は非現実的です。</p>
<p>また、単純に、1つのファイルにすべての関数や変数をまとめて書くと人間にとって管理が難しいという問題もあります。</p>
<p>上記のような理由で分割コンパイルが必要とされているのです。</p>
<div class="note">
<p>コラム: リンカの歴史</p>
<p>複数の断片的な機械語ルーチンをつなぎ合わせて1つのプログラムにまとめるというリンカの機能は、コンピュータの黎明期から必要とされていました。1947年にJohn Mauchly（最初のデジタルコンピュータ、ENIACのプロジェクトリーダー）は、テープから読み込んだサブプログラムをリロケートして1つのプログラムにまとめるプログラムについて記述しています<a href="https://www.sigbus.info/compilerbook#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a>。</p>
<p>最初期のコンピュータにおいても、汎用的なサブルーチンは1回だけ書いていろいろなプログラムから使いたかったわけですが、そうなると、プログラムの断片を結合して実行可能なプログラムにするリンカというものが必要になるわけです。1947年というのは、アセンブラがまだ使われておらず、機械語で直接コードを書いていた時代なので、実はプログラマにとってリンカというのはアセンブラよりも先に作りたくなるプログラムなのです。</p>
</div>
<h3 id="ヘッダファイルの必要性とその内容"><a href="https://www.sigbus.info/compilerbook#%E3%83%98%E3%83%83%E3%83%80%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%AE%E5%BF%85%E8%A6%81%E6%80%A7%E3%81%A8%E3%81%9D%E3%81%AE%E5%86%85%E5%AE%B9" style="text-decoration: none; color: inherit;">ヘッダファイルの必要性とその内容</a></h3>
<p>分割コンパイルでは、コンパイラはプログラムの一部分のコードだけを見ることになりますが、コンパイラはプログラムのどのような小さな断片でもコンパイルできるというわけではありません。例えば次のコードを考えてみてください。</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode c notranslate"><code class="sourceCode c notranslate"><span id="cb67-1"><a href="https://www.sigbus.info/compilerbook#cb67-1"></a><span class="dt">void</span> print_bar(<span class="kw">struct</span> Foo *obj) {</span>
<span id="cb67-2"><a href="https://www.sigbus.info/compilerbook#cb67-2"></a>  printf(<span class="st">"%d</span><span class="sc">\n</span><span class="st">"</span>, obj-&gt;bar);</span>
<span id="cb67-3"><a href="https://www.sigbus.info/compilerbook#cb67-3"></a>}</span></code></pre></div>
<p>上記のコードでは、構造体Fooの型を知っていればこのコードに対応するアセンブリを出力することができますが、そうでなければこの関数をコンパイルすることはできません。</p>
<p>分割コンパイルする場合、個々のCファイルをコンパイルできるだけの十分な情報を、それぞれのファイルにいれておく必要があります。とはいっても、別のファイルに書かれているコードを全部書いてしまうとそもそも分割コンパイルではなくなってしまうので、ある程度情報は取捨選択する必要があります。</p>
<p>一つの例として、別のCファイルに入っている関数を呼び出すコードを出力するためにどのような情報をいれる必要があるのかを考えてみましょう。コンパイラは以下の情報を必要とします。</p>
<ul>
<li>そもそもある識別子が関数の名前であるという情報が必要です。</li>
<li>コンパイラが出力する関数呼び出しのコードは、引数をある決められた順番でレジスタにセットして、<code class="notranslate">call</code>命令を使って別の関数の先頭にジャンプします。引数の型によっては整数を浮動小数点数に変換するといったことも行います。引数の型や個数が間違っている場合はエラーメッセージを表示する必要もあります。したがって関数の引数の個数や個々の引数の型が必要です。</li>
<li>呼び出した関数の先で何が行われていても、呼び出し元にとってはそのうち単にリターンしてくるだけなので、呼び出し先の関数のコードは、呼び出し元の関数をコンパイルするときには必要ありません。</li>
<li><code class="notranslate">call</code>で飛ぶ先のアドレスは分割コンパイル時にはわかりませんが、アセンブラはとりあえずアドレス0にジャンプするような<code class="notranslate">call</code>命令を出力しておいて、オブジェクトファイル内に「オブジェクトファイルのXバイト目をYという名前の関数のアドレスで修正する」という情報を残しておくことができます。リンカはその情報を見て、実行ファイルのレイアウトを決めた後、プログラム断片をバイナリパッチングして、ジャンプ先のアドレスを修正します（この操作を「リロケートする」といいます）。したがって、分割コンパイルするためには関数の名前は必要ですが、関数のアドレスは不要です。</li>
</ul>
<p>上記の要件をまとめてみると、関数本体の<code class="notranslate">{ ... }</code>を省いたものさえあれば、その関数を呼び出すのに十分な情報はあるということになります。そのような関数本体を省いたものを関数の「<span class="index" id="index50">宣言</span>」（declaration）といいます。宣言は型と名前をコンパイラに教えているだけで、関数のコードは含まれていません。例えば、以下は<code class="notranslate">strncmp</code>の宣言です。</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode c notranslate"><code class="sourceCode c notranslate"><span id="cb68-1"><a href="https://www.sigbus.info/compilerbook#cb68-1"></a><span class="dt">int</span> strncmp(<span class="dt">const</span> <span class="dt">char</span> *s1, <span class="dt">const</span> <span class="dt">char</span> *s2, <span class="dt">size_t</span> n);</span></code></pre></div>
<p>コンパイラは上記の1行を見ることにより、<code class="notranslate">strncmp</code>の存在とその型を知ることができるというわけです。宣言に対して関数のコードを含むものを「<span class="index" id="index51">定義</span>」（definition）といいます。</p>
<p>関数宣言には、宣言を表すキーワード<code class="notranslate">extern</code>をつけて、</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode c notranslate"><code class="sourceCode c notranslate"><span id="cb69-1"><a href="https://www.sigbus.info/compilerbook#cb69-1"></a><span class="kw">extern</span> <span class="dt">int</span> strncmp(<span class="dt">const</span> <span class="dt">char</span> *s1, <span class="dt">const</span> <span class="dt">char</span> *s2, <span class="dt">size_t</span> n);</span></code></pre></div>
<p>のように書いても構いませんが、関数の場合、関数本体が省略されていることで宣言と定義を区別できるので、<code class="notranslate">extern</code>はつけなくてもかまいません。</p>
<p>なお、引数は型さえわかればよいので、宣言では名前は省略可能ですが、人間にとってわかりやすくするために宣言でも名前を書いておくことが一般的です。</p>
<p>別の例として構造体の型を考えてみましょう。同じ構造体を使っているCファイルが2つ以上ある場合、それぞれのCファイルに同じ構造体の宣言を書いておく必要があります。1つのCファイルでしか使われていない構造体であれば、特に他のCファイルはその存在について知る必要はありません。</p>
<p>Cでは、このように他のCファイルをコンパイルするときに必要になる宣言をまとめて、<span class="index" id="index52">ヘッダファイル</span>（拡張子は<code class="notranslate">.h</code>）というものに書くことになっています。<code class="notranslate">foo.h</code>に宣言を書いておいて、それを必要とする別のCファイルに<code class="notranslate">#include "foo.h"</code>のように書いておくと、<code class="notranslate">#include</code>の行が<code class="notranslate">foo.h</code>ファイルの内容に置き換えられることになります。</p>
<p><code class="notranslate">typedef</code>などもコンパイラに型情報を教えるために使われます。こういったものも、複数のCファイルで使われている場合、ヘッダファイルに書いておく必要があります。</p>
<p>コンパイラは宣言を読み込んだときには特に何のアセンブリも出力しません。宣言というものは、別のファイルに含まれている関数や変数を使うために必要な情報であって、それ自体は関数や変数を定義するものではないからです。</p>
<p>ここまでの分割コンパイルの話を踏まえると、「<code class="notranslate">printf</code>を使うときは<code class="notranslate">#include &lt;stdio.h&gt;</code>をおまじないとして書いておきます」といった話が、実際には何をしているのかがわかると思います。C標準ライブラリはリンカに暗黙のうちに渡されるので、リンカは<code class="notranslate">printf</code>の関数呼び出しが含まれたオブジェクトファイルをリンクして実行ファイルを作成することができます。一方で、コンパイラは<code class="notranslate">printf</code>についてはデフォルトでは特に知識を持っていません。<code class="notranslate">printf</code>は組み込み関数ではなく、標準ライブラリのヘッダファイルが自動的に読み込まれるといった仕様も存在しないので、起動した直後はコンパイラは<code class="notranslate">printf</code>については何も知らない状態です。この状態から、C標準ライブラリについてくるヘッダファイルをインクルードすることで、<code class="notranslate">printf</code>の存在とその型をコンパイラは知ることができ、<code class="notranslate">printf</code>の関数呼び出しをコンパイルできるようになるのです。</p>
<div class="note">
<p>コラム: ワンパスコンパイラと前方宣言</p>
<p>Cでは、1つのファイルに全部の関数をまとめて書くときでも、宣言が必要になることがあります。Cの言語仕様では、コンパイラがファイル全体を読み込むことをせずに、関数1つ1つを先頭から順にコンパイルしていけるようになっています。したがって、どの関数も、その関数がファイル中で出現するところまでに書かれた情報だけでコンパイルできるようになっていなければいけません。従って、ファイルの後ろで定義されている関数を使いたい場合、事前にその関数の宣言を書いておく必要があります。そういった宣言のことを「<span class="index" id="index53">前方宣言</span>」（forward declaration）といいます。</p>
<p>関数をファイルに書く順番を工夫することで、ほとんどの前方宣言は書かずに済ませることができますが、相互再帰している関数を書きたい場合には、前方宣言は必須です。</p>
<p>ファイル全体を読み込まずにコンパイルすることを許すというC言語の仕様は、メインメモリが非常に小さかった時代には意味がありましたが、今となっては時代遅れな仕様と言わざるをえないでしょう。コンパイラがもう少し賢ければ、同じファイルに書いてある定義については宣言を書かずに済ませることができるはずです。とはいえこの動作は言語仕様の一部ということになっているので、覚えておく必要があります。</p>
</div>
<h3 id="リンクエラー"><a href="https://www.sigbus.info/compilerbook#%E3%83%AA%E3%83%B3%E3%82%AF%E3%82%A8%E3%83%A9%E3%83%BC" style="text-decoration: none; color: inherit;">リンクエラー</a></h3>
<p>オブジェクトファイルを最後にまとめてリンカに渡すときには、全体としてプログラムを構成するのに足る情報が過不足なく含まれていなければいけません。</p>
<p>もしプログラムに関数<code class="notranslate">foo</code>の宣言だけが含まれていて定義がない場合、個々のCファイルは、<code class="notranslate">foo</code>を呼び出すコードも含めて普通にコンパイルすることができます。しかし、最後にリンカが完全なプログラムを作成しようとしたとき、<code class="notranslate">foo</code>のアドレスで修正するべき箇所が、<code class="notranslate">foo</code>がないために修正しようがないので、エラーになってしまいます。</p>
<p>リンク時のエラーのことを<span class="index" id="index54">リンクエラー</span>といいます。</p>
<p>複数のオブジェクトファイルに同じ関数や変数が含まれている場合もリンクエラーになります。リンカとしては、重複がある場合どちらを選べばよいかよくわからないからです。このような重複エラーは、ヘッダファイルに間違えて定義を書いてしまったときによく発生します。ヘッダファイルは複数のCファイルにインクルードされるので、ヘッダファイルに定義がある場合、複数のCファイルに重複して定義が書かれているのと同じ状態になるからです。このようなエラーを解消するためには、ヘッダファイルに宣言だけを書くようにして、実体はどれか1つのCファイルに移してください。</p>
<div class="note">
<p>コラム: 重複した定義とリンクエラー</p>
<p>重複した定義があるときに、どれか一つを選んで残りの定義を無視するというリンカの動作もありえます。そのようなリンカでは重複定義をしてもエラーにはなりません。</p>
<p>実際のオブジェクトファイルでも、定義ごとに重複を許すかどうかを選ぶことが可能になっていて、インライン関数やC++のテンプレートの展開結果などは重複を許す形でオブジェクトファイルに含められます。オブジェクトファイルのフォーマットやリンカの動作というのは意外に複雑で、例外が多いのですが、しかしそういった動作はあくまで例外です。デフォルトでは、重複した定義はエラーになることが普通です。</p>
</div>
<h3 id="グローバル変数の宣言と定義"><a href="https://www.sigbus.info/compilerbook#%E3%82%B0%E3%83%AD%E3%83%BC%E3%83%90%E3%83%AB%E5%A4%89%E6%95%B0%E3%81%AE%E5%AE%A3%E8%A8%80%E3%81%A8%E5%AE%9A%E7%BE%A9" style="text-decoration: none; color: inherit;">グローバル変数の宣言と定義</a></h3>
<p>我々のコンパイラにはまだグローバル変数がないので、グローバル変数に対応するアセンブリの例というのはまだ出ていませんが、グローバル変数というものはアセンブリレベルでは関数とほとんど同じです。したがって関数と同様に、グローバル変数にも定義と宣言の区別があります。変数の本体が複数のCファイルに重複して存在している場合、通常それはリンクエラーになります。</p>
<p>グローバル変数はデフォルトでは実行禁止メモリ領域に割り付けられるので、そこにジャンプするとプログラムがセグメンテーションフォールトでクラッシュすることになりますが、本質的にはそれ以外、データとコードの違いは存在しません。実行時に関数をデータとしてグローバル変数のように読むこともできますし、実行を許可するようにメモリの属性を変更してデータにジャンプすれば、データをコードとして実行することもできます。</p>
<p>関数とグローバル変数がどちらも本質的にはメモリ上に存在するデータにすぎないことを、実際のコードで確認してみましょう。以下のコードでは、<code class="notranslate">main</code>という識別子がグローバル変数として定義されています。<code class="notranslate">main</code>の内容はx86-64の機械語です。</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode c notranslate"><code class="sourceCode c notranslate"><span id="cb70-1"><a href="https://www.sigbus.info/compilerbook#cb70-1"></a><span class="dt">char</span> main[] = <span class="st">"</span><span class="sc">\x48\xc7\xc0\x2a\x00\x00\x00\xc3</span><span class="st">"</span>;</span></code></pre></div>
<p>上記のCコードを<code class="notranslate">foo.c</code>というファイルに保存してコンパイルして、<code class="notranslate">objdump</code>を使って内容を確認してみましょう。<code class="notranslate">objdump</code>のデフォルトではグローバル変数の内容は16進で表示されるだけですが、<code class="notranslate">-D</code>オプションを渡すと、データをコードとして無理やり逆アセンブルすることができます。</p>
<pre class="notranslate"><code class="notranslate">$ cc -c foo.c
$ objdump -D -M intel foo.o
Disassembly of section .data:

0000000000000000 &lt;main&gt;:
   0:   48 c7 c0 2a 00 00 00    mov    rax,0x2a
   7:   c3                      ret</code></pre>
<p>データが実行禁止領域にマップされるというデフォルトの動作は、コンパイル時に<code class="notranslate">-Wl,--omagic</code>というオプションを渡すことで変更できます。このオプションを使って実行ファイルを生成してみましょう。</p>
<pre class="notranslate"><code class="notranslate">$ cc -static -Wl,--omagic -o foo foo.o</code></pre>
<p>関数も変数もアセンブリにおいてはただのラベルになっていて、同じ名前空間に属しているので、リンカは複数のオブジェクトファイルをまとめるときに、どれが関数でどれがデータなのかは気にしません。したがって<code class="notranslate">main</code>がCレベルでデータとして定義されていても、<code class="notranslate">main</code>が関数であるのと同じようにリンクは成功します。</p>
<p>生成されたファイルを実行してみましょう。</p>
<pre class="notranslate"><code class="notranslate">$ ./foo
$ echo $?
42</code></pre>
<p>上記のように、42という値が正しく返ってきています。<code class="notranslate">main</code>というグローバル変数の内容がコードとして実行されたというわけです。</p>
<p>Cの文法では、グローバル変数の場合、<code class="notranslate">extern</code>をつけると宣言になります。以下はint型のグローバル変数<code class="notranslate">foo</code>の宣言です。</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode c notranslate"><code class="sourceCode c notranslate"><span id="cb74-1"><a href="https://www.sigbus.info/compilerbook#cb74-1"></a><span class="kw">extern</span> <span class="dt">int</span> foo;</span></code></pre></div>
<p><code class="notranslate">foo</code>を含んだプログラムを書く場合、上記の行をヘッダファイルに書いておくことになります。そして、どれか1つのCファイルで<code class="notranslate">foo</code>を定義することになります。以下は<code class="notranslate">foo</code>の定義です。</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode c notranslate"><code class="sourceCode c notranslate"><span id="cb75-1"><a href="https://www.sigbus.info/compilerbook#cb75-1"></a><span class="dt">int</span> foo;</span></code></pre></div>
<p>なお、Cにおいては初期化式の与えられていないグローバル変数は0で初期化されるということになっているので、そのような変数は、0や<code class="notranslate">{0, 0, ...}</code>、<code class="notranslate">"\0\0\0\0..."</code>などで初期化されているのと意味的に同じです。</p>
<p><code class="notranslate">int foo = 3</code>のように初期化式を書く場合は、定義だけに初期化式を書いてください。宣言は変数の型だけをコンパイラに教えるためのものなので、具体的な初期化式は必要ありません。コンパイラはグローバル変数の宣言を見たときに特にアセンブリを出力するわけではないので、その中身がどのように初期化されているかというのはその場では必要ないのです。</p>
<p>初期化式が省略されている場合、グローバル変数の宣言と定義は<code class="notranslate">extern</code>の有無だけなので見た目が似てしまいますが、宣言と定義は異なるものです。ここでそれをきっちり把握しておいてください。</p>
<div class="note">
<p>コラム: Intel CPUのF00Fバグ</p>
<p>1997年以前のIntel Pentiumプロセッサには、<code class="notranslate">F0 0F C7 C8</code>という4バイトの命令を実行するとCPUが完全にハングしてしまうという重大なバグがありました。</p>
<p>この4バイトの命令に対応するアセンブリ命令は正式には存在しませんが、あえてアセンブリとして書き下すと、<code class="notranslate">lock cmpxchg8b eax</code>という命令になります。<code class="notranslate">0F C7 C8</code>は<code class="notranslate">cmpxchg8b eax</code>という命令で、これは、8バイトの値をレジスタとメモリの間でアトミックに（マルチコアでも他のコアに途中の状態が観測不可能な形で）交換するという命令です。<code class="notranslate">F0</code>というのは<code class="notranslate">lock</code>プレフィックスと呼ばれる付加的な情報で、直後の命令をアトミックにする効果を持っています。しかし、元々<code class="notranslate">cmpxchg8b</code>はアトミックなので、<code class="notranslate">lock cmpxchg8b eax</code>は冗長で不正な命令の書き方になっています。従って、このようなアセンブリ命令は文法的に存在しないことになっていて、<code class="notranslate">F0 0F C7 C8</code>というバイト列が普通のプログラムに出現することはなく、Intelはプロセッサの大量生産前にこのバグに気づくことができませんでした。</p>
<p>main関数をデータとして書くというハックを使うと、F00Fバグを再現するコードはCで次の1行で書くことができます。</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode c notranslate"><code class="sourceCode c notranslate"><span id="cb76-1"><a href="https://www.sigbus.info/compilerbook#cb76-1"></a><span class="dt">char</span> main[] = <span class="st">"</span><span class="sc">\xf0\x0f\xc7\xc8</span><span class="st">"</span>;</span></code></pre></div>
<p>現代のx86ではこの関数は無害ですが、1997年当時のPentiumでは、この1行のプログラムによってシステム全体を誰でも簡単にハングアップさせることができました。</p>
<p>個人で完全に占有しているPCならF00Fバグは大した問題ではないのですが、今で言うクラウドのようなCPUを共有する使い方をしている場合、このバグは致命的です。しかし、当初はF00Fバグは修正不可能でCPUの回収交換しかないかと思われたものの、その後OSカーネルの例外ハンドラレベルでのトリッキーな方法でバグを回避する手法が生み出されて、Intelにとっては幸いなことに製品交換は避けることができました。</p>
</div>
<h2 id="c標準ライブラリとアーカイブファイル"><a href="https://www.sigbus.info/compilerbook#c%E6%A8%99%E6%BA%96%E3%83%A9%E3%82%A4%E3%83%96%E3%83%A9%E3%83%AA%E3%81%A8%E3%82%A2%E3%83%BC%E3%82%AB%E3%82%A4%E3%83%96%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB" style="text-decoration: none; color: inherit;">C標準ライブラリとアーカイブファイル</a></h2>
<h2 id="ステップ8-ファイル分割とmakefileの変更"><a href="https://www.sigbus.info/compilerbook#%E3%82%B9%E3%83%86%E3%83%83%E3%83%978-%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E5%88%86%E5%89%B2%E3%81%A8makefile%E3%81%AE%E5%A4%89%E6%9B%B4" style="text-decoration: none; color: inherit;">ステップ8: ファイル分割とMakefileの変更</a></h2>
<h3 id="ファイルの分割"><a href="https://www.sigbus.info/compilerbook#%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%AE%E5%88%86%E5%89%B2" style="text-decoration: none; color: inherit;">ファイルの分割</a></h3>
<p>この章の最初に示した構成でファイルを分割してみてください。<code class="notranslate">9cc.h</code>というのはヘッダファイルです。プログラムの構成によっては1つの<code class="notranslate">.c</code>ファイルごとに1つの<code class="notranslate">.h</code>ファイルを用意することもありますが、余分な宣言があっても特に害をなすことはないので、ここではそこまで細かな依存関係の管理をする必要はありません。<code class="notranslate">9cc.h</code>というファイルを一つ用意して、すべてのCファイルで<code class="notranslate">#include "9cc.h"</code>というようにインクルードしてください。</p>
<h3 id="makefileの変更"><a href="https://www.sigbus.info/compilerbook#makefile%E3%81%AE%E5%A4%89%E6%9B%B4" style="text-decoration: none; color: inherit;">Makefileの変更</a></h3>
<p>さて、プログラムを複数のファイルに変更したところで、<code class="notranslate">Makefile</code>も更新しておきましょう。下の<code class="notranslate">Makefile</code>は、カレントディレクトリに置かれているすべての.cファイルをコンパイル＆リンクして、9ccという実行ファイルを作成するためのものです。プロジェクトのヘッダファイルとしては、9cc.hという一つのファイルだけが存在して、そのヘッダファイルをすべての.cファイルでインクルードしているものと仮定しています。</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode makefile notranslate"><code class="sourceCode makefile notranslate"><span id="cb77-1"><a href="https://www.sigbus.info/compilerbook#cb77-1"></a><span class="dt">CFLAGS=-std</span><span class="ch">=</span><span class="st">c11 -g -static</span></span>
<span id="cb77-2"><a href="https://www.sigbus.info/compilerbook#cb77-2"></a><span class="dt">SRCS</span><span class="ch">=$(</span><span class="kw">wildcard</span><span class="st"> *.c</span><span class="ch">)</span></span>
<span id="cb77-3"><a href="https://www.sigbus.info/compilerbook#cb77-3"></a><span class="dt">OBJS</span><span class="ch">=$(</span><span class="dt">SRCS</span><span class="er">:</span><span class="dt">.c</span><span class="er">=</span><span class="dt">.o</span><span class="ch">)</span></span>
<span id="cb77-4"><a href="https://www.sigbus.info/compilerbook#cb77-4"></a></span>
<span id="cb77-5"><a href="https://www.sigbus.info/compilerbook#cb77-5"></a><span class="dv">9cc:</span><span class="dt"> </span><span class="ch">$(</span><span class="dt">OBJS</span><span class="ch">)</span></span>
<span id="cb77-6"><a href="https://www.sigbus.info/compilerbook#cb77-6"></a>        <span class="ch">$(</span><span class="dt">CC</span><span class="ch">)</span> -o 9cc <span class="ch">$(</span><span class="dt">OBJS</span><span class="ch">)</span> <span class="ch">$(</span><span class="dt">LDFLAGS</span><span class="ch">)</span></span>
<span id="cb77-7"><a href="https://www.sigbus.info/compilerbook#cb77-7"></a></span>
<span id="cb77-8"><a href="https://www.sigbus.info/compilerbook#cb77-8"></a><span class="dv">$(OBJS):</span><span class="dt"> 9cc.h</span></span>
<span id="cb77-9"><a href="https://www.sigbus.info/compilerbook#cb77-9"></a></span>
<span id="cb77-10"><a href="https://www.sigbus.info/compilerbook#cb77-10"></a><span class="dv">test:</span><span class="dt"> 9cc</span></span>
<span id="cb77-11"><a href="https://www.sigbus.info/compilerbook#cb77-11"></a>        ./test.sh</span>
<span id="cb77-12"><a href="https://www.sigbus.info/compilerbook#cb77-12"></a></span>
<span id="cb77-13"><a href="https://www.sigbus.info/compilerbook#cb77-13"></a><span class="dv">clean:</span></span>
<span id="cb77-14"><a href="https://www.sigbus.info/compilerbook#cb77-14"></a>        rm -f 9cc *.o *~ tmp*</span>
<span id="cb77-15"><a href="https://www.sigbus.info/compilerbook#cb77-15"></a></span>
<span id="cb77-16"><a href="https://www.sigbus.info/compilerbook#cb77-16"></a><span class="ot">.PHONY:</span><span class="dt"> test clean</span></span></code></pre></div>
<p><code class="notranslate">Makefile</code>のインデントはタブ文字でなければいけないことに注意してください。</p>
<p>makeは高機能なツールで、必ずしも使いこなす必要はないのですが、上の<code class="notranslate">Makefile</code>くらいは読めるようになっているといろいろな場面で役に立ちます。そこで、この節では上の<code class="notranslate">Makefile</code>の説明を行います。</p>
<p><code class="notranslate">Makefile</code>では、コロンで区切られた行と、タブでインデントされた0行以上のコマンドの行が、1つのルールを構成します。コロンの前の名前のことを「ターゲット」といいます。コロンの後ろの0個以上のファイル名のことを依存ファイルといいます。</p>
<p><code class="notranslate">make foo</code>と実行すると、<code class="notranslate">make</code>は<code class="notranslate">foo</code>というファイルを作成しようとします。指定されたターゲットのファイルがすでに存在する場合、依存ファイルよりもターゲットファイルのほうが古い場合に限り、<code class="notranslate">make</code>はターゲットのルールを再実行します。これにより、ソースコードが変更されたときにだけバイナリを再生成するといった動作が実現されています。</p>
<p><code class="notranslate">.PHONY</code>というのはダミーのターゲットを表すための特別な名前です。<code class="notranslate">make test</code>や<code class="notranslate">make clean</code>は、<code class="notranslate">test</code>や<code class="notranslate">clean</code>といったファイルを作成するために実行するわけではないのですが、普通は<code class="notranslate">make</code>にはそのことがわからないので、<code class="notranslate">test</code>や<code class="notranslate">clean</code>といった名前のファイルが偶然存在している場合、<code class="notranslate">make test</code>や<code class="notranslate">make clean</code>は何も行わなくなってしまいます。こういったダミーのターゲットは、<code class="notranslate">.PHONY</code>で指定することにより、本当にそういう名前のファイルを作りたいわけではなく、指定されたターゲットのファイルが存在しているかどうかに関わらずルールのコマンドを実行するべきということを<code class="notranslate">make</code>に伝えることができます。</p>
<p><code class="notranslate">CFLAGS</code>や<code class="notranslate">SRCS</code>、<code class="notranslate">OBJS</code>は変数です。</p>
<p><code class="notranslate">CFLAGS</code>はmakeの組み込みルールによって認識される変数で、Cコンパイラに渡すコマンドラインオプションを書いておきます。ここでは以下のフラグを渡しています。</p>
<ul>
<li><code class="notranslate">-std=c11</code>: Cの最新規格であるC11で書かれたソースコードということを伝える</li>
<li><code class="notranslate">-g</code>: デバグ情報を出力する</li>
<li><code class="notranslate">-static</code>: スタティックリンクする</li>
</ul>
<p><code class="notranslate">SRCS</code>の右辺で使われている<code class="notranslate">wildcard</code>というのはmakeが提供している関数で、関数の引数にマッチするファイル名に展開されます。<code class="notranslate">$(wildcard *.c)</code>は、現在のところ<code class="notranslate">main.c parse.c codegen.c</code>に展開されるというわけです。</p>
<p><code class="notranslate">OBJS</code>の右辺では変数の置換ルールを使っていて、それによりSRCの中の.cを.oに置き換えた値を生成しています。<code class="notranslate">SRCS</code>は<code class="notranslate">main.c parse.c codegen.c</code>なので、<code class="notranslate">OBJS</code>は<code class="notranslate">main.o parse.o codegen.o</code>になります。</p>
<p>これらを踏まえた上で、<code class="notranslate">make 9cc</code>と実行したときに何が起こるのかをトレースしてみましょう。makeは引数として指定されたターゲットを生成しようとするので、<code class="notranslate">9cc</code>ファイルを作ることがコマンドの最終的な目標になります（引数がない場合は最初のルールが選ばれるので、この場合は9ccは指定しなくてもよい）。makeはそのために依存関係をたどっていって、欠けている、あるいは古くなっているファイルをビルドしようとします。</p>
<p><code class="notranslate">9cc</code>の依存ファイルは、カレントディレクトリにある<code class="notranslate">.c</code>ファイルに対応する<code class="notranslate">.o</code>ファイルです。もし前回makeを実行したときの<code class="notranslate">.o</code>ファイルが残っていて、それが対応する<code class="notranslate">.c</code>ファイルより新しいタイムスタンプであるときは、makeはわざわざ同じコマンドを再実行したりはしません。<code class="notranslate">.o</code>ファイルが存在しないか、<code class="notranslate">.c</code>ファイルのほうが新しい場合にのみ、コンパイラを実行して<code class="notranslate">.o</code>ファイルを生成します。</p>
<p><code class="notranslate">$(OBJS): 9cc.h</code>というルールは、すべての<code class="notranslate">.o</code>ファイルが<code class="notranslate">9cc.h</code>に依存していることを表しています。したがって<code class="notranslate">9cc.h</code>を変更した場合、すべての<code class="notranslate">.o</code>ファイルが再コンパイルされることになります。</p>
<div class="note">
<p>コラム: staticキーワードの様々な意味</p>
<p>Cの<code class="notranslate">static</code>キーワードは、主に次の2つの用途で使われます。</p>
<ol>
<li>ローカル変数に<code class="notranslate">static</code>をつけて、関数を抜けた後でも値が保存されるようにする</li>
<li>グローバル変数や関数に<code class="notranslate">static</code>をつけて、その変数や関数のスコープをファイルスコープにする</li>
</ol>
<p>この2つの用途には共通性は特にないにもかかわらず同じキーワードを使っているので、Cを学習するときに混乱するポイントの一つになってしまっています。理想的には、用途1は<code class="notranslate">persistent</code>、用途2は<code class="notranslate">private</code>などの別のキーワードを使うべきだったのでしょう。もっと理想を言えば、用途2に関しては<code class="notranslate">private</code>をデフォルトにして、グローバルなスコープの変数や関数に<code class="notranslate">public</code>と付ける方が良かったのかもしれません。</p>
<p>Cがキーワードの使い回しをしている理由は、過去に書かれたコード資産との互換性です。<code class="notranslate">private</code>などの新たなキーワードを言語に追加すると、そのキーワードを変数や関数の名前として使っている既存のプログラムがコンパイルできなくなってしまいます。Cはそれを嫌って、キーワードを増やす代わりに、既存のキーワードを異なるコンテキストで使い回しすることにしたのです。</p>
<p>1970年代のある段階で、<code class="notranslate">static</code>キーワードを使い回しするのではなく新たなキーワードを増やす決断をしていれば、大した量のコードを変更しなくて済んだのでしょうが、自分だったらどうするかと考えてみるとなかなか難しい問題です。</p>
</div>
<hr>
<h1 id="関数とローカル変数"><a href="https://www.sigbus.info/compilerbook#%E9%96%A2%E6%95%B0%E3%81%A8%E3%83%AD%E3%83%BC%E3%82%AB%E3%83%AB%E5%A4%89%E6%95%B0" style="text-decoration: none; color: inherit;">関数とローカル変数</a></h1>
<p>この章では、関数とローカル変数を実装します。また、簡単な制御構造も実装します。この章が終わると次のようなコードをコンパイルできるようになります。</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode c notranslate"><code class="sourceCode c notranslate"><span id="cb78-1"><a href="https://www.sigbus.info/compilerbook#cb78-1"></a><span class="co">// mからnまでを足す</span></span>
<span id="cb78-2"><a href="https://www.sigbus.info/compilerbook#cb78-2"></a>sum(m, n) {</span>
<span id="cb78-3"><a href="https://www.sigbus.info/compilerbook#cb78-3"></a>  acc = <span class="dv">0</span>;</span>
<span id="cb78-4"><a href="https://www.sigbus.info/compilerbook#cb78-4"></a>  <span class="cf">for</span> (i = m; i &lt;= n; i = i + <span class="dv">1</span>)</span>
<span id="cb78-5"><a href="https://www.sigbus.info/compilerbook#cb78-5"></a>    acc = acc + i;</span>
<span id="cb78-6"><a href="https://www.sigbus.info/compilerbook#cb78-6"></a>  <span class="cf">return</span> acc;</span>
<span id="cb78-7"><a href="https://www.sigbus.info/compilerbook#cb78-7"></a>}</span>
<span id="cb78-8"><a href="https://www.sigbus.info/compilerbook#cb78-8"></a></span>
<span id="cb78-9"><a href="https://www.sigbus.info/compilerbook#cb78-9"></a>main() {</span>
<span id="cb78-10"><a href="https://www.sigbus.info/compilerbook#cb78-10"></a>  <span class="cf">return</span> sum(<span class="dv">1</span>, <span class="dv">10</span>); <span class="co">// 55を返す</span></span>
<span id="cb78-11"><a href="https://www.sigbus.info/compilerbook#cb78-11"></a>}</span></code></pre></div>
<p>上記のコードはCとはまだギャップがありますが、それでもかなりCに近づいてきたと言えるのではないでしょうか。</p>
<h2 id="ステップ91文字のローカル変数"><a href="https://www.sigbus.info/compilerbook#%E3%82%B9%E3%83%86%E3%83%83%E3%83%9791%E6%96%87%E5%AD%97%E3%81%AE%E3%83%AD%E3%83%BC%E3%82%AB%E3%83%AB%E5%A4%89%E6%95%B0" style="text-decoration: none; color: inherit;">ステップ9：1文字のローカル変数</a></h2>
<p>前章までで、四則演算ができる言語のコンパイラを作ることができました。この節では、その言語に機能を追加して、変数を使えるようにします。具体的には次のように変数を含む複数の文をコンパイルできるようになることが目標です。</p>
<pre class="notranslate"><code class="notranslate">a = 3;
b = 5 * 6 - 8;
a + b / 2;</code></pre>
<p>一番最後の式の結果をプログラム全体の計算結果とすることにします。これの言語は、四則演算だけの言語に比べると、かなり「本物の言語」のような雰囲気が出てきていると言えるのではないでしょうか？</p>
<p>この章では、まず変数をどのように実装すればよいのかについて説明を行い、その後、インクリメンタルに変数を実装していくことにします。</p>
<h3 id="スタック上の変数領域"><a href="https://www.sigbus.info/compilerbook#%E3%82%B9%E3%82%BF%E3%83%83%E3%82%AF%E4%B8%8A%E3%81%AE%E5%A4%89%E6%95%B0%E9%A0%98%E5%9F%9F" style="text-decoration: none; color: inherit;">スタック上の変数領域</a></h3>
<p>Cにおける変数はメモリ上に存在します。変数はメモリのアドレスに名前をつけたものと言ってもよいでしょう。メモリアドレスに名前をつけることにで、「メモリの0x6080番地にアクセスする」というように表現するのではなく、「変数<code class="notranslate">a</code>にアクセスする」というように表現することができるようになります。</p>
<p>ただし、関数のローカル変数は、関数呼び出しごとに別々に存在しなければいけません。実装の都合だけを考えると、例えば「関数<code class="notranslate">f</code>のローカル変数<code class="notranslate">a</code>は0x6080番地に置く」というようにアドレスを決め打ちにしてしまうのが簡単そうですが、それだと<code class="notranslate">f</code>を再帰的に呼び出した場合にうまく動きません。ローカル変数を関数呼び出しごとに別々に持たせるために、Cではローカル変数はスタックに置くことになっています。</p>
<p>スタックの内容を具体的な例を挙げて考えてみましょう。ローカル変数<code class="notranslate">a</code>と<code class="notranslate">b</code>を持つ関数<code class="notranslate">f</code>があり、別の何らかの関数が<code class="notranslate">f</code>を呼び出したとします。関数呼び出しの<code class="notranslate">call</code>命令はリターンアドレスをスタックに積むので、<code class="notranslate">f</code>が呼ばれた時点のスタックトップは、そのリターンアドレスが入っていることになります。それ以外にも、元々スタックには何らかの値が入っているものとします。ここでは具体的な値は重要ではないので「⋯⋯」で表すことにします。図にすると次のようになります。</p>
<div class="stack">
<table class="notranslate">
<tbody>
<tr class="odd">
<td style="text-align: center;">⋯⋯</td>
<td></td>
</tr>
<tr class="even">
<td style="text-align: center;">リターンアドレス</td>
<td>← RSP</td>
</tr>
</tbody>
</table>
<p>ここでは「← RSP」という表記で、現在のRSPレジスタの値がこのアドレスを指しているということを表すことにします。<code class="notranslate">a</code>と<code class="notranslate">b</code>のサイズはそれぞれ8バイトとします。</p>
<p>スタックは下に向かって成長します。この状態から<code class="notranslate">a</code>と<code class="notranslate">b</code>の領域を確保するためには、変数2個分、つまり合計で16バイトRSPを押し下げる必要があります。それを行うと次のようになります。</p>
<table class="notranslate">
<tbody>
<tr class="odd">
<td style="text-align: center;">⋯⋯</td>
<td></td>
</tr>
<tr class="even">
<td style="text-align: center;">リターンアドレス</td>
<td></td>
</tr>
<tr class="odd">
<td style="text-align: center;">a</td>
<td></td>
</tr>
<tr class="even">
<td style="text-align: center;">b</td>
<td>← RSP</td>
</tr>
</tbody>
</table>
</div>
<p>上記のようなレイアウトにすると、RSP+8の値を使うと<code class="notranslate">a</code>に、RSPの値を使うと<code class="notranslate">b</code>に、それぞれアクセスできるということになります。このように関数呼び出しごとに確保されるメモリ領域のことを「関数フレーム」や「アクティベーションレコード」といいます。</p>
<p>RSPを何バイト分変更するかとか、そのようにして確保した領域に変数をどういった順番で置くかといったことは、他の関数から見えるものではないので、コンパイラの実装の都合で適当に決めて構いません。</p>
<p>基本的にローカル変数というのは、このような単純なものとして実装されています。</p>
<p>ただし、この方法は一つ欠点があるので、実際の実装にはもう一つレジスタを使うことになります。我々のコンパイラでは（そしてそのほかのコンパイラでも）、関数を実行している間にRSPが変更されることがあることを思い出してください。9ccは式の途中の計算結果をRSPを使ったスタックにプッシュ／ポップしているので、RSPの値は頻繁に変更されます。したがって、<code class="notranslate">a</code>や<code class="notranslate">b</code>にはRSPからの固定のオフセットでアクセスすることができません。</p>
<p>これを解決するための一般的なやり方では、RSPとは別に、現在の関数フレームの開始位置を常に指しているレジスタを用意します。そのようなレジスタを「ベースレジスタ」、そこに入っている値のことを「ベースポインタ」と呼びます。x86-64では慣習としてRBPレジスタをベースレジスタとして使用します。</p>
<p>関数実行中にはベースポインタは変化してはいけません（それこそがベースポインタを用意する理由です）。関数から別の関数を呼び出して、戻ってきたら別の値になっていた、というのではダメですから、関数呼び出しごとに元のベースポインタを保存しておいて、リターンする前に書き戻す必要があります。</p>
<p>ベースポインタを使った関数呼び出しにおけるスタックの状態を示したのが以下の図です。ローカル変数<code class="notranslate">x</code>と<code class="notranslate">y</code>を持った関数<code class="notranslate">g</code>が<code class="notranslate">f</code>を呼び出すものとしましょう。<code class="notranslate">g</code>の実行中、スタックは次のようになっています。</p>
<div class="stack">
<table class="notranslate">
<tbody>
<tr class="odd">
<td style="text-align: center;">⋯⋯</td>
<td></td>
</tr>
<tr class="even">
<td style="text-align: center;">gのリターンアドレス</td>
<td></td>
</tr>
<tr class="odd">
<td style="text-align: center;">gの呼び出し時点のRBP</td>
<td>← RBP</td>
</tr>
<tr class="even">
<td style="text-align: center;">x</td>
<td></td>
</tr>
<tr class="odd">
<td style="text-align: center;">y</td>
<td>← RSP</td>
</tr>
</tbody>
</table>
<p>ここから<code class="notranslate">f</code>を呼び出すと次の状態になります。</p>
<table class="notranslate">
<tbody>
<tr class="odd">
<td style="text-align: center;">⋯⋯</td>
<td></td>
</tr>
<tr class="even">
<td style="text-align: center;">gのリターンアドレス</td>
<td></td>
</tr>
<tr class="odd">
<td style="text-align: center;">gの呼び出し時点のRBP</td>
<td></td>
</tr>
<tr class="even">
<td style="text-align: center;">x</td>
<td></td>
</tr>
<tr class="odd">
<td style="text-align: center;">y</td>
<td></td>
</tr>
<tr class="even">
<td style="text-align: center;">fのリターンアドレス</td>
<td></td>
</tr>
<tr class="odd">
<td style="text-align: center;">fの呼び出し時点のRBP</td>
<td>← RBP</td>
</tr>
<tr class="even">
<td style="text-align: center;">a</td>
<td></td>
</tr>
<tr class="odd">
<td style="text-align: center;">b</td>
<td>← RSP</td>
</tr>
</tbody>
</table>
</div>
<p>このようにすると、<code class="notranslate">a</code>にはRBP-8、<code class="notranslate">b</code>にはRBP-16というアドレスで常にアクセスすることができます。具体的にこのようなスタックの状態を作るアセンブリを考えてみると、それぞれの関数の冒頭に、以下のようなアセンブリをコンパイラが出力すればよいということになります。</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode asm notranslate"><code class="sourceCode fasm notranslate"><span id="cb80-1"><a href="https://www.sigbus.info/compilerbook#cb80-1"></a><span class="bu">push</span> <span class="kw">rbp</span></span>
<span id="cb80-2"><a href="https://www.sigbus.info/compilerbook#cb80-2"></a><span class="bu">mov</span> <span class="kw">rbp</span>, <span class="kw">rsp</span></span>
<span id="cb80-3"><a href="https://www.sigbus.info/compilerbook#cb80-3"></a><span class="bu">sub</span> <span class="kw">rsp</span>, <span class="dv">16</span></span></code></pre></div>
<p>このようなコンパイラが関数の先頭に出力する定型の命令のことを「<span class="index" id="index55">プロローグ</span>」（prologue）といいます。なお、16というのは、実際には関数ごとに変数の個数やサイズに合わせた値にする必要があります。</p>
<p>RSPがリターンアドレスを指している状態から上のコードを実行すると、期待している通りの関数フレームができあがることを確認してみましょう。1命令ごとのスタックの状態を以下に示します。</p>
<div class="stack">
<ol>
<li><p><code class="notranslate">f</code>を<code class="notranslate">call</code>で呼び出した直後のスタック</p>
<table class="notranslate">
<tbody>
<tr class="odd">
<td style="text-align: center;">⋯⋯</td>
<td></td>
</tr>
<tr class="even">
<td style="text-align: center;">gのリターンアドレス</td>
<td></td>
</tr>
<tr class="odd">
<td style="text-align: center;">gの呼び出し時点のRBP</td>
<td>← RBP</td>
</tr>
<tr class="even">
<td style="text-align: center;">x</td>
<td></td>
</tr>
<tr class="odd">
<td style="text-align: center;">y</td>
<td></td>
</tr>
<tr class="even">
<td style="text-align: center;">fのリターンアドレス</td>
<td>← RSP</td>
</tr>
</tbody>
</table></li>
<li><p><code class="notranslate">push rbp</code>を実行した後のスタック</p>
<table class="notranslate">
<tbody>
<tr class="odd">
<td style="text-align: center;">⋯⋯</td>
<td></td>
</tr>
<tr class="even">
<td style="text-align: center;">gのリターンアドレス</td>
<td></td>
</tr>
<tr class="odd">
<td style="text-align: center;">gの呼び出し時点のRBP</td>
<td>← RBP</td>
</tr>
<tr class="even">
<td style="text-align: center;">x</td>
<td></td>
</tr>
<tr class="odd">
<td style="text-align: center;">y</td>
<td></td>
</tr>
<tr class="even">
<td style="text-align: center;">fのリターンアドレス</td>
<td></td>
</tr>
<tr class="odd">
<td style="text-align: center;">fの呼び出し時点のRBP</td>
<td>← RSP</td>
</tr>
</tbody>
</table></li>
<li><p><code class="notranslate">mov rbp, rsp</code>を実行した後のスタック</p>
<table class="notranslate">
<tbody>
<tr class="odd">
<td style="text-align: center;">⋯⋯</td>
<td></td>
</tr>
<tr class="even">
<td style="text-align: center;">gのリターンアドレス</td>
<td></td>
</tr>
<tr class="odd">
<td style="text-align: center;">gの呼び出し時点のRBP</td>
<td></td>
</tr>
<tr class="even">
<td style="text-align: center;">x</td>
<td></td>
</tr>
<tr class="odd">
<td style="text-align: center;">y</td>
<td></td>
</tr>
<tr class="even">
<td style="text-align: center;">fのリターンアドレス</td>
<td></td>
</tr>
<tr class="odd">
<td style="text-align: center;">fの呼び出し時点のRBP</td>
<td>← RSP, RBP</td>
</tr>
</tbody>
</table></li>
<li><p><code class="notranslate">sub rsp, 16</code>を実行した後のスタック</p>
<table class="notranslate">
<tbody>
<tr class="odd">
<td style="text-align: center;">⋯⋯</td>
<td></td>
</tr>
<tr class="even">
<td style="text-align: center;">gのリターンアドレス</td>
<td></td>
</tr>
<tr class="odd">
<td style="text-align: center;">gの呼び出し時点のRBP</td>
<td></td>
</tr>
<tr class="even">
<td style="text-align: center;">x</td>
<td></td>
</tr>
<tr class="odd">
<td style="text-align: center;">y</td>
<td></td>
</tr>
<tr class="even">
<td style="text-align: center;">fのリターンアドレス</td>
<td></td>
</tr>
<tr class="odd">
<td style="text-align: center;">fの呼び出し時点のRBP</td>
<td>← RBP</td>
</tr>
<tr class="even">
<td style="text-align: center;">a</td>
<td></td>
</tr>
<tr class="odd">
<td style="text-align: center;">b</td>
<td>← RSP</td>
</tr>
</tbody>
</table></li>
</ol>
</div>
<p>関数からリターンするときには、RBPに元の値を書き戻して、RSPがリターンアドレスを指している状態にして、<code class="notranslate">ret</code>命令を呼びます（<code class="notranslate">ret</code>命令はスタックからアドレスをポップして、そこにジャンプする命令です）。それを行うコードは以下のように簡潔に書くことができます。</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode asm notranslate"><code class="sourceCode fasm notranslate"><span id="cb81-1"><a href="https://www.sigbus.info/compilerbook#cb81-1"></a><span class="bu">mov</span> <span class="kw">rsp</span>, <span class="kw">rbp</span></span>
<span id="cb81-2"><a href="https://www.sigbus.info/compilerbook#cb81-2"></a><span class="bu">pop</span> <span class="kw">rbp</span></span>
<span id="cb81-3"><a href="https://www.sigbus.info/compilerbook#cb81-3"></a><span class="bu">ret</span></span></code></pre></div>
<p>このようなコンパイラが関数の末尾に出力する定型の命令のことを「<span class="index" id="index56">エピローグ</span>」（epilogue）といいます。</p>
<p>エピローグを実行しているときのスタックの状態を以下に示します。RSPが指しているアドレスより下のスタック領域は、もはや無効なデータとみなしてよいので、図では省略しました。</p>
<div class="stack">
<ol>
<li><p><code class="notranslate">mov rsp, rbp</code>を実行する前のスタック</p>
<table class="notranslate">
<tbody>
<tr class="odd">
<td style="text-align: center;">⋯⋯</td>
<td></td>
</tr>
<tr class="even">
<td style="text-align: center;">gのリターンアドレス</td>
<td></td>
</tr>
<tr class="odd">
<td style="text-align: center;">gの呼び出し時点のRBP</td>
<td></td>
</tr>
<tr class="even">
<td style="text-align: center;">x</td>
<td></td>
</tr>
<tr class="odd">
<td style="text-align: center;">y</td>
<td></td>
</tr>
<tr class="even">
<td style="text-align: center;">fのリターンアドレス</td>
<td></td>
</tr>
<tr class="odd">
<td style="text-align: center;">fの呼び出し時点のRBP</td>
<td>← RBP</td>
</tr>
<tr class="even">
<td style="text-align: center;">a</td>
<td></td>
</tr>
<tr class="odd">
<td style="text-align: center;">b</td>
<td>← RSP</td>
</tr>
</tbody>
</table></li>
<li><p><code class="notranslate">mov rsp, rbp</code>を実行した後のスタック</p>
<table class="notranslate">
<tbody>
<tr class="odd">
<td style="text-align: center;">⋯⋯</td>
<td></td>
</tr>
<tr class="even">
<td style="text-align: center;">gのリターンアドレス</td>
<td></td>
</tr>
<tr class="odd">
<td style="text-align: center;">gの呼び出し時点のRBP</td>
<td></td>
</tr>
<tr class="even">
<td style="text-align: center;">x</td>
<td></td>
</tr>
<tr class="odd">
<td style="text-align: center;">y</td>
<td></td>
</tr>
<tr class="even">
<td style="text-align: center;">fのリターンアドレス</td>
<td></td>
</tr>
<tr class="odd">
<td style="text-align: center;">fの呼び出し時点のRBP</td>
<td>← RSP, RBP</td>
</tr>
</tbody>
</table></li>
<li><p><code class="notranslate">pop rbp</code>を実行した後のスタック</p>
<table class="notranslate">
<tbody>
<tr class="odd">
<td style="text-align: center;">⋯⋯</td>
<td></td>
</tr>
<tr class="even">
<td style="text-align: center;">gのリターンアドレス</td>
<td></td>
</tr>
<tr class="odd">
<td style="text-align: center;">gの呼び出し時点のRBP</td>
<td>← RBP</td>
</tr>
<tr class="even">
<td style="text-align: center;">x</td>
<td></td>
</tr>
<tr class="odd">
<td style="text-align: center;">y</td>
<td></td>
</tr>
<tr class="even">
<td style="text-align: center;">fのリターンアドレス</td>
<td>← RSP</td>
</tr>
</tbody>
</table></li>
<li><p><code class="notranslate">ret</code>を実行した後のスタック</p>
<table class="notranslate">
<tbody>
<tr class="odd">
<td style="text-align: center;">⋯⋯</td>
<td></td>
</tr>
<tr class="even">
<td style="text-align: center;">gのリターンアドレス</td>
<td></td>
</tr>
<tr class="odd">
<td style="text-align: center;">gの呼び出し時点のRBP</td>
<td>← RBP</td>
</tr>
<tr class="even">
<td style="text-align: center;">x</td>
<td></td>
</tr>
<tr class="odd">
<td style="text-align: center;">y</td>
<td>← RSP</td>
</tr>
</tbody>
</table></li>
</ol>
</div>
<p>このように、エピローグを実行することにより、呼び出し元の関数<code class="notranslate">g</code>のスタックの状態が復元されます。<code class="notranslate">call</code>命令は、<code class="notranslate">call</code>命令自体の次の命令のアドレスをスタックに積みます。エピローグの<code class="notranslate">ret</code>はそのアドレスをポップしてそこにジャンプするので、<code class="notranslate">call</code>の次の命令から関数<code class="notranslate">g</code>の実行が再開されることになります。こういった動作は、我々が知っている関数の動作と完全に一致しています。</p>
<p>このようにして関数呼び出しと関数のローカル変数というものは実現されているのです。</p>
<div class="note">
<p>コラム: スタックの伸びる方向</p>
<p>x86-64のスタックは、上記で説明したようにアドレスの大きい方から小さい方に成長します。逆方向、つまりスタックが上に向かって伸びる方が自然な感じがしますが、なぜスタックは下に伸びるように設計されているのでしょうか？</p>
<p>実はスタックが下に成長する技術的な必然性はありません。実際のCPUやABIでは、スタックの開始地点を上位アドレスにして下に成長するようにするものが主流ですが、極めてマイナーとはいえスタックが逆方向に成長するアーキテクチャもあります。例えば8051マイクロコントローラや、PA-RISCのABI<a href="https://www.sigbus.info/compilerbook#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a>、Multics<a href="https://www.sigbus.info/compilerbook#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a>などではスタックは上位アドレス方向に成長します。</p>
<p>とはいえ、スタックが下方向に成長するという設計は、とりたてて不自然なものというわけでもありません。</p>
<p>電源投入直後、まっさらの状態からCPUがプログラムの実行を始めるにあたって、実行を開始するアドレスというのは、普通はCPUの仕様で決まっています。よくある設計では、CPUはアドレス0のような下位アドレスから実行を始めることになっています。そうすると普通はプログラムのコードはまとめて下位アドレスに置くことになります。スタックが成長してプログラムのコードと被ることがないように、その2つをなるべく離して配置すると、スタックを上位アドレスに置いて、アドレス空間の中央方向に向かって成長するように設計することになります。このようにすると、スタックは下に成長することになります。</p>
<p>もちろん上記のCPUとは違った設計をまた考えることができて、そうするとスタックを上に伸ばすほうが自然な配置になります。これは正直どちらでもよい問題で、単に業界の一般的な認識としてマシンスタックは下に成長するということになっている、というのが実際のところです。</p>
</div>
<h3 id="トークナイザの変更-1"><a href="https://www.sigbus.info/compilerbook#%E3%83%88%E3%83%BC%E3%82%AF%E3%83%8A%E3%82%A4%E3%82%B6%E3%81%AE%E5%A4%89%E6%9B%B4-1" style="text-decoration: none; color: inherit;">トークナイザの変更</a></h3>
<p>変数をどのように実装すればよいのかがわかったところで、早速実装してみましょう。ただし任意の個数の変数をサポートするのは急に難しくなりすぎるので、このステップにおける変数は小文字1文字に限定することにして、変数<code class="notranslate">a</code>はRBP-8、変数<code class="notranslate">b</code>はRBP-16、変数<code class="notranslate">c</code>はRBP-24、というように、すべての変数が常に存在するものとします。アルファベットは26文字あるので、関数を呼び出すときに26×8すなわち208バイト分RSPを押し下げることにすると、すべての1文字変数の領域を確保できることになります。</p>
<p>では早速実装してみましょう。まずはトークナイザに手を加えて、今までの文法要素の他に、一文字の変数をトークナイズできるようにします。そのためには新たなトークンの型を追加する必要があります。変数名は<code class="notranslate">str</code>メンバーから読むことができるので、特に<code class="notranslate">Token</code>型に新たにメンバーを足す必要はありません。結果として、トークンの型は次のようになります。</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode c notranslate"><code class="sourceCode c notranslate"><span id="cb82-1"><a href="https://www.sigbus.info/compilerbook#cb82-1"></a><span class="kw">enum</span> {</span>
<span id="cb82-2"><a href="https://www.sigbus.info/compilerbook#cb82-2"></a>  TK_RESERVED, <span class="co">// 記号</span></span>
<span id="cb82-3"><a href="https://www.sigbus.info/compilerbook#cb82-3"></a>  TK_IDENT,    <span class="co">// 識別子</span></span>
<span id="cb82-4"><a href="https://www.sigbus.info/compilerbook#cb82-4"></a>  TK_NUM,      <span class="co">// 整数トークン</span></span>
<span id="cb82-5"><a href="https://www.sigbus.info/compilerbook#cb82-5"></a>  TK_EOF,      <span class="co">// 入力の終わりを表すトークン</span></span>
<span id="cb82-6"><a href="https://www.sigbus.info/compilerbook#cb82-6"></a>} TokenKind;</span></code></pre></div>
<p>トークナイザに変更を加えて、アルファベットの小文字ならば、<code class="notranslate">TK_IDENT</code>型のトークンを作成するようにしてください。次のような<code class="notranslate">if</code>文をトークナイザに加えれば良いはずです。</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode c notranslate"><code class="sourceCode c notranslate"><span id="cb83-1"><a href="https://www.sigbus.info/compilerbook#cb83-1"></a><span class="cf">if</span> (<span class="ch">'a'</span> &lt;= *p &amp;&amp; *p &lt;= <span class="ch">'z'</span>) {</span>
<span id="cb83-2"><a href="https://www.sigbus.info/compilerbook#cb83-2"></a>  cur = new_token(TK_IDENT, cur, p++);</span>
<span id="cb83-3"><a href="https://www.sigbus.info/compilerbook#cb83-3"></a>  cur-&gt;len = <span class="dv">1</span>;</span>
<span id="cb83-4"><a href="https://www.sigbus.info/compilerbook#cb83-4"></a>  <span class="cf">continue</span>;</span>
<span id="cb83-5"><a href="https://www.sigbus.info/compilerbook#cb83-5"></a>}</span></code></pre></div>
<h3 id="パーサの変更"><a href="https://www.sigbus.info/compilerbook#%E3%83%91%E3%83%BC%E3%82%B5%E3%81%AE%E5%A4%89%E6%9B%B4" style="text-decoration: none; color: inherit;">パーサの変更</a></h3>
<p>再帰下降構文解析では文法さえわかれば機械的に関数呼び出しにマップできるのでした。したがって、パーサに加えるべき変更を考えるためには、変数名（識別子）を加えた新たな文法がどうなっているのかを考えてみる必要があります。</p>
<p>識別子を<code class="notranslate">ident</code>としましょう。これは<code class="notranslate">num</code>と同じように終端記号です。変数というのは数値が使えるところではどこでも使えるので、<code class="notranslate">num</code>だったところを<code class="notranslate">num | ident</code>というようにすると、数値と同じ場所で変数が使える文法になります。</p>
<p>それに加えて、文法に代入式を足す必要があります。変数は代入できないと仕方がないので、<code class="notranslate">a=1</code>のような式を許す文法にしたいというわけです。ここではCにあわせて、<code class="notranslate">a=b=1</code>のように書ける文法にしておきましょう。</p>
<p>さらに、セミコロン区切りで複数の文（ステートメント）を書けるようにしたいので、結果として新しい文法は以下のようになります。</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode scheme notranslate"><code class="sourceCode scheme notranslate"><span id="cb84-1"><a href="https://www.sigbus.info/compilerbook#cb84-1"></a>program    <span class="op">=</span> stmt*</span>
<span id="cb84-2"><a href="https://www.sigbus.info/compilerbook#cb84-2"></a>stmt       <span class="op">=</span> expr <span class="st">";"</span></span>
<span id="cb84-3"><a href="https://www.sigbus.info/compilerbook#cb84-3"></a>expr       <span class="op">=</span> assign</span>
<span id="cb84-4"><a href="https://www.sigbus.info/compilerbook#cb84-4"></a>assign     <span class="op">=</span> equality (<span class="st">"="</span> assign)?</span>
<span id="cb84-5"><a href="https://www.sigbus.info/compilerbook#cb84-5"></a>equality   <span class="op">=</span> relational (<span class="st">"=="</span> relational | <span class="st">"!="</span> relational)*</span>
<span id="cb84-6"><a href="https://www.sigbus.info/compilerbook#cb84-6"></a>relational <span class="op">=</span> add (<span class="st">"&lt;"</span> add | <span class="st">"&lt;="</span> add | <span class="st">"&gt;"</span> add | <span class="st">"&gt;="</span> add)*</span>
<span id="cb84-7"><a href="https://www.sigbus.info/compilerbook#cb84-7"></a>add        <span class="op">=</span> mul (<span class="st">"+"</span> mul | <span class="st">"-"</span> mul)*</span>
<span id="cb84-8"><a href="https://www.sigbus.info/compilerbook#cb84-8"></a>mul        <span class="op">=</span> unary (<span class="st">"*"</span> unary | <span class="st">"/"</span> unary)*</span>
<span id="cb84-9"><a href="https://www.sigbus.info/compilerbook#cb84-9"></a>unary      <span class="op">=</span> (<span class="st">"+"</span> | <span class="st">"-"</span>)? primary</span>
<span id="cb84-10"><a href="https://www.sigbus.info/compilerbook#cb84-10"></a>primary    <span class="op">=</span> num | ident | <span class="st">"("</span> expr <span class="st">")"</span></span></code></pre></div>
<p>まずは<code class="notranslate">42;</code>や<code class="notranslate">a=b=2; a+b;</code>のようなプログラムがこの文法に合致していることを確認してみてください。そのあと、ここまでで作成したパーサに手を入れて、上記の文法をパースできるようにしてください。この段階では<code class="notranslate">a+1=5</code>のような式もパースできてしまいますが、それは正しい動作です。そのような意味的に不正な式の排除は次のパスで行います。パーサを改造することについては、特にトリッキーなところはなく、いままでと同じように文法要素をそのまま関数呼び出しにマップしていけばできるはずです。</p>
<p>セミコロン区切りで複数の式をかけるようにしたので、パースの結果として複数のノードをどこかに保存する必要があります。いまのところは次のグローバルな配列を用意して、そこにパース結果のノードを順にストアするようにしてください。最後のノードはNULLで埋めておくと、どこが末尾かわかるようになります。新規に追加するコードの一部を以下に示します。</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode c notranslate"><code class="sourceCode c notranslate"><span id="cb85-1"><a href="https://www.sigbus.info/compilerbook#cb85-1"></a>Node *code[<span class="dv">100</span>];</span>
<span id="cb85-2"><a href="https://www.sigbus.info/compilerbook#cb85-2"></a></span>
<span id="cb85-3"><a href="https://www.sigbus.info/compilerbook#cb85-3"></a>Node *assign() {</span>
<span id="cb85-4"><a href="https://www.sigbus.info/compilerbook#cb85-4"></a>  Node *node = equality();</span>
<span id="cb85-5"><a href="https://www.sigbus.info/compilerbook#cb85-5"></a>  <span class="cf">if</span> (consume(<span class="st">"="</span>))</span>
<span id="cb85-6"><a href="https://www.sigbus.info/compilerbook#cb85-6"></a>    node = new_node(ND_ASSIGN, node, assign());</span>
<span id="cb85-7"><a href="https://www.sigbus.info/compilerbook#cb85-7"></a>  <span class="cf">return</span> node;</span>
<span id="cb85-8"><a href="https://www.sigbus.info/compilerbook#cb85-8"></a>}</span>
<span id="cb85-9"><a href="https://www.sigbus.info/compilerbook#cb85-9"></a></span>
<span id="cb85-10"><a href="https://www.sigbus.info/compilerbook#cb85-10"></a>Node *expr() {</span>
<span id="cb85-11"><a href="https://www.sigbus.info/compilerbook#cb85-11"></a>  <span class="cf">return</span> assign();</span>
<span id="cb85-12"><a href="https://www.sigbus.info/compilerbook#cb85-12"></a>}</span>
<span id="cb85-13"><a href="https://www.sigbus.info/compilerbook#cb85-13"></a></span>
<span id="cb85-14"><a href="https://www.sigbus.info/compilerbook#cb85-14"></a>Node *stmt() {</span>
<span id="cb85-15"><a href="https://www.sigbus.info/compilerbook#cb85-15"></a>  Node *node = expr();</span>
<span id="cb85-16"><a href="https://www.sigbus.info/compilerbook#cb85-16"></a>  expect(<span class="st">";"</span>);</span>
<span id="cb85-17"><a href="https://www.sigbus.info/compilerbook#cb85-17"></a>  <span class="cf">return</span> node;</span>
<span id="cb85-18"><a href="https://www.sigbus.info/compilerbook#cb85-18"></a>}</span>
<span id="cb85-19"><a href="https://www.sigbus.info/compilerbook#cb85-19"></a></span>
<span id="cb85-20"><a href="https://www.sigbus.info/compilerbook#cb85-20"></a><span class="dt">void</span> program() {</span>
<span id="cb85-21"><a href="https://www.sigbus.info/compilerbook#cb85-21"></a>  <span class="dt">int</span> i = <span class="dv">0</span>;</span>
<span id="cb85-22"><a href="https://www.sigbus.info/compilerbook#cb85-22"></a>  <span class="cf">while</span> (!at_eof())</span>
<span id="cb85-23"><a href="https://www.sigbus.info/compilerbook#cb85-23"></a>    code[i++] = stmt();</span>
<span id="cb85-24"><a href="https://www.sigbus.info/compilerbook#cb85-24"></a>  code[i] = NULL;</span>
<span id="cb85-25"><a href="https://www.sigbus.info/compilerbook#cb85-25"></a>}</span></code></pre></div>
<p>抽象構文木では新たに「ローカル変数を表すノード」を表現できるようになる必要があります。そのために、ローカル変数の新しい型と、ノードの新しいメンバーを追加しましょう。例えば次のようになるはずです。このデータ構造では、パーサは識別子トークンに対して<code class="notranslate">ND_LVAR</code>型のノードを作成して返すことになります。</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode c notranslate"><code class="sourceCode c notranslate"><span id="cb86-1"><a href="https://www.sigbus.info/compilerbook#cb86-1"></a><span class="kw">typedef</span> <span class="kw">enum</span> {</span>
<span id="cb86-2"><a href="https://www.sigbus.info/compilerbook#cb86-2"></a>  ND_ADD,    <span class="co">// +</span></span>
<span id="cb86-3"><a href="https://www.sigbus.info/compilerbook#cb86-3"></a>  ND_SUB,    <span class="co">// -</span></span>
<span id="cb86-4"><a href="https://www.sigbus.info/compilerbook#cb86-4"></a>  ND_MUL,    <span class="co">// *</span></span>
<span id="cb86-5"><a href="https://www.sigbus.info/compilerbook#cb86-5"></a>  ND_DIV,    <span class="co">// /</span></span>
<span id="cb86-6"><a href="https://www.sigbus.info/compilerbook#cb86-6"></a>  ND_ASSIGN, <span class="co">// =</span></span>
<span id="cb86-7"><a href="https://www.sigbus.info/compilerbook#cb86-7"></a>  ND_LVAR,   <span class="co">// ローカル変数</span></span>
<span id="cb86-8"><a href="https://www.sigbus.info/compilerbook#cb86-8"></a>  ND_NUM,    <span class="co">// 整数</span></span>
<span id="cb86-9"><a href="https://www.sigbus.info/compilerbook#cb86-9"></a>} NodeKind;</span>
<span id="cb86-10"><a href="https://www.sigbus.info/compilerbook#cb86-10"></a></span>
<span id="cb86-11"><a href="https://www.sigbus.info/compilerbook#cb86-11"></a><span class="kw">typedef</span> <span class="kw">struct</span> Node Node;</span>
<span id="cb86-12"><a href="https://www.sigbus.info/compilerbook#cb86-12"></a></span>
<span id="cb86-13"><a href="https://www.sigbus.info/compilerbook#cb86-13"></a><span class="co">// 抽象構文木のノード</span></span>
<span id="cb86-14"><a href="https://www.sigbus.info/compilerbook#cb86-14"></a><span class="kw">struct</span> Node {</span>
<span id="cb86-15"><a href="https://www.sigbus.info/compilerbook#cb86-15"></a>  NodeKind kind; <span class="co">// ノードの型</span></span>
<span id="cb86-16"><a href="https://www.sigbus.info/compilerbook#cb86-16"></a>  Node *lhs;     <span class="co">// 左辺</span></span>
<span id="cb86-17"><a href="https://www.sigbus.info/compilerbook#cb86-17"></a>  Node *rhs;     <span class="co">// 右辺</span></span>
<span id="cb86-18"><a href="https://www.sigbus.info/compilerbook#cb86-18"></a>  <span class="dt">int</span> val;       <span class="co">// kindがND_NUMの場合のみ使う</span></span>
<span id="cb86-19"><a href="https://www.sigbus.info/compilerbook#cb86-19"></a>  <span class="dt">int</span> offset;    <span class="co">// kindがND_LVARの場合のみ使う</span></span>
<span id="cb86-20"><a href="https://www.sigbus.info/compilerbook#cb86-20"></a>};</span></code></pre></div>
<p><code class="notranslate">offset</code>というのは、ローカル変数のベースポインタからのオフセットを表すメンバーです。今のところ、変数<code class="notranslate">a</code>はRBP-8、<code class="notranslate">b</code>はRBP-16⋯⋯というように、ローカル変数は名前で決まる固定の位置にあるので、オフセットは構文解析の段階で決めることができます。以下に識別子を読み込んで<code class="notranslate">ND_LVAR</code>型のノードを返すコードを示します。</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode c notranslate"><code class="sourceCode c notranslate"><span id="cb87-1"><a href="https://www.sigbus.info/compilerbook#cb87-1"></a>Node *primary() {</span>
<span id="cb87-2"><a href="https://www.sigbus.info/compilerbook#cb87-2"></a>  ...</span>
<span id="cb87-3"><a href="https://www.sigbus.info/compilerbook#cb87-3"></a></span>
<span id="cb87-4"><a href="https://www.sigbus.info/compilerbook#cb87-4"></a>  Token *tok = consume_ident();</span>
<span id="cb87-5"><a href="https://www.sigbus.info/compilerbook#cb87-5"></a>  <span class="cf">if</span> (tok) {</span>
<span id="cb87-6"><a href="https://www.sigbus.info/compilerbook#cb87-6"></a>    Node *node = calloc(<span class="dv">1</span>, <span class="kw">sizeof</span>(Node));</span>
<span id="cb87-7"><a href="https://www.sigbus.info/compilerbook#cb87-7"></a>    node-&gt;kind = ND_LVAR;</span>
<span id="cb87-8"><a href="https://www.sigbus.info/compilerbook#cb87-8"></a>    node-&gt;offset = (tok-&gt;str[<span class="dv">0</span>] - <span class="ch">'a'</span> + <span class="dv">1</span>) * <span class="dv">8</span>;</span>
<span id="cb87-9"><a href="https://www.sigbus.info/compilerbook#cb87-9"></a>    <span class="cf">return</span> node;</span>
<span id="cb87-10"><a href="https://www.sigbus.info/compilerbook#cb87-10"></a>  }</span>
<span id="cb87-11"><a href="https://www.sigbus.info/compilerbook#cb87-11"></a></span>
<span id="cb87-12"><a href="https://www.sigbus.info/compilerbook#cb87-12"></a>  ...</span></code></pre></div>
<div class="note">
<p>コラム: ASCIIコード</p>
<p><span class="index" id="index57">ASCIIコード</span>では、0〜127までの数に対して文字が割り当てられています。ASCIIコードにおける文字の割り当ての表を下に示します。</p>
<table class="notranslate">
<tbody>
<tr class="odd">
<td style="text-align: right;">0</td>
<td style="text-align: center;">NUL</td>
<td style="text-align: center;">SOH</td>
<td style="text-align: center;">STX</td>
<td style="text-align: center;">ETX</td>
<td style="text-align: center;">EOT</td>
<td style="text-align: center;">ENQ</td>
<td style="text-align: center;">ACK</td>
<td style="text-align: center;">BEL</td>
</tr>
<tr class="even">
<td style="text-align: right;">8</td>
<td style="text-align: center;">BS</td>
<td style="text-align: center;">HT</td>
<td style="text-align: center;">NL</td>
<td style="text-align: center;">VT</td>
<td style="text-align: center;">NP</td>
<td style="text-align: center;">CR</td>
<td style="text-align: center;">SO</td>
<td style="text-align: center;">SI</td>
</tr>
<tr class="odd">
<td style="text-align: right;">16</td>
<td style="text-align: center;">DLE</td>
<td style="text-align: center;">DC1</td>
<td style="text-align: center;">DC2</td>
<td style="text-align: center;">DC3</td>
<td style="text-align: center;">DC4</td>
<td style="text-align: center;">NAK</td>
<td style="text-align: center;">SYN</td>
<td style="text-align: center;">ETB</td>
</tr>
<tr class="even">
<td style="text-align: right;">24</td>
<td style="text-align: center;">CAN</td>
<td style="text-align: center;">EM</td>
<td style="text-align: center;">SUB</td>
<td style="text-align: center;">ESC</td>
<td style="text-align: center;">FS</td>
<td style="text-align: center;">GS</td>
<td style="text-align: center;">RS</td>
<td style="text-align: center;">US</td>
</tr>
<tr class="odd">
<td style="text-align: right;">32</td>
<td style="text-align: center;">sp</td>
<td style="text-align: center;">!</td>
<td style="text-align: center;">"</td>
<td style="text-align: center;">#</td>
<td style="text-align: center;">$</td>
<td style="text-align: center;">%</td>
<td style="text-align: center;">&amp;</td>
<td style="text-align: center;">'</td>
</tr>
<tr class="even">
<td style="text-align: right;">40</td>
<td style="text-align: center;">(</td>
<td style="text-align: center;">)</td>
<td style="text-align: center;">*</td>
<td style="text-align: center;">+</td>
<td style="text-align: center;">,</td>
<td style="text-align: center;">-</td>
<td style="text-align: center;">.</td>
<td style="text-align: center;">/</td>
</tr>
<tr class="odd">
<td style="text-align: right;">48</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">3</td>
<td style="text-align: center;">4</td>
<td style="text-align: center;">5</td>
<td style="text-align: center;">6</td>
<td style="text-align: center;">7</td>
</tr>
<tr class="even">
<td style="text-align: right;">56</td>
<td style="text-align: center;">8</td>
<td style="text-align: center;">9</td>
<td style="text-align: center;">:</td>
<td style="text-align: center;">;</td>
<td style="text-align: center;">&lt;</td>
<td style="text-align: center;">=</td>
<td style="text-align: center;">&gt;</td>
<td style="text-align: center;">?</td>
</tr>
<tr class="odd">
<td style="text-align: right;">64</td>
<td style="text-align: center;">@</td>
<td style="text-align: center;">A</td>
<td style="text-align: center;">B</td>
<td style="text-align: center;">C</td>
<td style="text-align: center;">D</td>
<td style="text-align: center;">E</td>
<td style="text-align: center;">F</td>
<td style="text-align: center;">G</td>
</tr>
<tr class="even">
<td style="text-align: right;">72</td>
<td style="text-align: center;">H</td>
<td style="text-align: center;">I</td>
<td style="text-align: center;">J</td>
<td style="text-align: center;">K</td>
<td style="text-align: center;">L</td>
<td style="text-align: center;">M</td>
<td style="text-align: center;">N</td>
<td style="text-align: center;">O</td>
</tr>
<tr class="odd">
<td style="text-align: right;">80</td>
<td style="text-align: center;">P</td>
<td style="text-align: center;">Q</td>
<td style="text-align: center;">R</td>
<td style="text-align: center;">S</td>
<td style="text-align: center;">T</td>
<td style="text-align: center;">U</td>
<td style="text-align: center;">V</td>
<td style="text-align: center;">W</td>
</tr>
<tr class="even">
<td style="text-align: right;">88</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">Y</td>
<td style="text-align: center;">Z</td>
<td style="text-align: center;">[</td>
<td style="text-align: center;">\</td>
<td style="text-align: center;">]</td>
<td style="text-align: center;">^</td>
<td style="text-align: center;">_</td>
</tr>
<tr class="odd">
<td style="text-align: right;">96</td>
<td style="text-align: center;">`</td>
<td style="text-align: center;">a</td>
<td style="text-align: center;">b</td>
<td style="text-align: center;">c</td>
<td style="text-align: center;">d</td>
<td style="text-align: center;">e</td>
<td style="text-align: center;">f</td>
<td style="text-align: center;">g</td>
</tr>
<tr class="even">
<td style="text-align: right;">104</td>
<td style="text-align: center;">h</td>
<td style="text-align: center;">i</td>
<td style="text-align: center;">j</td>
<td style="text-align: center;">k</td>
<td style="text-align: center;">l</td>
<td style="text-align: center;">m</td>
<td style="text-align: center;">n</td>
<td style="text-align: center;">o</td>
</tr>
<tr class="odd">
<td style="text-align: right;">112</td>
<td style="text-align: center;">p</td>
<td style="text-align: center;">q</td>
<td style="text-align: center;">r</td>
<td style="text-align: center;">s</td>
<td style="text-align: center;">t</td>
<td style="text-align: center;">u</td>
<td style="text-align: center;">v</td>
<td style="text-align: center;">w</td>
</tr>
<tr class="even">
<td style="text-align: right;">120</td>
<td style="text-align: center;">x</td>
<td style="text-align: center;">y</td>
<td style="text-align: center;">z</td>
<td style="text-align: center;">{</td>
<td style="text-align: center;">|</td>
<td style="text-align: center;">}</td>
<td style="text-align: center;">~</td>
<td style="text-align: center;">DEL</td>
</tr>
</tbody>
</table>
<p>0〜31にあるのは制御文字です。現在ではNUL文字や改行文字などを除いて、このような制御文字を使う機会はほとんどなく、ほとんどの制御文字は文字コードの一等地を無駄に占めているだけの存在になってしまっていますが、ASCIIコードが策定された1963年当時には、これらの制御文字は実際によく使われていました。ASCII標準の策定時には、アルファベットの小文字を入れる代わりにさらに多くの制御文字を入れようという提案すらありました<a href="https://www.sigbus.info/compilerbook#fn5" class="footnote-ref" id="fnref5" role="doc-noteref"><sup>5</sup></a>。</p>
<p>48〜58には数字、65〜90には大文字、97〜122には小文字が割り当てられています。これらの文字が連続したコードに割り当てられていることに注目してください。つまり0123456789やabcdefg...は文字コード上で連続しています。順番が定義されている文字をこのように連続した位置に置くのは当然のことに思えますが、<a href="https://ja.wikipedia.org/wiki/EBCDIC">EBCDIC</a>といった当時はメジャーだった文字コードでは、パンチカードの影響でアルファベットはコード上で連続していませんでした。</p>
<p>Cでは文字は整数型の単なる小さな値で、文字に対応するコードを数値として書くのと意味は変わりません。つまりASCIIを前提にすると、例えば<code class="notranslate">'a'</code>は97、<code class="notranslate">'0'</code>は48と等価です。上記のコードでは文字から<code class="notranslate">a</code>を数値として引いている式がありましたが、そのようにすると、与えられた文字がaから何文字離れているかを計算することができます。これはASCIIコード上でアルファベットが連続して並べられているからこそできる技なのです。</p>
</div>
<h3 id="左辺値と右辺値"><a href="https://www.sigbus.info/compilerbook#%E5%B7%A6%E8%BE%BA%E5%80%A4%E3%81%A8%E5%8F%B3%E8%BE%BA%E5%80%A4" style="text-decoration: none; color: inherit;">左辺値と右辺値</a></h3>
<p>代入式はそれ以外の二項演算子とは違って、左辺の値を特別に扱う必要があるので、それについてここで説明しておきましょう。</p>
<p>代入式の左辺はどのような式でも許されているというわけではありません。例えば<code class="notranslate">1=2</code>というように1を2にすることはできません。<code class="notranslate">a=2</code>のような代入は許されていますが、<code class="notranslate">(a+1)=2</code>のような文は不正です。9ccにはまだポインタや構造体は存在していませんが、もし存在しているとしたら、<code class="notranslate">*p=2</code>のようなポインタの指している先への代入や、<code class="notranslate">a.b=2</code>のような構造体のメンバへの代入は、正当なものとして許さなければいけません。このような正当な式と不正な式の区別はどのようにつければよいのでしょうか？</p>
<p>その問いには単純な答えがあります。Cにおいて代入式の左辺にくることができるのは、基本的にメモリのアドレスを指定する式だけです。</p>
<p>変数というのはメモリに存在していてアドレスを持っているので、変数は代入の左辺に書くことができます。同様に、<code class="notranslate">*p</code>のようなポインタ参照も、<code class="notranslate">p</code>の値がアドレスだという話なので、これも左辺に書くことができます。<code class="notranslate">a.b</code>のような構造体のメンバアクセスも、メモリ上に存在する構造体<code class="notranslate">a</code>の開始位置から<code class="notranslate">b</code>というメンバのオフセット分進んだメモリアドレスを指しているので、左辺に書くことができます。</p>
<p>一方で、<code class="notranslate">a+1</code>のような式の結果は、変数ではないので、メモリのアドレスを指定する式としては使えないということになっています。こういったテンポラリな値は、実際にレジスタだけに存在していてメモリ上にないかもしれないですし、メモリ上に存在していたとしても、既知の変数からの固定のオフセットでアクセスすることは普通はできません。こうした理由から、例えば<code class="notranslate">&amp;(a+1)</code>のように書いても、<code class="notranslate">a+1</code>の結果のアドレスを取得することは許されておらず、コンパイルエラーになります。こういった式は代入文の左辺に書くことはできません。</p>
<p>左辺に書くことができる値のことを<span class="index" id="index58">左辺値</span>（さへんち、left value）、そうではない値のことを<span class="index" id="index59">右辺値</span>（うへんち、right value）といいます。左辺値と右辺値はそれぞれ<span class="index" id="index60">lvalue</span>、<span class="index" id="index61">rvalue</span>ということもあります。現在の我々の言語では、変数のみが左辺値で、それ以外の値はすべて右辺値です。</p>
<p>変数のコード生成を行う際は左辺値を起点に考えることができます。代入の左辺として変数が現れている場合は、左辺の値として変数のアドレスを計算するようにして、そのアドレスに対して右辺の評価結果をストアします。これにより代入式を実装することができます。それ以外のコンテキストで変数が現れている場合は、同じように変数のアドレスを計算したあとに、そのアドレスから値をロードすることにより、左辺値を右辺値に変換します。これにより変数の値を取得することができます。</p>
<h3 id="任意のアドレスから値をロードする方法"><a href="https://www.sigbus.info/compilerbook#%E4%BB%BB%E6%84%8F%E3%81%AE%E3%82%A2%E3%83%89%E3%83%AC%E3%82%B9%E3%81%8B%E3%82%89%E5%80%A4%E3%82%92%E3%83%AD%E3%83%BC%E3%83%89%E3%81%99%E3%82%8B%E6%96%B9%E6%B3%95" style="text-decoration: none; color: inherit;">任意のアドレスから値をロードする方法</a></h3>
<p>ここまでのコード生成ではスタックトップのメモリにしかアクセスしていませんでしたが、ローカル変数ではスタック上の任意の位置にアクセスする必要があります。ここではメモリアクセスの方法について説明します。</p>
<p>CPUはスタックトップだけではなくメモリの任意のアドレスから値をロードしたりストアすることができます。</p>
<p>メモリから値をロードするときは、<code class="notranslate">mov dst, [src]</code>という構文を使います。この命令は「srcレジスタの値をアドレスとみなしてそこから値をロードしdstに保存する」という意味です。例えば<code class="notranslate">mov rdi, [rax]</code>ならば、RAXに入っているアドレスから値をロードしてRDIにセットするということになります。</p>
<p>ストアするときは、<code class="notranslate">mov [dst], src</code>という構文を使います。この命令は「dstレジスタの値をアドレスとみなして、srcレジスタの値をそこにストアする」という意味です。例えば<code class="notranslate">mov [rdi], rax</code>ならば、RAXの値を、RDIに入っているアドレスにストアするということになります。</p>
<p><code class="notranslate">push</code>や<code class="notranslate">pop</code>は暗黙のうちにRSPをアドレスとみなしてメモリアクセスをする命令なので、実はこれらは普通のメモリアクセス命令を使って複数の命令で書き直すことができます。つまり、例えば<code class="notranslate">pop rax</code>は</p>
<pre class="notranslate"><code class="notranslate">mov rax, [rsp]
add rsp, 8</code></pre>
<p>という2つの命令と同じですし、<code class="notranslate">push rax</code>は</p>
<pre class="notranslate"><code class="notranslate">sub rsp, 8
mov [rsp], rax</code></pre>
<p>という2つの命令と同じです。</p>
<h3 id="コードジェネレータの変更"><a href="https://www.sigbus.info/compilerbook#%E3%82%B3%E3%83%BC%E3%83%89%E3%82%B8%E3%82%A7%E3%83%8D%E3%83%AC%E3%83%BC%E3%82%BF%E3%81%AE%E5%A4%89%E6%9B%B4" style="text-decoration: none; color: inherit;">コードジェネレータの変更</a></h3>
<p>ここまでの知識を使って、変数を含む式を扱えるようにコードジェネレータに変更を加えてみましょう。今回の変更では式を左辺値として評価するという関数を追加することになります。下のコードにおける<code class="notranslate">gen_lval</code>という関数はそれを行なっています。<code class="notranslate">gen_lval</code>は、与えられたノードが変数を指しているときに、その変数のアドレスを計算して、それをスタックにプッシュします。それ以外の場合にはエラーを表示します。これにより<code class="notranslate">(a+1)=2</code>のような式が排除されることになります。</p>
<p>変数を右辺値として使う場合は、まず左辺値として評価したあと、スタックトップにある計算結果をアドレスとみなして、そのアドレスから値をロードします。コードを下に示します。</p>
<div class="sourceCode" id="cb90"><pre class="sourceCode c notranslate"><code class="sourceCode c notranslate"><span id="cb90-1"><a href="https://www.sigbus.info/compilerbook#cb90-1"></a><span class="dt">void</span> gen_lval(Node *node) {</span>
<span id="cb90-2"><a href="https://www.sigbus.info/compilerbook#cb90-2"></a>  <span class="cf">if</span> (node-&gt;kind != ND_LVAR)</span>
<span id="cb90-3"><a href="https://www.sigbus.info/compilerbook#cb90-3"></a>    error(<span class="st">"代入の左辺値が変数ではありません"</span>);</span>
<span id="cb90-4"><a href="https://www.sigbus.info/compilerbook#cb90-4"></a></span>
<span id="cb90-5"><a href="https://www.sigbus.info/compilerbook#cb90-5"></a>  printf(<span class="st">"  mov rax, rbp</span><span class="sc">\n</span><span class="st">"</span>);</span>
<span id="cb90-6"><a href="https://www.sigbus.info/compilerbook#cb90-6"></a>  printf(<span class="st">"  sub rax, %d</span><span class="sc">\n</span><span class="st">"</span>, node-&gt;offset);</span>
<span id="cb90-7"><a href="https://www.sigbus.info/compilerbook#cb90-7"></a>  printf(<span class="st">"  push rax</span><span class="sc">\n</span><span class="st">"</span>);</span>
<span id="cb90-8"><a href="https://www.sigbus.info/compilerbook#cb90-8"></a>}</span>
<span id="cb90-9"><a href="https://www.sigbus.info/compilerbook#cb90-9"></a></span>
<span id="cb90-10"><a href="https://www.sigbus.info/compilerbook#cb90-10"></a><span class="dt">void</span> gen(Node *node) {</span>
<span id="cb90-11"><a href="https://www.sigbus.info/compilerbook#cb90-11"></a>  <span class="cf">switch</span> (node-&gt;kind) {</span>
<span id="cb90-12"><a href="https://www.sigbus.info/compilerbook#cb90-12"></a>  <span class="cf">case</span> ND_NUM:</span>
<span id="cb90-13"><a href="https://www.sigbus.info/compilerbook#cb90-13"></a>    printf(<span class="st">"  push %d</span><span class="sc">\n</span><span class="st">"</span>, node-&gt;val);</span>
<span id="cb90-14"><a href="https://www.sigbus.info/compilerbook#cb90-14"></a>    <span class="cf">return</span>;</span>
<span id="cb90-15"><a href="https://www.sigbus.info/compilerbook#cb90-15"></a>  <span class="cf">case</span> ND_LVAR:</span>
<span id="cb90-16"><a href="https://www.sigbus.info/compilerbook#cb90-16"></a>    gen_lval(node);</span>
<span id="cb90-17"><a href="https://www.sigbus.info/compilerbook#cb90-17"></a>    printf(<span class="st">"  pop rax</span><span class="sc">\n</span><span class="st">"</span>);</span>
<span id="cb90-18"><a href="https://www.sigbus.info/compilerbook#cb90-18"></a>    printf(<span class="st">"  mov rax, [rax]</span><span class="sc">\n</span><span class="st">"</span>);</span>
<span id="cb90-19"><a href="https://www.sigbus.info/compilerbook#cb90-19"></a>    printf(<span class="st">"  push rax</span><span class="sc">\n</span><span class="st">"</span>);</span>
<span id="cb90-20"><a href="https://www.sigbus.info/compilerbook#cb90-20"></a>    <span class="cf">return</span>;</span>
<span id="cb90-21"><a href="https://www.sigbus.info/compilerbook#cb90-21"></a>  <span class="cf">case</span> ND_ASSIGN:</span>
<span id="cb90-22"><a href="https://www.sigbus.info/compilerbook#cb90-22"></a>    gen_lval(node-&gt;lhs);</span>
<span id="cb90-23"><a href="https://www.sigbus.info/compilerbook#cb90-23"></a>    gen(node-&gt;rhs);</span>
<span id="cb90-24"><a href="https://www.sigbus.info/compilerbook#cb90-24"></a></span>
<span id="cb90-25"><a href="https://www.sigbus.info/compilerbook#cb90-25"></a>    printf(<span class="st">"  pop rdi</span><span class="sc">\n</span><span class="st">"</span>);</span>
<span id="cb90-26"><a href="https://www.sigbus.info/compilerbook#cb90-26"></a>    printf(<span class="st">"  pop rax</span><span class="sc">\n</span><span class="st">"</span>);</span>
<span id="cb90-27"><a href="https://www.sigbus.info/compilerbook#cb90-27"></a>    printf(<span class="st">"  mov [rax], rdi</span><span class="sc">\n</span><span class="st">"</span>);</span>
<span id="cb90-28"><a href="https://www.sigbus.info/compilerbook#cb90-28"></a>    printf(<span class="st">"  push rdi</span><span class="sc">\n</span><span class="st">"</span>);</span>
<span id="cb90-29"><a href="https://www.sigbus.info/compilerbook#cb90-29"></a>    <span class="cf">return</span>;</span>
<span id="cb90-30"><a href="https://www.sigbus.info/compilerbook#cb90-30"></a>  }</span>
<span id="cb90-31"><a href="https://www.sigbus.info/compilerbook#cb90-31"></a></span>
<span id="cb90-32"><a href="https://www.sigbus.info/compilerbook#cb90-32"></a>  gen(node-&gt;lhs);</span>
<span id="cb90-33"><a href="https://www.sigbus.info/compilerbook#cb90-33"></a>  gen(node-&gt;rhs);</span>
<span id="cb90-34"><a href="https://www.sigbus.info/compilerbook#cb90-34"></a></span>
<span id="cb90-35"><a href="https://www.sigbus.info/compilerbook#cb90-35"></a>  printf(<span class="st">"  pop rdi</span><span class="sc">\n</span><span class="st">"</span>);</span>
<span id="cb90-36"><a href="https://www.sigbus.info/compilerbook#cb90-36"></a>  printf(<span class="st">"  pop rax</span><span class="sc">\n</span><span class="st">"</span>);</span>
<span id="cb90-37"><a href="https://www.sigbus.info/compilerbook#cb90-37"></a></span>
<span id="cb90-38"><a href="https://www.sigbus.info/compilerbook#cb90-38"></a>  <span class="cf">switch</span> (node-&gt;kind) {</span>
<span id="cb90-39"><a href="https://www.sigbus.info/compilerbook#cb90-39"></a>  <span class="cf">case</span> <span class="ch">'+'</span>:</span>
<span id="cb90-40"><a href="https://www.sigbus.info/compilerbook#cb90-40"></a>    printf(<span class="st">"  add rax, rdi</span><span class="sc">\n</span><span class="st">"</span>);</span>
<span id="cb90-41"><a href="https://www.sigbus.info/compilerbook#cb90-41"></a>    <span class="cf">break</span>;</span>
<span id="cb90-42"><a href="https://www.sigbus.info/compilerbook#cb90-42"></a>  <span class="cf">case</span> <span class="ch">'-'</span>:</span>
<span id="cb90-43"><a href="https://www.sigbus.info/compilerbook#cb90-43"></a>    printf(<span class="st">"  sub rax, rdi</span><span class="sc">\n</span><span class="st">"</span>);</span>
<span id="cb90-44"><a href="https://www.sigbus.info/compilerbook#cb90-44"></a>    <span class="cf">break</span>;</span>
<span id="cb90-45"><a href="https://www.sigbus.info/compilerbook#cb90-45"></a>  <span class="cf">case</span> <span class="ch">'*'</span>:</span>
<span id="cb90-46"><a href="https://www.sigbus.info/compilerbook#cb90-46"></a>    printf(<span class="st">"  imul rax, rdi</span><span class="sc">\n</span><span class="st">"</span>);</span>
<span id="cb90-47"><a href="https://www.sigbus.info/compilerbook#cb90-47"></a>    <span class="cf">break</span>;</span>
<span id="cb90-48"><a href="https://www.sigbus.info/compilerbook#cb90-48"></a>  <span class="cf">case</span> <span class="ch">'/'</span>:</span>
<span id="cb90-49"><a href="https://www.sigbus.info/compilerbook#cb90-49"></a>    printf(<span class="st">"  cqo</span><span class="sc">\n</span><span class="st">"</span>);</span>
<span id="cb90-50"><a href="https://www.sigbus.info/compilerbook#cb90-50"></a>    printf(<span class="st">"  idiv rdi</span><span class="sc">\n</span><span class="st">"</span>);</span>
<span id="cb90-51"><a href="https://www.sigbus.info/compilerbook#cb90-51"></a>  }</span>
<span id="cb90-52"><a href="https://www.sigbus.info/compilerbook#cb90-52"></a></span>
<span id="cb90-53"><a href="https://www.sigbus.info/compilerbook#cb90-53"></a>  printf(<span class="st">"  push rax</span><span class="sc">\n</span><span class="st">"</span>);</span>
<span id="cb90-54"><a href="https://www.sigbus.info/compilerbook#cb90-54"></a>}</span></code></pre></div>
<h3 id="メイン関数の変更"><a href="https://www.sigbus.info/compilerbook#%E3%83%A1%E3%82%A4%E3%83%B3%E9%96%A2%E6%95%B0%E3%81%AE%E5%A4%89%E6%9B%B4" style="text-decoration: none; color: inherit;">メイン関数の変更</a></h3>
<p>さて、すべてのパーツが揃ったところで<code class="notranslate">main</code>関数も変更して、コンパイラを実際に動かしてみましょう。</p>
<div class="sourceCode" id="cb91"><pre class="sourceCode c notranslate"><code class="sourceCode c notranslate"><span id="cb91-1"><a href="https://www.sigbus.info/compilerbook#cb91-1"></a><span class="dt">int</span> main(<span class="dt">int</span> argc, <span class="dt">char</span> **argv) {</span>
<span id="cb91-2"><a href="https://www.sigbus.info/compilerbook#cb91-2"></a>  <span class="cf">if</span> (argc != <span class="dv">2</span>) {</span>
<span id="cb91-3"><a href="https://www.sigbus.info/compilerbook#cb91-3"></a>    error(<span class="st">"引数の個数が正しくありません"</span>);</span>
<span id="cb91-4"><a href="https://www.sigbus.info/compilerbook#cb91-4"></a>    <span class="cf">return</span> <span class="dv">1</span>;</span>
<span id="cb91-5"><a href="https://www.sigbus.info/compilerbook#cb91-5"></a>  }</span>
<span id="cb91-6"><a href="https://www.sigbus.info/compilerbook#cb91-6"></a></span>
<span id="cb91-7"><a href="https://www.sigbus.info/compilerbook#cb91-7"></a>  <span class="co">// トークナイズしてパースする</span></span>
<span id="cb91-8"><a href="https://www.sigbus.info/compilerbook#cb91-8"></a>  <span class="co">// 結果はcodeに保存される</span></span>
<span id="cb91-9"><a href="https://www.sigbus.info/compilerbook#cb91-9"></a>  user_input = argv[<span class="dv">1</span>];</span>
<span id="cb91-10"><a href="https://www.sigbus.info/compilerbook#cb91-10"></a>  tokenize();</span>
<span id="cb91-11"><a href="https://www.sigbus.info/compilerbook#cb91-11"></a>  program();</span>
<span id="cb91-12"><a href="https://www.sigbus.info/compilerbook#cb91-12"></a></span>
<span id="cb91-13"><a href="https://www.sigbus.info/compilerbook#cb91-13"></a>  <span class="co">// アセンブリの前半部分を出力</span></span>
<span id="cb91-14"><a href="https://www.sigbus.info/compilerbook#cb91-14"></a>  printf(<span class="st">".intel_syntax noprefix</span><span class="sc">\n</span><span class="st">"</span>);</span>
<span id="cb91-15"><a href="https://www.sigbus.info/compilerbook#cb91-15"></a>  printf(<span class="st">".globl main</span><span class="sc">\n</span><span class="st">"</span>);</span>
<span id="cb91-16"><a href="https://www.sigbus.info/compilerbook#cb91-16"></a>  printf(<span class="st">"main:</span><span class="sc">\n</span><span class="st">"</span>);</span>
<span id="cb91-17"><a href="https://www.sigbus.info/compilerbook#cb91-17"></a></span>
<span id="cb91-18"><a href="https://www.sigbus.info/compilerbook#cb91-18"></a>  <span class="co">// プロローグ</span></span>
<span id="cb91-19"><a href="https://www.sigbus.info/compilerbook#cb91-19"></a>  <span class="co">// 変数26個分の領域を確保する</span></span>
<span id="cb91-20"><a href="https://www.sigbus.info/compilerbook#cb91-20"></a>  printf(<span class="st">"  push rbp</span><span class="sc">\n</span><span class="st">"</span>);</span>
<span id="cb91-21"><a href="https://www.sigbus.info/compilerbook#cb91-21"></a>  printf(<span class="st">"  mov rbp, rsp</span><span class="sc">\n</span><span class="st">"</span>);</span>
<span id="cb91-22"><a href="https://www.sigbus.info/compilerbook#cb91-22"></a>  printf(<span class="st">"  sub rsp, 208</span><span class="sc">\n</span><span class="st">"</span>);</span>
<span id="cb91-23"><a href="https://www.sigbus.info/compilerbook#cb91-23"></a></span>
<span id="cb91-24"><a href="https://www.sigbus.info/compilerbook#cb91-24"></a>  <span class="co">// 先頭の式から順にコード生成</span></span>
<span id="cb91-25"><a href="https://www.sigbus.info/compilerbook#cb91-25"></a>  <span class="cf">for</span> (<span class="dt">int</span> i = <span class="dv">0</span>; code[i]; i++) {</span>
<span id="cb91-26"><a href="https://www.sigbus.info/compilerbook#cb91-26"></a>    gen(code[i]);</span>
<span id="cb91-27"><a href="https://www.sigbus.info/compilerbook#cb91-27"></a></span>
<span id="cb91-28"><a href="https://www.sigbus.info/compilerbook#cb91-28"></a>    <span class="co">// 式の評価結果としてスタックに一つの値が残っている</span></span>
<span id="cb91-29"><a href="https://www.sigbus.info/compilerbook#cb91-29"></a>    <span class="co">// はずなので、スタックが溢れないようにポップしておく</span></span>
<span id="cb91-30"><a href="https://www.sigbus.info/compilerbook#cb91-30"></a>    printf(<span class="st">"  pop rax</span><span class="sc">\n</span><span class="st">"</span>);</span>
<span id="cb91-31"><a href="https://www.sigbus.info/compilerbook#cb91-31"></a>  }</span>
<span id="cb91-32"><a href="https://www.sigbus.info/compilerbook#cb91-32"></a></span>
<span id="cb91-33"><a href="https://www.sigbus.info/compilerbook#cb91-33"></a>  <span class="co">// エピローグ</span></span>
<span id="cb91-34"><a href="https://www.sigbus.info/compilerbook#cb91-34"></a>  <span class="co">// 最後の式の結果がRAXに残っているのでそれが返り値になる</span></span>
<span id="cb91-35"><a href="https://www.sigbus.info/compilerbook#cb91-35"></a>  printf(<span class="st">"  mov rsp, rbp</span><span class="sc">\n</span><span class="st">"</span>);</span>
<span id="cb91-36"><a href="https://www.sigbus.info/compilerbook#cb91-36"></a>  printf(<span class="st">"  pop rbp</span><span class="sc">\n</span><span class="st">"</span>);</span>
<span id="cb91-37"><a href="https://www.sigbus.info/compilerbook#cb91-37"></a>  printf(<span class="st">"  ret</span><span class="sc">\n</span><span class="st">"</span>);</span>
<span id="cb91-38"><a href="https://www.sigbus.info/compilerbook#cb91-38"></a>  <span class="cf">return</span> <span class="dv">0</span>;</span>
<span id="cb91-39"><a href="https://www.sigbus.info/compilerbook#cb91-39"></a>}</span></code></pre></div>
<h2 id="ステップ10複数文字のローカル変数"><a href="https://www.sigbus.info/compilerbook#%E3%82%B9%E3%83%86%E3%83%83%E3%83%9710%E8%A4%87%E6%95%B0%E6%96%87%E5%AD%97%E3%81%AE%E3%83%AD%E3%83%BC%E3%82%AB%E3%83%AB%E5%A4%89%E6%95%B0" style="text-decoration: none; color: inherit;">ステップ10：複数文字のローカル変数</a></h2>
<p>以前の章では変数名を1文字に決め打ちにして、aからzまでの26個のローカル変数が常に存在しているものとして扱うことにしていました。この節では、1文字より長い名前を持つ識別子をサポートして、次のようなコードをコンパイルできるようにします。</p>
<div class="sourceCode" id="cb92"><pre class="sourceCode c notranslate"><code class="sourceCode c notranslate"><span id="cb92-1"><a href="https://www.sigbus.info/compilerbook#cb92-1"></a>foo = <span class="dv">1</span>;</span>
<span id="cb92-2"><a href="https://www.sigbus.info/compilerbook#cb92-2"></a>bar = <span class="dv">2</span> + <span class="dv">3</span>;</span>
<span id="cb92-3"><a href="https://www.sigbus.info/compilerbook#cb92-3"></a><span class="cf">return</span> foo + bar; <span class="co">// 6を返す</span></span></code></pre></div>
<p>変数は定義なしに使えるものとします。したがってパーサでは、識別子一つ一つについて今までに見たことがあるかどうかを判定して、新たなものであれば自動的にスタック領域に変数を割り付ける必要があります。</p>
<p>まずはトークナイザを変更して、複数の文字からなる識別子を<code class="notranslate">TK_IDENT</code>型のトークンとして読み込むようにしてください。</p>
<p>変数は連結リストで表すことにします。<code class="notranslate">LVar</code>という構造体で一つの変数を表すことにして、先頭の要素を<code class="notranslate">locals</code>というポインタで持つことにしましょう。コードで表すと次のようになります。</p>
<div class="sourceCode" id="cb93"><pre class="sourceCode c notranslate"><code class="sourceCode c notranslate"><span id="cb93-1"><a href="https://www.sigbus.info/compilerbook#cb93-1"></a><span class="kw">typedef</span> <span class="kw">struct</span> LVar LVar;</span>
<span id="cb93-2"><a href="https://www.sigbus.info/compilerbook#cb93-2"></a></span>
<span id="cb93-3"><a href="https://www.sigbus.info/compilerbook#cb93-3"></a><span class="co">// ローカル変数の型</span></span>
<span id="cb93-4"><a href="https://www.sigbus.info/compilerbook#cb93-4"></a><span class="kw">struct</span> LVar {</span>
<span id="cb93-5"><a href="https://www.sigbus.info/compilerbook#cb93-5"></a>  LVar *next; <span class="co">// 次の変数かNULL</span></span>
<span id="cb93-6"><a href="https://www.sigbus.info/compilerbook#cb93-6"></a>  <span class="dt">char</span> *name; <span class="co">// 変数の名前</span></span>
<span id="cb93-7"><a href="https://www.sigbus.info/compilerbook#cb93-7"></a>  <span class="dt">int</span> len;    <span class="co">// 名前の長さ</span></span>
<span id="cb93-8"><a href="https://www.sigbus.info/compilerbook#cb93-8"></a>  <span class="dt">int</span> offset; <span class="co">// RBPからのオフセット</span></span>
<span id="cb93-9"><a href="https://www.sigbus.info/compilerbook#cb93-9"></a>};</span>
<span id="cb93-10"><a href="https://www.sigbus.info/compilerbook#cb93-10"></a></span>
<span id="cb93-11"><a href="https://www.sigbus.info/compilerbook#cb93-11"></a><span class="co">// ローカル変数</span></span>
<span id="cb93-12"><a href="https://www.sigbus.info/compilerbook#cb93-12"></a>LVar *locals;</span></code></pre></div>
<p>パーサにおいては、<code class="notranslate">TK_IDENT</code>型のトークンが出現した場合、その識別子が今までに出現したことがあるかどうかを確認します。<code class="notranslate">locals</code>をたどって変数名を見ていくことで、既存の変数かどうかはわかります。変数が以前に出現していた場合、その変数の<code class="notranslate">offset</code>をそのまま使います。新たな変数の場合、新しい<code class="notranslate">LVar</code>を作って、新たなオフセットをセットして、そのオフセットを使います。</p>
<p>変数を名前で探す関数を以下に示します。</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode c notranslate"><code class="sourceCode c notranslate"><span id="cb94-1"><a href="https://www.sigbus.info/compilerbook#cb94-1"></a><span class="co">// 変数を名前で検索する。見つからなかった場合はNULLを返す。</span></span>
<span id="cb94-2"><a href="https://www.sigbus.info/compilerbook#cb94-2"></a>LVar *find_lvar(Token *tok) {</span>
<span id="cb94-3"><a href="https://www.sigbus.info/compilerbook#cb94-3"></a>  <span class="cf">for</span> (LVar *var = locals; var; var = var-&gt;next)</span>
<span id="cb94-4"><a href="https://www.sigbus.info/compilerbook#cb94-4"></a>    <span class="cf">if</span> (var-&gt;len == tok-&gt;len &amp;&amp; !memcmp(tok-&gt;str, var-&gt;name, var-&gt;len))</span>
<span id="cb94-5"><a href="https://www.sigbus.info/compilerbook#cb94-5"></a>      <span class="cf">return</span> var;</span>
<span id="cb94-6"><a href="https://www.sigbus.info/compilerbook#cb94-6"></a>  <span class="cf">return</span> NULL;</span>
<span id="cb94-7"><a href="https://www.sigbus.info/compilerbook#cb94-7"></a>}</span></code></pre></div>
<p>パーサでは次のようなコードを追加すればよいはずです。</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode c notranslate"><code class="sourceCode c notranslate"><span id="cb95-1"><a href="https://www.sigbus.info/compilerbook#cb95-1"></a>Token *tok = consume_ident();</span>
<span id="cb95-2"><a href="https://www.sigbus.info/compilerbook#cb95-2"></a><span class="cf">if</span> (tok) {</span>
<span id="cb95-3"><a href="https://www.sigbus.info/compilerbook#cb95-3"></a>  Node *node = calloc(<span class="dv">1</span>, <span class="kw">sizeof</span>(Node));</span>
<span id="cb95-4"><a href="https://www.sigbus.info/compilerbook#cb95-4"></a>  node-&gt;kind = ND_LVAR;</span>
<span id="cb95-5"><a href="https://www.sigbus.info/compilerbook#cb95-5"></a></span>
<span id="cb95-6"><a href="https://www.sigbus.info/compilerbook#cb95-6"></a>  LVar *lvar = find_lvar(tok);</span>
<span id="cb95-7"><a href="https://www.sigbus.info/compilerbook#cb95-7"></a>  <span class="cf">if</span> (lvar) {</span>
<span id="cb95-8"><a href="https://www.sigbus.info/compilerbook#cb95-8"></a>    node-&gt;offset = lvar-&gt;offset;</span>
<span id="cb95-9"><a href="https://www.sigbus.info/compilerbook#cb95-9"></a>  } <span class="cf">else</span> {</span>
<span id="cb95-10"><a href="https://www.sigbus.info/compilerbook#cb95-10"></a>    lvar = calloc(<span class="dv">1</span>, <span class="kw">sizeof</span>(LVar));</span>
<span id="cb95-11"><a href="https://www.sigbus.info/compilerbook#cb95-11"></a>    lvar-&gt;next = locals;</span>
<span id="cb95-12"><a href="https://www.sigbus.info/compilerbook#cb95-12"></a>    lvar-&gt;name = tok-&gt;str;</span>
<span id="cb95-13"><a href="https://www.sigbus.info/compilerbook#cb95-13"></a>    lvar-&gt;len = tok-&gt;len;</span>
<span id="cb95-14"><a href="https://www.sigbus.info/compilerbook#cb95-14"></a>    lvar-&gt;offset = locals-&gt;offset + <span class="dv">8</span>;</span>
<span id="cb95-15"><a href="https://www.sigbus.info/compilerbook#cb95-15"></a>    node-&gt;offset = lvar-&gt;offset;</span>
<span id="cb95-16"><a href="https://www.sigbus.info/compilerbook#cb95-16"></a>    locals = lvar;</span>
<span id="cb95-17"><a href="https://www.sigbus.info/compilerbook#cb95-17"></a>  }</span>
<span id="cb95-18"><a href="https://www.sigbus.info/compilerbook#cb95-18"></a>  <span class="cf">return</span> node;</span>
<span id="cb95-19"><a href="https://www.sigbus.info/compilerbook#cb95-19"></a>}</span></code></pre></div>
<div class="note">
<p>コラム: 機械語命令の出現頻度</p>
<p>9ccが出力したアセンブリを見てみると、<code class="notranslate">mov</code>や<code class="notranslate">push</code>といったデータ移動命令が多くて、<code class="notranslate">add</code>や<code class="notranslate">mul</code>のような「本当の計算」を行う命令が比較的少ないことに気がつくと思います。その一つの理由は、9ccが最適化を行なっておらず、無駄なデータ移動命令を出力しているからなのですが、実は最適化コンパイラでも一番多く出力されるのはデータ移動命令です。筆者の環境で<code class="notranslate">/bin</code>に入っているすべての実行ファイルを逆アセンブルして、命令数をカウントした結果のグラフを以下に示します。</p>
<figure>
<img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIgYXJpYS1sYWJlbD0iQSBjaGFydC4iIHN0eWxlPSJvdmVyZmxvdzogaGlkZGVuOyI+PGRlZnMgaWQ9Il9BQlNUUkFDVF9SRU5ERVJFUl9JRF8wIj48L2RlZnM+PGc+PHJlY3QgeD0iMjY1IiB5PSIwIiB3aWR0aD0iMTM1IiBoZWlnaHQ9IjMwMCIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjAiIGZpbGwtb3BhY2l0eT0iMCIgZmlsbD0iI2ZmZmZmZiI+PC9yZWN0PjxnIGNvbHVtbi1pZD0ibW92Ij48cmVjdCB4PSIyNjUiIHk9IjAiIHdpZHRoPSIxMzUiIGhlaWdodD0iMTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIwIiBmaWxsLW9wYWNpdHk9IjAiIGZpbGw9IiNmZmZmZmYiPjwvcmVjdD48Zz48dGV4dCB0ZXh0LWFuY2hvcj0ic3RhcnQiIHg9IjI4MCIgeT0iOS4zNSIgZm9udC1mYW1pbHk9IkFyaWFsIiBmb250LXNpemU9IjExIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMCIgZmlsbD0iIzIyMjIyMiI+bW92PC90ZXh0PjwvZz48Y2lyY2xlIGN4PSIyNzAuNSIgY3k9IjUuNSIgcj0iNS41IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMCIgZmlsbD0iIzMzNjZjYyI+PC9jaXJjbGU+PC9nPjxnIGNvbHVtbi1pZD0iY2FsbCI+PHJlY3QgeD0iMjY1IiB5PSIxOCIgd2lkdGg9IjEzNSIgaGVpZ2h0PSIxMSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjAiIGZpbGwtb3BhY2l0eT0iMCIgZmlsbD0iI2ZmZmZmZiI+PC9yZWN0PjxnPjx0ZXh0IHRleHQtYW5jaG9yPSJzdGFydCIgeD0iMjgwIiB5PSIyNy4zNSIgZm9udC1mYW1pbHk9IkFyaWFsIiBmb250LXNpemU9IjExIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMCIgZmlsbD0iIzIyMjIyMiI+Y2FsbDwvdGV4dD48L2c+PGNpcmNsZSBjeD0iMjcwLjUiIGN5PSIyMy41IiByPSI1LjUiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIwIiBmaWxsPSIjZGMzOTEyIj48L2NpcmNsZT48L2c+PGcgY29sdW1uLWlkPSJsZWEiPjxyZWN0IHg9IjI2NSIgeT0iMzYiIHdpZHRoPSIxMzUiIGhlaWdodD0iMTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIwIiBmaWxsLW9wYWNpdHk9IjAiIGZpbGw9IiNmZmZmZmYiPjwvcmVjdD48Zz48dGV4dCB0ZXh0LWFuY2hvcj0ic3RhcnQiIHg9IjI4MCIgeT0iNDUuMzUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxMSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjAiIGZpbGw9IiMyMjIyMjIiPmxlYTwvdGV4dD48L2c+PGNpcmNsZSBjeD0iMjcwLjUiIGN5PSI0MS41IiByPSI1LjUiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIwIiBmaWxsPSIjZmY5OTAwIj48L2NpcmNsZT48L2c+PGcgY29sdW1uLWlkPSJ0ZXN0Ij48cmVjdCB4PSIyNjUiIHk9IjU0IiB3aWR0aD0iMTM1IiBoZWlnaHQ9IjExIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMCIgZmlsbC1vcGFjaXR5PSIwIiBmaWxsPSIjZmZmZmZmIj48L3JlY3Q+PGc+PHRleHQgdGV4dC1hbmNob3I9InN0YXJ0IiB4PSIyODAiIHk9IjYzLjM1IiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIwIiBmaWxsPSIjMjIyMjIyIj50ZXN0PC90ZXh0PjwvZz48Y2lyY2xlIGN4PSIyNzAuNSIgY3k9IjU5LjUiIHI9IjUuNSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjAiIGZpbGw9IiMxMDk2MTgiPjwvY2lyY2xlPjwvZz48ZyBjb2x1bW4taWQ9ImNtcCI+PHJlY3QgeD0iMjY1IiB5PSI3MiIgd2lkdGg9IjEzNSIgaGVpZ2h0PSIxMSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjAiIGZpbGwtb3BhY2l0eT0iMCIgZmlsbD0iI2ZmZmZmZiI+PC9yZWN0PjxnPjx0ZXh0IHRleHQtYW5jaG9yPSJzdGFydCIgeD0iMjgwIiB5PSI4MS4zNSIgZm9udC1mYW1pbHk9IkFyaWFsIiBmb250LXNpemU9IjExIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMCIgZmlsbD0iIzIyMjIyMiI+Y21wPC90ZXh0PjwvZz48Y2lyY2xlIGN4PSIyNzAuNSIgY3k9Ijc3LjUiIHI9IjUuNSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjAiIGZpbGw9IiM5OTAwOTkiPjwvY2lyY2xlPjwvZz48ZyBjb2x1bW4taWQ9ImptcCI+PHJlY3QgeD0iMjY1IiB5PSI5MCIgd2lkdGg9IjEzNSIgaGVpZ2h0PSIxMSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjAiIGZpbGwtb3BhY2l0eT0iMCIgZmlsbD0iI2ZmZmZmZiI+PC9yZWN0PjxnPjx0ZXh0IHRleHQtYW5jaG9yPSJzdGFydCIgeD0iMjgwIiB5PSI5OS4zNSIgZm9udC1mYW1pbHk9IkFyaWFsIiBmb250LXNpemU9IjExIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMCIgZmlsbD0iIzIyMjIyMiI+am1wPC90ZXh0PjwvZz48Y2lyY2xlIGN4PSIyNzAuNSIgY3k9Ijk1LjUiIHI9IjUuNSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjAiIGZpbGw9IiMwMDk5YzYiPjwvY2lyY2xlPjwvZz48ZyBjb2x1bW4taWQ9InB1c2giPjxyZWN0IHg9IjI2NSIgeT0iMTA4IiB3aWR0aD0iMTM1IiBoZWlnaHQ9IjExIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMCIgZmlsbC1vcGFjaXR5PSIwIiBmaWxsPSIjZmZmZmZmIj48L3JlY3Q+PGc+PHRleHQgdGV4dC1hbmNob3I9InN0YXJ0IiB4PSIyODAiIHk9IjExNy4zNSIgZm9udC1mYW1pbHk9IkFyaWFsIiBmb250LXNpemU9IjExIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMCIgZmlsbD0iIzIyMjIyMiI+cHVzaDwvdGV4dD48L2c+PGNpcmNsZSBjeD0iMjcwLjUiIGN5PSIxMTMuNSIgcj0iNS41IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMCIgZmlsbD0iI2RkNDQ3NyI+PC9jaXJjbGU+PC9nPjxnIGNvbHVtbi1pZD0iamUiPjxyZWN0IHg9IjI2NSIgeT0iMTI2IiB3aWR0aD0iMTM1IiBoZWlnaHQ9IjExIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMCIgZmlsbC1vcGFjaXR5PSIwIiBmaWxsPSIjZmZmZmZmIj48L3JlY3Q+PGc+PHRleHQgdGV4dC1hbmNob3I9InN0YXJ0IiB4PSIyODAiIHk9IjEzNS4zNSIgZm9udC1mYW1pbHk9IkFyaWFsIiBmb250LXNpemU9IjExIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMCIgZmlsbD0iIzIyMjIyMiI+amU8L3RleHQ+PC9nPjxjaXJjbGUgY3g9IjI3MC41IiBjeT0iMTMxLjUiIHI9IjUuNSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjAiIGZpbGw9IiM2NmFhMDAiPjwvY2lyY2xlPjwvZz48ZyBjb2x1bW4taWQ9InhvciI+PHJlY3QgeD0iMjY1IiB5PSIxNDQiIHdpZHRoPSIxMzUiIGhlaWdodD0iMTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIwIiBmaWxsLW9wYWNpdHk9IjAiIGZpbGw9IiNmZmZmZmYiPjwvcmVjdD48Zz48dGV4dCB0ZXh0LWFuY2hvcj0ic3RhcnQiIHg9IjI4MCIgeT0iMTUzLjM1IiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIwIiBmaWxsPSIjMjIyMjIyIj54b3I8L3RleHQ+PC9nPjxjaXJjbGUgY3g9IjI3MC41IiBjeT0iMTQ5LjUiIHI9IjUuNSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjAiIGZpbGw9IiNiODJlMmUiPjwvY2lyY2xlPjwvZz48ZyBjb2x1bW4taWQ9Im5vcCI+PHJlY3QgeD0iMjY1IiB5PSIxNjIiIHdpZHRoPSIxMzUiIGhlaWdodD0iMTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIwIiBmaWxsLW9wYWNpdHk9IjAiIGZpbGw9IiNmZmZmZmYiPjwvcmVjdD48Zz48dGV4dCB0ZXh0LWFuY2hvcj0ic3RhcnQiIHg9IjI4MCIgeT0iMTcxLjM1IiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIwIiBmaWxsPSIjMjIyMjIyIj5ub3A8L3RleHQ+PC9nPjxjaXJjbGUgY3g9IjI3MC41IiBjeT0iMTY3LjUiIHI9IjUuNSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjAiIGZpbGw9IiMzMTYzOTUiPjwvY2lyY2xlPjwvZz48ZyBjb2x1bW4taWQ9ImpuZSI+PHJlY3QgeD0iMjY1IiB5PSIxODAiIHdpZHRoPSIxMzUiIGhlaWdodD0iMTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIwIiBmaWxsLW9wYWNpdHk9IjAiIGZpbGw9IiNmZmZmZmYiPjwvcmVjdD48Zz48dGV4dCB0ZXh0LWFuY2hvcj0ic3RhcnQiIHg9IjI4MCIgeT0iMTg5LjM1IiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIwIiBmaWxsPSIjMjIyMjIyIj5qbmU8L3RleHQ+PC9nPjxjaXJjbGUgY3g9IjI3MC41IiBjeT0iMTg1LjUiIHI9IjUuNSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjAiIGZpbGw9IiM5OTQ0OTkiPjwvY2lyY2xlPjwvZz48ZyBjb2x1bW4taWQ9InBvcCI+PHJlY3QgeD0iMjY1IiB5PSIxOTgiIHdpZHRoPSIxMzUiIGhlaWdodD0iMTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIwIiBmaWxsLW9wYWNpdHk9IjAiIGZpbGw9IiNmZmZmZmYiPjwvcmVjdD48Zz48dGV4dCB0ZXh0LWFuY2hvcj0ic3RhcnQiIHg9IjI4MCIgeT0iMjA3LjM1IiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIwIiBmaWxsPSIjMjIyMjIyIj5wb3A8L3RleHQ+PC9nPjxjaXJjbGUgY3g9IjI3MC41IiBjeT0iMjAzLjUiIHI9IjUuNSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjAiIGZpbGw9IiMyMmFhOTkiPjwvY2lyY2xlPjwvZz48ZyBjb2x1bW4taWQ9ImFkZCI+PHJlY3QgeD0iMjY1IiB5PSIyMTYiIHdpZHRoPSIxMzUiIGhlaWdodD0iMTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIwIiBmaWxsLW9wYWNpdHk9IjAiIGZpbGw9IiNmZmZmZmYiPjwvcmVjdD48Zz48dGV4dCB0ZXh0LWFuY2hvcj0ic3RhcnQiIHg9IjI4MCIgeT0iMjI1LjM1IiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIwIiBmaWxsPSIjMjIyMjIyIj5hZGQ8L3RleHQ+PC9nPjxjaXJjbGUgY3g9IjI3MC41IiBjeT0iMjIxLjUiIHI9IjUuNSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjAiIGZpbGw9IiNhYWFhMTEiPjwvY2lyY2xlPjwvZz48ZyBjb2x1bW4taWQ9InN1YiI+PHJlY3QgeD0iMjY1IiB5PSIyMzQiIHdpZHRoPSIxMzUiIGhlaWdodD0iMTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIwIiBmaWxsLW9wYWNpdHk9IjAiIGZpbGw9IiNmZmZmZmYiPjwvcmVjdD48Zz48dGV4dCB0ZXh0LWFuY2hvcj0ic3RhcnQiIHg9IjI4MCIgeT0iMjQzLjM1IiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIwIiBmaWxsPSIjMjIyMjIyIj5zdWI8L3RleHQ+PC9nPjxjaXJjbGUgY3g9IjI3MC41IiBjeT0iMjM5LjUiIHI9IjUuNSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjAiIGZpbGw9IiM2NjMzY2MiPjwvY2lyY2xlPjwvZz48ZyBjb2x1bW4taWQ9Im1vdnp4Ij48cmVjdCB4PSIyNjUiIHk9IjI1MiIgd2lkdGg9IjEzNSIgaGVpZ2h0PSIxMSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjAiIGZpbGwtb3BhY2l0eT0iMCIgZmlsbD0iI2ZmZmZmZiI+PC9yZWN0PjxnPjx0ZXh0IHRleHQtYW5jaG9yPSJzdGFydCIgeD0iMjgwIiB5PSIyNjEuMzUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxMSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjAiIGZpbGw9IiMyMjIyMjIiPm1vdnp4PC90ZXh0PjwvZz48Y2lyY2xlIGN4PSIyNzAuNSIgY3k9IjI1Ny41IiByPSI1LjUiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIwIiBmaWxsPSIjZTY3MzAwIj48L2NpcmNsZT48L2c+PGc+PC9nPjwvZz48Zz48cGF0aCBkPSJNMTI0LDgyLjM1TDEyNC4wMDAwMDAwMDAwMDAwMSwyN0ExMjMsMTIzLDAsMCwxLDIzOC4zMzU0MzIwMzU1NDk1NiwxOTUuMzQ3NjQ1ODE4MTA0MjRMMTg2Ljg4NDQ4NzYxOTU1MjI2LDE3NC45NDEyMDUxOTk5NTczMkE2Ny42NSw2Ny42NSwwLDAsMCwxMjQsODIuMzUiIHN0cm9rZT0iI2ZmZmZmZiIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSIjMzM2NmNjIj48L3BhdGg+PHRleHQgdGV4dC1hbmNob3I9InN0YXJ0IiB4PSIxOTUuNTU3OTkxMjQyNTA0NzMiIHk9Ijk3Ljc3OTY5NjQ4NzEyNjEiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxMSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjAiIGZpbGw9IiNmZmZmZmYiPjMxJTwvdGV4dD48L2c+PGc+PHBhdGggZD0iTTE4Ni44ODQ0ODc2MTk1NTIyNiwxNzQuOTQxMjA1MTk5OTU3MzJMMjM4LjMzNTQzMjAzNTU0OTU2LDE5NS4zNDc2NDU4MTgxMDQyNEExMjMsMTIzLDAsMCwxLDIwMy41Mjk3ODM2Nzk2Mzc2LDI0My44Mjk3MDQ4MjY3MjM0M0wxNjcuNzQxMzgxMDIzODAwNywyMDEuNjA2MzM3NjU0Njk3ODhBNjcuNjUsNjcuNjUsMCwwLDAsMTg2Ljg4NDQ4NzYxOTU1MjI2LDE3NC45NDEyMDUxOTk5NTczMiIgc3Ryb2tlPSIjZmZmZmZmIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9IiNkYzM5MTIiPjwvcGF0aD48dGV4dCB0ZXh0LWFuY2hvcj0ic3RhcnQiIHg9IjE5MS41OTg4NTI2MTY4ODM0MiIgeT0iMjExLjM1MzU5MTEyMDE2MzE0IiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIwIiBmaWxsPSIjZmZmZmZmIj43LjglPC90ZXh0PjwvZz48Zz48cGF0aCBkPSJNMTY3Ljc0MTM4MTAyMzgwMDY3LDIwMS42MDYzMzc2NTQ2OTc5TDIwMy41Mjk3ODM2Nzk2Mzc1NywyNDMuODI5NzA0ODI2NzIzNDZBMTIzLDEyMywwLDAsMSwxNTkuNDc5MTY2NjU5Njc1MjMsMjY3Ljc3MTkzNTI1MjU2NzdMMTQzLjUxMzU0MTY2MjgyMTM4LDIxNC43NzQ1NjQzODg5MTIyQTY3LjY1LDY3LjY1LDAsMCwwLDE2Ny43NDEzODEwMjM4MDA2NywyMDEuNjA2MzM3NjU0Njk3OSIgc3Ryb2tlPSIjZmZmZmZmIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9IiNmZjk5MDAiPjwvcGF0aD48dGV4dCB0ZXh0LWFuY2hvcj0ic3RhcnQiIHg9IjE1OS42NzcxMzI5MDY2OTc1OCIgeT0iMjQyLjQ4OTcxMjg4NTgxMTE0IiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIwIiBmaWxsPSIjZmZmZmZmIj42LjUlPC90ZXh0PjwvZz48Zz48cGF0aCBkPSJNMTE3LjE1NjIyMjg1MTIwOTI4LDgyLjY5NzA2Mzg1MDU0NDQ1TDExMS41NTY3Njg4MjAzODA1MSwyNy42MzEwMjUxODI4MDgxMDJBMTIzLDEyMywwLDAsMSwxMjQuMDAwMDAwMDAwMDAwMDEsMjdMMTIzLjk5OTk5OTk5OTk5OTk5LDgyLjM1QTY3LjY1LDY3LjY1LDAsMCwwLDExNy4xNTYyMjI4NTEyMDkyOCw4Mi42OTcwNjM4NTA1NDQ0NSIgc3Ryb2tlPSIjZmZmZmZmIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9IiNjY2NjY2MiPjwvcGF0aD48L2c+PGc+PHBhdGggZD0iTTExNi41NjU1MjMwMTcxMDIzNiw4Mi43NTk3NTEyNDk3ODUxN0wxMTAuNDgyNzY5MTIyMDA0MzEsMjcuNzQ1MDAyMjcyMzM2NjlBMTIzLDEyMywwLDAsMSwxMTEuNTU2NzY4ODIwMzgwNTEsMjcuNjMxMDI1MTgyODA4MTAyTDExNy4xNTYyMjI4NTEyMDkyOCw4Mi42OTcwNjM4NTA1NDQ0NUE2Ny42NSw2Ny42NSwwLDAsMCwxMTYuNTY1NTIzMDE3MTAyMzYsODIuNzU5NzUxMjQ5Nzg1MTciIHN0cm9rZT0iI2ZmZmZmZiIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSIjZmY5OTAwIj48L3BhdGg+PC9nPjxnPjxwYXRoIGQ9Ik0xMTUuOTU4NDcxOTczMDc1OTcsODIuODI5NjQ2OTYzOTE1NzJMMTA5LjM3OTAzOTk1MTA0NzIyLDI3Ljg3MjA4NTM4ODkzNzY5QTEyMywxMjMsMCwwLDEsMTEwLjQ4Mjc2OTEyMjAwNDIsMjcuNzQ1MDAyMjcyMzM2NzA2TDExNi41NjU1MjMwMTcxMDIzMSw4Mi43NTk3NTEyNDk3ODUxOEE2Ny42NSw2Ny42NSwwLDAsMCwxMTUuOTU4NDcxOTczMDc1OTcsODIuODI5NjQ2OTYzOTE1NzIiIHN0cm9rZT0iI2ZmZmZmZiIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSIjZGMzOTEyIj48L3BhdGg+PC9nPjxnPjxwYXRoIGQ9Ik0xMTUuMzQxMDg4Nzg4MzM3NjMsODIuOTA2NDQwMjc0NTc5NjRMMTA4LjI1NjUyNTA2OTcwNDgsMjguMDExNzA5NTkwMTQ0ODE4QTEyMywxMjMsMCwwLDEsMTA5LjM3OTAzOTk1MTA0NzMzLDI3Ljg3MjA4NTM4ODkzNzY3N0wxMTUuOTU4NDcxOTczMDc2MDMsODIuODI5NjQ2OTYzOTE1NzJBNjcuNjUsNjcuNjUsMCwwLDAsMTE1LjM0MTA4ODc4ODMzNzYzLDgyLjkwNjQ0MDI3NDU3OTY0IiBzdHJva2U9IiNmZmZmZmYiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0iIzMzNjZjYyI+PC9wYXRoPjwvZz48Zz48cGF0aCBkPSJNMTE0LjY3Mzc4ODQ3ODA4MjM3LDgyLjk5NTkzODM0MjE1MzgyTDEwNy4wNDMyNTE3NzgzMzE2LDI4LjE3NDQzMzM0OTM3MDYwMkExMjMsMTIzLDAsMCwxLDEwOC4yNTY1MjUwNjk3MDQ4LDI4LjAxMTcwOTU5MDE0NDgxOEwxMTUuMzQxMDg4Nzg4MzM3NjMsODIuOTA2NDQwMjc0NTc5NjRBNjcuNjUsNjcuNjUsMCwwLDAsMTE0LjY3Mzc4ODQ3ODA4MjM3LDgyLjk5NTkzODM0MjE1MzgyIiBzdHJva2U9IiNmZmZmZmYiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0iIzc0MzQxMSI+PC9wYXRoPjwvZz48Zz48cGF0aCBkPSJNMTEzLjk1NTE1NTA0MTAyNjA5LDgzLjA5OTg5ODQzMjQzNzUxTDEwNS43MzY2NDU1MjkxMzgzNCwyOC4zNjM0NTE2OTUzNDA5NEExMjMsMTIzLDAsMCwxLDEwNy4wNDMyNTE3NzgzMzE2LDI4LjE3NDQzMzM0OTM3MDYwMkwxMTQuNjczNzg4NDc4MDgyMzcsODIuOTk1OTM4MzQyMTUzODJBNjcuNjUsNjcuNjUsMCwwLDAsMTEzLjk1NTE1NTA0MTAyNjA5LDgzLjA5OTg5ODQzMjQzNzUxIiBzdHJva2U9IiNmZmZmZmYiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0iIzBjNTkyMiI+PC9wYXRoPjwvZz48Zz48cGF0aCBkPSJNMTEzLjIyODQyMzU2NjkyNzkzLDgzLjIxMzA1Nzg1NDQ5OTA4TDEwNC40MTUzMTU1NzYyMzI1OSwyOC41NjkxOTYwOTkwODkyNEExMjMsMTIzLDAsMCwxLDEwNS43MzY2NDU1MjkxMzgzNCwyOC4zNjM0NTE2OTUzNDA5NEwxMTMuOTU1MTU1MDQxMDI2MDksODMuMDk5ODk4NDMyNDM3NTFBNjcuNjUsNjcuNjUsMCwwLDAsMTEzLjIyODQyMzU2NjkyNzkzLDgzLjIxMzA1Nzg1NDQ5OTA4IiBzdHJva2U9IiNmZmZmZmYiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0iI2JlYTQxMyI+PC9wYXRoPjwvZz48Zz48cGF0aCBkPSJNMTEyLjQ1NTkzNjM5MDg2MDk4LDgzLjM0MjIzOTA0NjA5MzQxTDEwMy4wMTA3OTM0Mzc5MjkwNywyOC44MDQwNzA5OTI4OTcxMjRBMTIzLDEyMywwLDAsMSwxMDQuNDE1MzE1NTc2MjMyNTksMjguNTY5MTk2MDk5MDg5MjRMMTEzLjIyODQyMzU2NjkyNzkzLDgzLjIxMzA1Nzg1NDQ5OTA4QTY3LjY1LDY3LjY1LDAsMCwwLDExMi40NTU5MzYzOTA4NjA5OCw4My4zNDIyMzkwNDYwOTM0MSIgc3Ryb2tlPSIjZmZmZmZmIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9IiM2NjhkMWMiPjwvcGF0aD48L2c+PGc+PHBhdGggZD0iTTExMS42MjQ2NjQ4NjIwMjgwMSw4My40OTE1NTI1NjQ5MzQ0NUwxMDEuNDk5MzkwNjU4MjMyNzQsMjkuMDc1NTUwMTE4MDYyNjVBMTIzLDEyMywwLDAsMSwxMDMuMDEwNzkzNDM3OTI5MDcsMjguODA0MDcwOTkyODk3MTI0TDExMi40NTU5MzYzOTA4NjA5OCw4My4zNDIyMzkwNDYwOTM0MUE2Ny42NSw2Ny42NSwwLDAsMCwxMTEuNjI0NjY0ODYyMDI4MDEsODMuNDkxNTUyNTY0OTM0NDUiIHN0cm9rZT0iI2ZmZmZmZiIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSIjMmE3NzhkIj48L3BhdGg+PC9nPjxnPjxwYXRoIGQ9Ik0xMTAuNzQ1MTc0NDg1Mjk2NjMsODMuNjYxMjMyMjk1MzI1NDZMOTkuOTAwMzE3MjQ1OTkzODgsMjkuMzg0MDU4NzE4NzczNTg4QTEyMywxMjMsMCwwLDEsMTAxLjQ5OTM5MDY1ODIzMjc0LDI5LjA3NTU1MDExODA2MjY1TDExMS42MjQ2NjQ4NjIwMjgwMSw4My40OTE1NTI1NjQ5MzQ0NUE2Ny42NSw2Ny42NSwwLDAsMCwxMTAuNzQ1MTc0NDg1Mjk2NjMsODMuNjYxMjMyMjk1MzI1NDYiIHN0cm9rZT0iI2ZmZmZmZiIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSIjYTljNDEzIj48L3BhdGg+PC9nPjxnPjxwYXRoIGQ9Ik0xMDkuODExMzM4NTExNDc0OTYsODMuODU0NjcyMjM0ODEyNzhMOTguMjAyNDMzNjU3MjI3MTksMjkuNzM1NzY3Njk5NjU5NjJBMTIzLDEyMywwLDAsMSw5OS45MDAzMTcyNDU5OTQxLDI5LjM4NDA1ODcxODc3MzUzTDExMC43NDUxNzQ0ODUyOTY3Niw4My42NjEyMzIyOTUzMjU0M0E2Ny42NSw2Ny42NSwwLDAsMCwxMDkuODExMzM4NTExNDc0OTYsODMuODU0NjcyMjM0ODEyNzgiIHN0cm9rZT0iI2ZmZmZmZiIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSIjOWM1OTM1Ij48L3BhdGg+PC9nPjxnPjxwYXRoIGQ9Ik0xMDguODczNjc2NzE0NTQyNSw4NC4wNjI3ODEwNDIzODk4Mkw5Ni40OTc1OTQwMjY0NDA5LDMwLjExNDE0NzM0OTc5OTY4QTEyMywxMjMsMCwwLDEsOTguMjAyNDMzNjU3MjI3MTksMjkuNzM1NzY3Njk5NjU5NjJMMTA5LjgxMTMzODUxMTQ3NDk2LDgzLjg1NDY3MjIzNDgxMjc4QTY3LjY1LDY3LjY1LDAsMCwwLDEwOC44NzM2NzY3MTQ1NDI1LDg0LjA2Mjc4MTA0MjM4OTgyIiBzdHJva2U9IiNmZmZmZmYiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0iI2Y0MzU5ZSI+PC9wYXRoPjwvZz48Zz48cGF0aCBkPSJNMTA3LjkxMDA4OTY0OTE4NjI1LDg0LjI5MTI2OTM0MDM0NzM0TDk0Ljc0NTYxNzU0Mzk3NSwzMC41Mjk1ODA2MTg4MTMzN0ExMjMsMTIzLDAsMCwxLDk2LjQ5NzU5NDAyNjQ0MDksMzAuMTE0MTQ3MzQ5Nzk5NjhMMTA4Ljg3MzY3NjcxNDU0MjUsODQuMDYyNzgxMDQyMzg5ODJBNjcuNjUsNjcuNjUsMCwwLDAsMTA3LjkxMDA4OTY0OTE4NjI1LDg0LjI5MTI2OTM0MDM0NzM0IiBzdHJva2U9IiNmZmZmZmYiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0iI2I5MTM4MyI+PC9wYXRoPjwvZz48Zz48cGF0aCBkPSJNMTA2LjgxMzA4MTIzOTEwMDY1LDg0LjU2OTYzNzYwMjIwOTExTDkyLjc1MTA1Njc5ODM2NDg0LDMxLjAzNTcwNDczMTI4OTMxNEExMjMsMTIzLDAsMCwxLDk0Ljc0NTYxNzU0Mzk3NSwzMC41Mjk1ODA2MTg4MTMzN0wxMDcuOTEwMDg5NjQ5MTg2MjUsODQuMjkxMjY5MzQwMzQ3MzRBNjcuNjUsNjcuNjUsMCwwLDAsMTA2LjgxMzA4MTIzOTEwMDY1LDg0LjU2OTYzNzYwMjIwOTExIiBzdHJva2U9IiNmZmZmZmYiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0iIzE2ZDYyMCI+PC9wYXRoPjwvZz48Zz48cGF0aCBkPSJNMTA1LjMzMDYzMjMxNDU2OTM5LDg0Ljk3NzEwMjQxNTk0NzM2TDkwLjA1NTY5NTExNzM5ODg4LDMxLjc3NjU0OTg0NzE3NzAyM0ExMjMsMTIzLDAsMCwxLDkyLjc1MTA1Njc5ODM2NDg0LDMxLjAzNTcwNDczMTI4OTMxNEwxMDYuODEzMDgxMjM5MTAwNjUsODQuNTY5NjM3NjAyMjA5MTFBNjcuNjUsNjcuNjUsMCwwLDAsMTA1LjMzMDYzMjMxNDU2OTM5LDg0Ljk3NzEwMjQxNTk0NzM2IiBzdHJva2U9IiNmZmZmZmYiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0iI2I3NzMyMiI+PC9wYXRoPjwvZz48Zz48cGF0aCBkPSJNMTAzLjgwNDEzNTIyMzcxNzMxLDg1LjQzNDkyMDA3MzMyMzY1TDg3LjI4MDI0NTg2MTMwNDIsMzIuNjA4OTQ1NTg3ODYxMkExMjMsMTIzLDAsMCwxLDkwLjA1NTY5NTExNzM5ODY3LDMxLjc3NjU0OTg0NzE3NzA4TDEwNS4zMzA2MzIzMTQ1NjkyNyw4NC45NzcxMDI0MTU5NDczOUE2Ny42NSw2Ny42NSwwLDAsMCwxMDMuODA0MTM1MjIzNzE3MzEsODUuNDM0OTIwMDczMzIzNjUiIHN0cm9rZT0iI2ZmZmZmZiIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSIjM2IzZWFjIj48L3BhdGg+PC9nPjxnPjxwYXRoIGQ9Ik0xMDEuODEwMDAwNTQ3NzI4NDUsODYuMDkyODI5NjMzMDY3MDhMODMuNjU0NTQ2NDUwNDE1MzgsMzMuODA1MTQ0Nzg3Mzk0Njk2QTEyMywxMjMsMCwwLDEsODcuMjgwMjQ1ODYxMzA0MiwzMi42MDg5NDU1ODc4NjEyTDEwMy44MDQxMzUyMjM3MTczMSw4NS40MzQ5MjAwNzMzMjM2NUE2Ny42NSw2Ny42NSwwLDAsMCwxMDEuODEwMDAwNTQ3NzI4NDUsODYuMDkyODI5NjMzMDY3MDgiIHN0cm9rZT0iI2ZmZmZmZiIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSIjNTU3NGE2Ij48L3BhdGg+PC9nPjxnPjxwYXRoIGQ9Ik05OS4zMTU4Nzc5MDkwMzAzOCw4Ny4wMTQxNTU0MjY4MDk1NEw3OS4xMTk3NzgwMTY0MTg4OCwzNS40ODAyODI1OTQxOTkxN0ExMjMsMTIzLDAsMCwxLDgzLjY1NDU0NjQ1MDQxNTM4LDMzLjgwNTE0NDc4NzM5NDY5NkwxMDEuODEwMDAwNTQ3NzI4NDUsODYuMDkyODI5NjMzMDY3MDhBNjcuNjUsNjcuNjUsMCwwLDAsOTkuMzE1ODc3OTA5MDMwMzgsODcuMDE0MTU1NDI2ODA5NTQiIHN0cm9rZT0iI2ZmZmZmZiIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSIjMzI5MjYyIj48L3BhdGg+PC9nPjxnPjxwYXRoIGQ9Ik05Ni4yMzM2MzgyNzkzMTQ3OSw4OC4zMTA4NDY1MjIyOTMxOEw3My41MTU3MDU5NjIzOTA1NCwzNy44Mzc5MDI3Njc4MDU3OUExMjMsMTIzLDAsMCwxLDc5LjExOTc3ODAxNjQxODg4LDM1LjQ4MDI4MjU5NDE5OTE3TDk5LjMxNTg3NzkwOTAzMDM4LDg3LjAxNDE1NTQyNjgwOTU0QTY3LjY1LDY3LjY1LDAsMCwwLDk2LjIzMzYzODI3OTMxNDc5LDg4LjMxMDg0NjUyMjI5MzE4IiBzdHJva2U9IiNmZmZmZmYiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0iIzY1MTA2NyI+PC9wYXRoPjwvZz48Zz48cGF0aCBkPSJNOTIuMjQ3MzQ3NTE2NDAxODcsOTAuMjY0ODIxNDE3NzI4NjVMNjYuMjY3OTA0NTc1Mjc2MTMsNDEuMzkwNTg0Mzk1ODcwMjhBMTIzLDEyMywwLDAsMSw3My41MTU3MDU5NjIzOTA1NCwzNy44Mzc5MDI3Njc4MDU3OUw5Ni4yMzM2MzgyNzkzMTQ3OSw4OC4zMTA4NDY1MjIyOTMxOEE2Ny42NSw2Ny42NSwwLDAsMCw5Mi4yNDczNDc1MTY0MDE4Nyw5MC4yNjQ4MjE0MTc3Mjg2NSIgc3Ryb2tlPSIjZmZmZmZmIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9IiM4YjA3MDciPjwvcGF0aD48L2c+PGc+PHBhdGggZD0iTTg3LjU5MzMxNDU1ODc4NTA3LDkyLjk4MTc5NDUyODU1MDU0TDU3LjgwNjAyNjQ3MDUxODMyLDQ2LjMzMDUzNTUwNjQ1NTUzQTEyMywxMjMsMCwwLDEsNjYuMjY3OTA0NTc1Mjc2MTMsNDEuMzkwNTg0Mzk1ODcwMjhMOTIuMjQ3MzQ3NTE2NDAxODcsOTAuMjY0ODIxNDE3NzI4NjVBNjcuNjUsNjcuNjUsMCwwLDAsODcuNTkzMzE0NTU4Nzg1MDcsOTIuOTgxNzk0NTI4NTUwNTQiIHN0cm9rZT0iI2ZmZmZmZiIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSIjZTY3MzAwIj48L3BhdGg+PC9nPjxnPjxwYXRoIGQ9Ik04Mi4wMDY1Mjg0ODc2NzYsOTYuOTYxNjA5NjU1NDIzODFMNDcuNjQ4MjMzNjEzOTU2MzUsNTMuNTY2NTYzMDA5ODYxNDdBMTIzLDEyMywwLDAsMSw1Ny44MDYwMjY0NzA1MTgzOSw0Ni4zMzA1MzU1MDY0NTU0NzZMODcuNTkzMzE0NTU4Nzg1MTIsOTIuOTgxNzk0NTI4NTUwNUE2Ny42NSw2Ny42NSwwLDAsMCw4Mi4wMDY1Mjg0ODc2NzYsOTYuOTYxNjA5NjU1NDIzODEiIHN0cm9rZT0iI2ZmZmZmZiIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSIjNjYzM2NjIj48L3BhdGg+PC9nPjxnPjxwYXRoIGQ9Ik03NC4yOTEwMTI0NTUxODgyMiwxMDQuMTEzODQ2NzgwNjQ5MUwzMy42MjAwMjI2NDU3OTY3NjYsNjYuNTcwNjMwNTEwMjcxMDlBMTIzLDEyMywwLDAsMSw0Ny42NDgyMzM2MTM5NTYxOTQsNTMuNTY2NTYzMDA5ODYxNjFMODIuMDA2NTI4NDg3Njc1OSw5Ni45NjE2MDk2NTU0MjM4OUE2Ny42NSw2Ny42NSwwLDAsMCw3NC4yOTEwMTI0NTUxODgyMiwxMDQuMTEzODQ2NzgwNjQ5MSIgc3Ryb2tlPSIjZmZmZmZmIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9IiNhYWFhMTEiPjwvcGF0aD48L2c+PGc+PHBhdGggZD0iTTY2LjA0MjEwMjEzODA4NDU3LDExNS4xMDg2NzQ3ODI1Nzk4MUwxOC42MjIwMDM4ODc0MjY1MTYsODYuNTYxMjI2ODc3NDE3ODdBMTIzLDEyMywwLDAsMSwzMy42MjAwMjI2NDU3OTY3NjYsNjYuNTcwNjMwNTEwMjcxMDlMNzQuMjkxMDEyNDU1MTg4MjIsMTA0LjExMzg0Njc4MDY0OTFBNjcuNjUsNjcuNjUsMCwwLDAsNjYuMDQyMTAyMTM4MDg0NTcsMTE1LjEwODY3NDc4MjU3OTgxIiBzdHJva2U9IiNmZmZmZmYiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0iIzIyYWE5OSI+PC9wYXRoPjwvZz48Zz48cGF0aCBkPSJNNjAuMDE3OTI5MDQyMTY3OTYsMTI4LjAyNjkwMDYyOTQ3NTQ1TDcuNjY4OTYxODk0ODUwODM4LDExMC4wNDg5MTAyMzU0MDk5MkExMjMsMTIzLDAsMCwxLDE4LjYyMjAwMzg4NzQyNjUxNiw4Ni41NjEyMjY4Nzc0MTc4N0w2Ni4wNDIxMDIxMzgwODQ1NywxMTUuMTA4Njc0NzgyNTc5ODFBNjcuNjUsNjcuNjUsMCwwLDAsNjAuMDE3OTI5MDQyMTY3OTYsMTI4LjAyNjkwMDYyOTQ3NTQ1IiBzdHJva2U9IiNmZmZmZmYiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0iIzk5NDQ5OSI+PC9wYXRoPjwvZz48Zz48cGF0aCBkPSJNNTYuNDc1Mjg4NjU5MDgyMTI1LDE0NS44ODQ2ODAwNDU3NjU5MkwxLjIyNzc5NzU2MTk2NzUwNjEsMTQyLjUxNzYwMDA4MzIxMDc3QTEyMywxMjMsMCwwLDEsNy42Njg5NjE4OTQ4NTA4MzgsMTEwLjA0ODkxMDIzNTQwOTkyTDYwLjAxNzkyOTA0MjE2Nzk2LDEyOC4wMjY5MDA2Mjk0NzU0NUE2Ny42NSw2Ny42NSwwLDAsMCw1Ni40NzUyODg2NTkwODIxMjUsMTQ1Ljg4NDY4MDA0NTc2NTkyIiBzdHJva2U9IiNmZmZmZmYiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0iIzMxNjM5NSI+PC9wYXRoPjx0ZXh0IHRleHQtYW5jaG9yPSJzdGFydCIgeD0iMTQuNzU1Nzk3ODk3MTE5NzA2IiB5PSIxMzQuNjU3ODA4Nzg2ODg0NzQiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxMSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjAiIGZpbGw9IiNmZmZmZmYiPjQuMyU8L3RleHQ+PC9nPjxnPjxwYXRoIGQ9Ik01Ny45MTAyNjk4ODI3MDgzMiwxNjQuNDQ1NDE3MDI0OTA5NjZMMy44MzY4NTQzMzIxOTY5NDk3LDE3Ni4yNjQzOTQ1OTA3NDQ4QTEyMywxMjMsMCwwLDEsMS4yMjc3OTc1NjE5Njc1MDYxLDE0Mi41MTc2MDAwODMyMTA3N0w1Ni40NzUyODg2NTkwODIxMjUsMTQ1Ljg4NDY4MDA0NTc2NTkyQTY3LjY1LDY3LjY1LDAsMCwwLDU3LjkxMDI2OTg4MjcwODMyLDE2NC40NDU0MTcwMjQ5MDk2NiIgc3Ryb2tlPSIjZmZmZmZmIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9IiNiODJlMmUiPjwvcGF0aD48dGV4dCB0ZXh0LWFuY2hvcj0ic3RhcnQiIHg9IjEyLjc3MjYzMTk0NTE5MjM0NCIgeT0iMTYxLjQ4Mjg4MjIyNzQ2MDgzIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIwIiBmaWxsPSIjZmZmZmZmIj40LjQlPC90ZXh0PjwvZz48Zz48cGF0aCBkPSJNNjUuOTMyNzE4Njg0MjY0NTksMTg0LjcwODk4MDY5MDg3MDg3TDE4LjQyMzEyNDg4MDQ4MTA5NywyMTMuMTA3MjM3NjE5NzY1MjFBMTIzLDEyMywwLDAsMSwzLjgzNjg1NDMzMjE5Njk0OTcsMTc2LjI2NDM5NDU5MDc0NDhMNTcuOTEwMjY5ODgyNzA4MzIsMTY0LjQ0NTQxNzAyNDkwOTY2QTY3LjY1LDY3LjY1LDAsMCwwLDY1LjkzMjcxODY4NDI2NDU5LDE4NC43MDg5ODA2OTA4NzA4NyIgc3Ryb2tlPSIjZmZmZmZmIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9IiM2NmFhMDAiPjwvcGF0aD48dGV4dCB0ZXh0LWFuY2hvcj0ic3RhcnQiIHg9IjIwLjA1Mzk1NjcwMDMxMzY5IiB5PSIxOTAuMDUzOTU3NjM0MDE1MjYiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxMSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjAiIGZpbGw9IiNmZmZmZmYiPjUuMSU8L3RleHQ+PC9nPjxnPjxwYXRoIGQ9Ik03OS45ODg3NjUzMjI0MTg2NiwyMDEuMzc2MzkyNjU0MTY0MjVMNDMuOTc5NTczMzEzNDg4NDcsMjQzLjQxMTYyMzAwNzU3MTM0QTEyMywxMjMsMCwwLDEsMTguNDIzMTI0ODgwNDgxMDk3LDIxMy4xMDcyMzc2MTk3NjUyMUw2NS45MzI3MTg2ODQyNjQ1OSwxODQuNzA4OTgwNjkwODcwODdBNjcuNjUsNjcuNjUsMCwwLDAsNzkuOTg4NzY1MzIyNDE4NjYsMjAxLjM3NjM5MjY1NDE2NDI1IiBzdHJva2U9IiNmZmZmZmYiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0iI2RkNDQ3NyI+PC9wYXRoPjx0ZXh0IHRleHQtYW5jaG9yPSJzdGFydCIgeD0iMzUuOTQ3NTEwNTM5Mjg4MTMiIHk9IjIxNy41NjUzMDk3MjA5ODAyNSIgZm9udC1mYW1pbHk9IkFyaWFsIiBmb250LXNpemU9IjExIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMCIgZmlsbD0iI2ZmZmZmZiI+NS4yJTwvdGV4dD48L2c+PGc+PHBhdGggZD0iTTk4Ljg3OTY1NzY5NjEzNzQ2LDIxMi44MTMxNDI3NTMyMjMwMkw3OC4zMjY2NTAzNTY2MTM1NiwyNjQuMjA1NzE0MDk2NzY5MTZBMTIzLDEyMywwLDAsMSw0My45Nzk1NzMzMTM0ODg0NywyNDMuNDExNjIzMDA3NTcxMzRMNzkuOTg4NzY1MzIyNDE4NjYsMjAxLjM3NjM5MjY1NDE2NDI1QTY3LjY1LDY3LjY1LDAsMCwwLDk4Ljg3OTY1NzY5NjEzNzQ2LDIxMi44MTMxNDI3NTMyMjMwMiIgc3Ryb2tlPSIjZmZmZmZmIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9IiMwMDk5YzYiPjwvcGF0aD48dGV4dCB0ZXh0LWFuY2hvcj0ic3RhcnQiIHg9IjU5LjQyNzU1OTc3OTg4MTg3NSIgeT0iMjM5Ljg2MTc0NzY4MzEyMTM3IiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIwIiBmaWxsPSIjZmZmZmZmIj41LjIlPC90ZXh0PjwvZz48Zz48cGF0aCBkPSJNMTIwLjUzNjY4OTMzNjc5Njc0LDIxNy41NjEyOTA1Mzg2NjY3NUwxMTcuNzAzMDcxNTIxNDQ4NjMsMjcyLjgzODcxMDA3MDMwMzJBMTIzLDEyMywwLDAsMSw3OC4zMjY2NTAzNTY2MTM1NiwyNjQuMjA1NzE0MDk2NzY5MTZMOTguODc5NjU3Njk2MTM3NDYsMjEyLjgxMzE0Mjc1MzIyMzAyQTY3LjY1LDY3LjY1LDAsMCwwLDEyMC41MzY2ODkzMzY3OTY3NCwyMTcuNTYxMjkwNTM4NjY2NzUiIHN0cm9rZT0iI2ZmZmZmZiIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSIjOTkwMDk5Ij48L3BhdGg+PHRleHQgdGV4dC1hbmNob3I9InN0YXJ0IiB4PSI4OS4zNTQ5NjQ3ODI2MjEwNyIgeT0iMjU0Ljg1NjkwODM4OTk1NjQzIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIwIiBmaWxsPSIjZmZmZmZmIj41LjIlPC90ZXh0PjwvZz48Zz48cGF0aCBkPSJNMTQzLjUxMzU0MTY2MjgyMTM4LDIxNC43NzQ1NjQzODg5MTIyTDE1OS40NzkxNjY2NTk2NzUyMywyNjcuNzcxOTM1MjUyNTY3N0ExMjMsMTIzLDAsMCwxLDExNy43MDMwNzE1MjE0NDg2MywyNzIuODM4NzEwMDcwMzAzMkwxMjAuNTM2Njg5MzM2Nzk2NzQsMjE3LjU2MTI5MDUzODY2Njc1QTY3LjY1LDY3LjY1LDAsMCwwLDE0My41MTM1NDE2NjI4MjEzOCwyMTQuNzc0NTY0Mzg4OTEyMiIgc3Ryb2tlPSIjZmZmZmZmIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9IiMxMDk2MTgiPjwvcGF0aD48dGV4dCB0ZXh0LWFuY2hvcj0ic3RhcnQiIHg9IjEyNC4wNzIwMjIyNDMxMjE2NyIgeT0iMjU3LjUwNzY1NTI1NDQwOTAzIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIwIiBmaWxsPSIjZmZmZmZmIj41LjUlPC90ZXh0PjwvZz48Zz48L2c+PC9zdmc+Cg==" alt=""><figcaption>命令の出現頻度</figcaption>
</figure>
<p>ご覧のように<code class="notranslate">mov</code>命令だけで全命令の実に3割を占めています。コンピュータというものはデータ処理機械ですが、データ処理で最も頻繁に行われるのはデータの移動なのです。「データを適切な場所に移動させる」ということがデータ処理の本質の一つだと考えてみれば、この<code class="notranslate">mov</code>命令の多さは順当な結果のような気もしますが、意外に思った読者も多いのではないでしょうか。</p>
</div>
<h2 id="ステップ11return文"><a href="https://www.sigbus.info/compilerbook#%E3%82%B9%E3%83%86%E3%83%83%E3%83%9711return%E6%96%87" style="text-decoration: none; color: inherit;">ステップ11：return文</a></h2>
<p>この章では<code class="notranslate">return</code>文を追加して、次のようなコードをコンパイルできるようにします。</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode c notranslate"><code class="sourceCode c notranslate"><span id="cb96-1"><a href="https://www.sigbus.info/compilerbook#cb96-1"></a>a = <span class="dv">3</span>;</span>
<span id="cb96-2"><a href="https://www.sigbus.info/compilerbook#cb96-2"></a>b = <span class="dv">5</span> * <span class="dv">6</span> - <span class="dv">8</span>;</span>
<span id="cb96-3"><a href="https://www.sigbus.info/compilerbook#cb96-3"></a><span class="cf">return</span> a + b / <span class="dv">2</span>;</span></code></pre></div>
<p><code class="notranslate">return</code>文はプログラムの途中に書いても構わないということにします。通常のCと同様に、プログラムの実行は最初の<code class="notranslate">return</code>で打ち切られて関数からリターンすることになります。例えば以下のプログラムは最初の<code class="notranslate">return</code>の値、すなわち5を返します。</p>
<div class="sourceCode" id="cb97"><pre class="sourceCode c notranslate"><code class="sourceCode c notranslate"><span id="cb97-1"><a href="https://www.sigbus.info/compilerbook#cb97-1"></a><span class="cf">return</span> <span class="dv">5</span>;</span>
<span id="cb97-2"><a href="https://www.sigbus.info/compilerbook#cb97-2"></a><span class="cf">return</span> <span class="dv">8</span>;</span></code></pre></div>
<p>この機能を実装するために、まずは<code class="notranslate">return</code>を追加した文法がどうなるのかを考えてみましょう。いままではステートメントはただの式ということになっていましたが、新たな文法では<code class="notranslate">return &lt;式&gt;;</code>というものを許すことになります。したがって新たな文法は次のようになります。</p>
<div class="sourceCode" id="cb98"><pre class="sourceCode scheme notranslate"><code class="sourceCode scheme notranslate"><span id="cb98-1"><a href="https://www.sigbus.info/compilerbook#cb98-1"></a>program <span class="op">=</span> stmt*</span>
<span id="cb98-2"><a href="https://www.sigbus.info/compilerbook#cb98-2"></a>stmt    <span class="op">=</span> expr <span class="st">";"</span></span>
<span id="cb98-3"><a href="https://www.sigbus.info/compilerbook#cb98-3"></a>        | <span class="st">"return"</span> expr <span class="st">";"</span></span>
<span id="cb98-4"><a href="https://www.sigbus.info/compilerbook#cb98-4"></a>...</span></code></pre></div>
<p>これを実装するためには、トークナイザ、パーサ、コードジェネレータのすべてに少しづつ手を加える必要があります。</p>
<p>まずはトークナイザで<code class="notranslate">return</code>というトークンを認識できるようにして、それを<code class="notranslate">TK_RETURN</code>という型のトークンで表すようにしましょう。<code class="notranslate">return</code>や<code class="notranslate">while</code>、<code class="notranslate">int</code>のように、文法上特別な意味を持つトークン（キーワードといいます）は限られた個数しか存在しないので、このようにトークンごとに別の型を持たせるようにしたほうが簡単です。</p>
<p>次のトークンが<code class="notranslate">return</code>かどうかは、トークナイザの残りの入力文字列が<code class="notranslate">return</code>から始まっているかどうかだけを調べれば良さそうですが、それだと<code class="notranslate">returnx</code>のようなトークンが、誤って<code class="notranslate">return</code>と<code class="notranslate">x</code>としてトークナイズされてしまうことになります。したがってここでは、入力の先頭が<code class="notranslate">return</code>であることに加えて、その次の文字がトークンを構成する文字ではないことを確認する必要があります。</p>
<p>与えられた文字がトークンを構成する文字、すなわち英数字かアンダースコアかどうかを判定する関数を下に示します。</p>
<div class="sourceCode" id="cb99"><pre class="sourceCode c notranslate"><code class="sourceCode c notranslate"><span id="cb99-1"><a href="https://www.sigbus.info/compilerbook#cb99-1"></a><span class="dt">int</span> is_alnum(<span class="dt">char</span> c) {</span>
<span id="cb99-2"><a href="https://www.sigbus.info/compilerbook#cb99-2"></a>  <span class="cf">return</span> (<span class="ch">'a'</span> &lt;= c &amp;&amp; c &lt;= <span class="ch">'z'</span>) ||</span>
<span id="cb99-3"><a href="https://www.sigbus.info/compilerbook#cb99-3"></a>         (<span class="ch">'A'</span> &lt;= c &amp;&amp; c &lt;= <span class="ch">'Z'</span>) ||</span>
<span id="cb99-4"><a href="https://www.sigbus.info/compilerbook#cb99-4"></a>         (<span class="ch">'0'</span> &lt;= c &amp;&amp; c &lt;= <span class="ch">'9'</span>) ||</span>
<span id="cb99-5"><a href="https://www.sigbus.info/compilerbook#cb99-5"></a>         (c == <span class="ch">'_'</span>);</span>
<span id="cb99-6"><a href="https://www.sigbus.info/compilerbook#cb99-6"></a>}</span></code></pre></div>
<p>この関数を使って、<code class="notranslate">tokenize</code>に次のコードを加えると、<code class="notranslate">return</code>を<code class="notranslate">TK_RETURN</code>としてトークナイズできるようになります。</p>
<div class="sourceCode" id="cb100"><pre class="sourceCode c notranslate"><code class="sourceCode c notranslate"><span id="cb100-1"><a href="https://www.sigbus.info/compilerbook#cb100-1"></a><span class="cf">if</span> (strncmp(p, <span class="st">"return"</span>, <span class="dv">6</span>) == <span class="dv">0</span> &amp;&amp; !is_alnum(p[<span class="dv">6</span>])) {</span>
<span id="cb100-2"><a href="https://www.sigbus.info/compilerbook#cb100-2"></a>  tokens[i].ty = TK_RETURN;</span>
<span id="cb100-3"><a href="https://www.sigbus.info/compilerbook#cb100-3"></a>  tokens[i].str = p;</span>
<span id="cb100-4"><a href="https://www.sigbus.info/compilerbook#cb100-4"></a>  i++;</span>
<span id="cb100-5"><a href="https://www.sigbus.info/compilerbook#cb100-5"></a>  p += <span class="dv">6</span>;</span>
<span id="cb100-6"><a href="https://www.sigbus.info/compilerbook#cb100-6"></a>  <span class="cf">continue</span>;</span>
<span id="cb100-7"><a href="https://www.sigbus.info/compilerbook#cb100-7"></a>}</span></code></pre></div>
<p>次にパーサに手を加えて、TK_RETURNを含むトークン列をパースできるようにしましょう。そのためには、まず<code class="notranslate">return</code>文を表すノードの型<code class="notranslate">ND_RETURN</code>を追加します。次に、ステートメントを読み込む関数を変更して、<code class="notranslate">return</code>文を構文解析できるようにします。例によって、文法をそのまま関数呼び出しにマップすることで構文解析ができます。新しい<code class="notranslate">stmt</code>関数を以下に示します。</p>
<div class="sourceCode" id="cb101"><pre class="sourceCode c notranslate"><code class="sourceCode c notranslate"><span id="cb101-1"><a href="https://www.sigbus.info/compilerbook#cb101-1"></a>Node *stmt() {</span>
<span id="cb101-2"><a href="https://www.sigbus.info/compilerbook#cb101-2"></a>  Node *node;</span>
<span id="cb101-3"><a href="https://www.sigbus.info/compilerbook#cb101-3"></a></span>
<span id="cb101-4"><a href="https://www.sigbus.info/compilerbook#cb101-4"></a>  <span class="cf">if</span> (consume(TK_RETURN)) {</span>
<span id="cb101-5"><a href="https://www.sigbus.info/compilerbook#cb101-5"></a>    node = calloc(<span class="dv">1</span>, <span class="kw">sizeof</span>(Node));</span>
<span id="cb101-6"><a href="https://www.sigbus.info/compilerbook#cb101-6"></a>    node-&gt;kind = ND_RETURN;</span>
<span id="cb101-7"><a href="https://www.sigbus.info/compilerbook#cb101-7"></a>    node-&gt;lhs = expr();</span>
<span id="cb101-8"><a href="https://www.sigbus.info/compilerbook#cb101-8"></a>  } <span class="cf">else</span> {</span>
<span id="cb101-9"><a href="https://www.sigbus.info/compilerbook#cb101-9"></a>    node = expr();</span>
<span id="cb101-10"><a href="https://www.sigbus.info/compilerbook#cb101-10"></a>  }</span>
<span id="cb101-11"><a href="https://www.sigbus.info/compilerbook#cb101-11"></a></span>
<span id="cb101-12"><a href="https://www.sigbus.info/compilerbook#cb101-12"></a>  <span class="cf">if</span> (!consume(<span class="ch">';'</span>))</span>
<span id="cb101-13"><a href="https://www.sigbus.info/compilerbook#cb101-13"></a>    error_at(tokens[pos].str, <span class="st">"';'ではないトークンです"</span>);</span>
<span id="cb101-14"><a href="https://www.sigbus.info/compilerbook#cb101-14"></a>  <span class="cf">return</span> node;</span>
<span id="cb101-15"><a href="https://www.sigbus.info/compilerbook#cb101-15"></a>}</span></code></pre></div>
<p><code class="notranslate">ND_RETURN</code>型のノードはここでしか生成しないので、ここでは新たに関数を作るのではなく、その場で<code class="notranslate">malloc</code>して値をセットすることにしました。</p>
<p>最後にコードジェネレータを変更して、<code class="notranslate">ND_RETURN</code>型のノードに対して適切なアセンブリコードを出力するようにします。新しい<code class="notranslate">gen</code>関数の一部分を以下に示します。</p>
<div class="sourceCode" id="cb102"><pre class="sourceCode c notranslate"><code class="sourceCode c notranslate"><span id="cb102-1"><a href="https://www.sigbus.info/compilerbook#cb102-1"></a><span class="dt">void</span> gen(Node *node) {</span>
<span id="cb102-2"><a href="https://www.sigbus.info/compilerbook#cb102-2"></a>  <span class="cf">if</span> (node-&gt;kind == ND_RETURN) {</span>
<span id="cb102-3"><a href="https://www.sigbus.info/compilerbook#cb102-3"></a>    gen(node-&gt;lhs);</span>
<span id="cb102-4"><a href="https://www.sigbus.info/compilerbook#cb102-4"></a>    printf(<span class="st">"  pop rax</span><span class="sc">\n</span><span class="st">"</span>);</span>
<span id="cb102-5"><a href="https://www.sigbus.info/compilerbook#cb102-5"></a>    printf(<span class="st">"  mov rsp, rbp</span><span class="sc">\n</span><span class="st">"</span>);</span>
<span id="cb102-6"><a href="https://www.sigbus.info/compilerbook#cb102-6"></a>    printf(<span class="st">"  pop rbp</span><span class="sc">\n</span><span class="st">"</span>);</span>
<span id="cb102-7"><a href="https://www.sigbus.info/compilerbook#cb102-7"></a>    printf(<span class="st">"  ret</span><span class="sc">\n</span><span class="st">"</span>);</span>
<span id="cb102-8"><a href="https://www.sigbus.info/compilerbook#cb102-8"></a>    <span class="cf">return</span>;</span>
<span id="cb102-9"><a href="https://www.sigbus.info/compilerbook#cb102-9"></a>  }</span>
<span id="cb102-10"><a href="https://www.sigbus.info/compilerbook#cb102-10"></a>  ...</span></code></pre></div>
<p>上記のコードの<code class="notranslate">gen(node-&gt;lhs)</code>という関数呼び出しで、<code class="notranslate">return</code>の返り値になっている式のコードが出力されます。そのコードはスタックトップに1つの値を残すはずです。<code class="notranslate">gen(node-&gt;lhs)</code>の後に続くアセンブリでは、その値をスタックからポップしてRAXにセットし、関数からリターンしています。</p>
<p>前章までに実装した機能では、関数の最後に必ず1つの<code class="notranslate">ret</code>命令を出力していました。この章で説明した方法で<code class="notranslate">return</code>文を実装すると、<code class="notranslate">return</code>文ごとにさらに余分な<code class="notranslate">ret</code>命令が出力されることになります。それらの命令はまとめることも可能ですが、ここでは簡単に実装するために、<code class="notranslate">ret</code>命令を複数出力してもかまわないということにしました。こういう細かいところは今の時点では気にしても仕方がないので、実装のシンプルさを優先することが大切です。難しいコードを書けるというのは役立つスキルですが、そもそもコードを難しくしすぎないというのは、時にはさらに役立つスキルなのです。</p>
<div class="note">
<p>コラム: 文法の階層</p>
<p>入力が何らかの規則に合致しているのかどうかを判定するために「正規表現」というものがよく使われますが、ある程度より複雑な文法は、正規表現では表現することはできません。たとえば、文字列の中でカッコの釣り合いが取れているか判定する正規表現は、原理的に書くことができません。</p>
<p>文脈自由文法（BNFで表現できる文法）は正規表現よりも強力で、たとえばカッコの釣り合いが取れている文字列だけを表すことができます（BNFで書くと<code class="notranslate">S → SS | "(" S ")" | ε</code>）。しかし、正規表現と同様に文脈自由文法にも限界があり、文脈自由文法では普通のプログラミング言語に出てくる複雑なルールを表現することはできません。たとえば「変数は使う前に宣言しなければいけない」というルールはCの文法の一部ですが、こういったルールは文脈自由文法で表現することはできません。</p>
<p>C言語のコンパイラを書けば、コンパイラにバグがない限り、「コンパイラが受け付けた入力は正しいCプログラムで、受け付けなかった入力は不正なCプログラム」と言うことができます。つまり、普通のコンピュータの能力があれば、「Cの文法に一致しているかどうか」という問題は判定可能であり、コンパイラというものは全体として文脈自由文法より強力な文法判定機だということができます。このように、文法に一致しているかどうかを常にYES/NOで判定できる文法のことをDecidableといいます。</p>
<p>Decidableではない文法を考えることもできます。たとえば、「コンピュータプログラムが入力として与えられてそれを実行したとき、そのプログラムが最終的に<code class="notranslate">exit</code>関数を実行して終了するか、あるいは無限に実行を続けるかどうか」という問題は、プログラムを実際に実行せずにYES/NOを判定することは一般に不可能ということが証明されています（なお、メモリが無限に存在する仮想的なコンピュータで実行するものとします）。つまり、プログラムが停止するかどうかという問いには、プログラムが停止するときにはYESと答えることができますが、停止しない場合は無限に実行を続けるだけになってしまうのでNOと答えることはできません。このように、判定機がYES/NOを返すだけではなく、判定機の実行が終わらないことがありえる文法のカテゴリのことを、Turing-recognizableといいます。</p>
<p>つまりここには、正規表現 &lt; 文脈自由文法 &lt; Decidable &lt; Turing-recognizable、という文法の階層が存在しています。こういった文法の階層は、コンピュータサイエンスの一部として広く研究されています。有名な未解決問題のP≟NPも、文法の階層に関する問題です。</p>
</div>
<h2 id="年のcコンパイラ"><a href="https://www.sigbus.info/compilerbook#%E5%B9%B4%E3%81%AEc%E3%82%B3%E3%83%B3%E3%83%91%E3%82%A4%E3%83%A9" style="text-decoration: none; color: inherit;">1973年のCコンパイラ</a></h2>
<p>ここまで我々はインクリメンタルにコンパイラを作ってきました。この開発プロセスはある意味でCの歴史をそのままなぞっていると言うことができます。</p>
<p>現在のCを見てみると意味のよくわからない部分や不必要に複雑な部分が散見されますが、そういったものは歴史を抜きにして理解することはできません。現在のCの不可解なところも、初期のCのコードを読んで、初期のCの形とその後の言語とコンパイラの発展の様子をみてみると、いろいろ腑に落ちるところがあります。</p>
<p>CはUnixのための言語として1972年に開発が始まりました。1972年か1973年当時の、つまりCの歴史の中での極めて初期のソースコードがテープに残されていて、そこから読み出したファイルがインターネットに公開されています。<a href="https://github.com/qrush/unix/tree/master/src/c">当時のCコンパイラのコード</a>を少し覗いてみましょう。以下に示すのは、<code class="notranslate">printf</code>フォーマットでメッセージを受け取って、それをコンパイルのエラーメッセージとして表示する関数です。</p>
<div class="sourceCode" id="cb103"><pre class="sourceCode c notranslate"><code class="sourceCode c notranslate"><span id="cb103-1"><a href="https://www.sigbus.info/compilerbook#cb103-1"></a>error(s, p1, p2) {</span>
<span id="cb103-2"><a href="https://www.sigbus.info/compilerbook#cb103-2"></a>  <span class="kw">extern</span> printf, line, fout, flush, putchar, nerror;</span>
<span id="cb103-3"><a href="https://www.sigbus.info/compilerbook#cb103-3"></a>  <span class="dt">int</span> f;</span>
<span id="cb103-4"><a href="https://www.sigbus.info/compilerbook#cb103-4"></a></span>
<span id="cb103-5"><a href="https://www.sigbus.info/compilerbook#cb103-5"></a>  nerror++;</span>
<span id="cb103-6"><a href="https://www.sigbus.info/compilerbook#cb103-6"></a>  flush();</span>
<span id="cb103-7"><a href="https://www.sigbus.info/compilerbook#cb103-7"></a>  f = fout;</span>
<span id="cb103-8"><a href="https://www.sigbus.info/compilerbook#cb103-8"></a>  fout = <span class="dv">1</span>;</span>
<span id="cb103-9"><a href="https://www.sigbus.info/compilerbook#cb103-9"></a>  printf(<span class="st">"%d: "</span>, line);</span>
<span id="cb103-10"><a href="https://www.sigbus.info/compilerbook#cb103-10"></a>  printf(s, p1, p2);</span>
<span id="cb103-11"><a href="https://www.sigbus.info/compilerbook#cb103-11"></a>  putchar(<span class="ch">'\n'</span>);</span>
<span id="cb103-12"><a href="https://www.sigbus.info/compilerbook#cb103-12"></a>  fout = f;</span>
<span id="cb103-13"><a href="https://www.sigbus.info/compilerbook#cb103-13"></a>}</span></code></pre></div>
<p>どことなく奇妙な、CのようなCではないような言語に見えます。当時のCはこういう言語でした。このコードを読んでまず気がつくのは、我々が作ってきたコンパイラの初期の段階と同じように、関数の返り値や引数に型がないことです。ここではsは文字列へのポインタ、<code class="notranslate">p1</code>や<code class="notranslate">p2</code>は整数のはずなのですが、当時のマシンではすべてが同じ大きさだったので、このように変数は型なしになっています。</p>
<p>2行目には、<code class="notranslate">error</code>が参照しているグローバル変数と関数の宣言が書かれています。当時のCコンパイラにはヘッダファイルもCプリプロセッサもなかったので、このようにしてプログラマはコンパイラに変数や関数の存在を教えてやる必要がありました。</p>
<p>現在の我々のコンパイラと同じように、関数は名前が存在するかどうかがチェックされるだけで、引数の型や個数が一致しているかどうかはチェックされません。想定している個数の引数をスタックに積んだあとに、おもむろに関数本体にジャンプすれば関数呼び出しが成功するので、それでよしとしていたのでしょう。</p>
<p><code class="notranslate">fout</code>というのは出力先のファイルディスクリプタの番号を持っているグローバル変数です。この頃にはまだ<code class="notranslate">fprintf</code>が存在しておらず、標準出力ではなく標準エラー出力に文字列を書き出すためには、グローバル変数経由で出力先をスイッチする必要がありました。</p>
<p><code class="notranslate">error</code>の中では<code class="notranslate">printf</code>が2回呼ばれています。2回目のprintfではフォーマット文字列に加えて2つの値が渡されています。では、1つの値だけを取るようなエラーメッセージを表示するときにはどうしていたのでしょうか？</p>
<p>実はこの<code class="notranslate">error</code>関数は、単に無理やり少ない引数で読んでも正しく動作します。関数の引数チェックがこの時点では存在しなかったことを思い出してください。<code class="notranslate">s</code>、<code class="notranslate">p1</code>、<code class="notranslate">p2</code>といった引数は単にスタックポインタから1、2、3番目のワードを指しているだけで、実際に<code class="notranslate">p2</code>に相当する値が渡されているかどうかはコンパイラは気にしません。<code class="notranslate">printf</code>は、第一引数の文字列に含まれる<code class="notranslate">%d</code>や<code class="notranslate">%s</code>の個数ぶんだけ余分な引数にアクセスするので、<code class="notranslate">%d</code>をひとつだけ含むメッセージの場合、<code class="notranslate">p2</code>はまったくアクセスされません。したがって引数の個数が一致していなくても問題ないのです。</p>
<p>このように初期のCコンパイラには、現時点での9ccと類似した点がたくさんあります。</p>
<p>もう1つコードの例を見てみましょう。下のコードは、渡された文字列を静的に確保された領域にコピーして、その領域の先頭を指すポインタを返す関数です。つまりこれは静的な領域を使う<code class="notranslate">strdup</code>のような関数です。</p>
<div class="sourceCode" id="cb104"><pre class="sourceCode c notranslate"><code class="sourceCode c notranslate"><span id="cb104-1"><a href="https://www.sigbus.info/compilerbook#cb104-1"></a>copy(s)</span>
<span id="cb104-2"><a href="https://www.sigbus.info/compilerbook#cb104-2"></a><span class="dt">char</span> s[]; {</span>
<span id="cb104-3"><a href="https://www.sigbus.info/compilerbook#cb104-3"></a>  <span class="kw">extern</span> tsp;</span>
<span id="cb104-4"><a href="https://www.sigbus.info/compilerbook#cb104-4"></a>  <span class="dt">char</span> tsp[], otsp[];</span>
<span id="cb104-5"><a href="https://www.sigbus.info/compilerbook#cb104-5"></a></span>
<span id="cb104-6"><a href="https://www.sigbus.info/compilerbook#cb104-6"></a>  otsp = tsp;</span>
<span id="cb104-7"><a href="https://www.sigbus.info/compilerbook#cb104-7"></a>  <span class="cf">while</span>(*tsp++ = *s++);</span>
<span id="cb104-8"><a href="https://www.sigbus.info/compilerbook#cb104-8"></a>  <span class="cf">return</span>(otsp);</span>
<span id="cb104-9"><a href="https://www.sigbus.info/compilerbook#cb104-9"></a>}</span></code></pre></div>
<p>この当時は<code class="notranslate">int *p</code>という形式の宣言の構文が考案されていませんでした。そのかわりにポインタ型は<code class="notranslate">int p[]</code>というように宣言します。関数の引数リストと関数本体との間に変数定義のようなものが入っていますが、これは<code class="notranslate">s</code>をポインタ型として宣言するためのものです。</p>
<p>この初期のCコンパイラには特筆するべきことが他にもあります。</p>
<ul>
<li>この時点では構造体は存在していませんでした。</li>
<li><code class="notranslate">&amp;&amp;</code>や<code class="notranslate">||</code>といった演算子もまだありません。この頃は<code class="notranslate">&amp;</code>や<code class="notranslate">|</code>が<code class="notranslate">if</code>などの条件式の中でだけ論理演算子になるという文脈依存の動作になっていました。</li>
<li><code class="notranslate">+=</code>といった演算子は<code class="notranslate">=+</code>というように書いていました。この文法には、<code class="notranslate">i</code>に-1を代入するつもりで、空白を入れずに<code class="notranslate">i=-1</code>と書いてしまうと、<code class="notranslate">i =- 1</code>と見なされて<code class="notranslate">i</code>がデクリメントされるという意図しない動作になってしまう問題がありました。</li>
<li>整数型はcharとintだけで、shortやlongは存在しませんでした。「関数ポインタの配列」といった型を宣言する構文は存在せず、複雑な型を記述することができませんでした。</li>
</ul>
<p>上記のほかにも70年代初期のCにはいろいろな機能が欠けていました。とはいえ、このCコンパイラは、上のソースコードからわかるようにCで書かれていました。構造体すらない時代にすでにCはセルフホストしていたのです。</p>
<p>古いソースコードを見ると、Cの一部のわかりにくい文法がなぜ現在の形になってしまったのかを推測することもできます。<code class="notranslate">extern</code>か<code class="notranslate">auto</code>か<code class="notranslate">int</code>か<code class="notranslate">char</code>の後ろに必ず変数名が来る、という文法なら変数定義のパースは簡単です。ポインタを表す<code class="notranslate">[]</code>も単に変数名の直後に来るだけならパースするのは簡単です。ただし、この文法を、この初期のコンパイラで見えている方向性に沿って発展させていくと、現在の不必要に複雑な形になってしまうのもわかるような気がします。</p>
<p>さて、1973年前後にUnixとCの共同開発者のDennis Ritchieが行っていたのは、まさにインクリメンタルな開発でした。彼は、Cそのものを発展させるのと平行して、Cを使ってそのコンパイラを書いていたのです。現在のCは、言語の機能追加を続ける中で特別なポイントに達した何らかの完成形というわけではなく、単にDennis Ritchieがある時点で、これで言語の機能は十分、と思ったところで言語として完成ということになっただけです。</p>
<p>我々のコンパイラでも最初から完成形を追い求めることはしませんでした。Cの完成形は特別な意味があるものではないので、それを特別に追い求めることにそこまで意味はないでしょう。どの時点でもリーズナブルな機能のセットを持った言語として開発を続けていって、最終的にCにする、というのは、原始のCコンパイラがそうしていた由緒正しい開発手法なのです。自信を持って開発を進めていきましょう！</p>
<div class="note">
<p>コラム: Rob Pikeのプログラミングの5つのルール</p>
<p>9ccはRob Pikeのプログラミングに対する考え方の影響を受けています。Rob Pikeは、Cの作者Dennis Ritchieの元同僚で、Go言語の作者であり、Unixの作者Ken Thompsonと一緒にUnicodeのUTF-8を開発した人物です。</p>
<p>Rob Pikeの「プログラミングの5つのルール」（Rob Pike's 5 Rules of Programming）を引用します。</p>
<ol>
<li>プログラムのどの部分が時間を使うのか予測することはできない。ボトルネックは驚くような場所で生じるので、それがどこにあるかわかるまで、むやみにボトルネックの場所を予測してパフォーマンスハックを加えたりしないこと。</li>
<li>計測せよ。計測する前に最適化しようとしてはいけない。また、計測したとしても、コードの極端に遅い場所以外は最適化しようとしないこと。</li>
<li>凝ったアルゴリズムはnが小さい時に遅く、nは通常小さい。凝ったアルゴリズムは定数部分が大きい。nが通常大きいということを知っているのでない限り、凝らないようにすること。（仮にnが大きいとしても、まずはルール2を適用せよ。）</li>
<li>凝ったアルゴリズムは簡単なものよりバグりやすく実装するのも難しい。シンプルなアルゴリズムとデータ構造を使うべき。</li>
<li>データこそが重要。正しいデータ構造を選んで、データをうまく表すことができれば、アルゴリズムはほぼ常に自明になる。アルゴリズムではなくデータ構造こそがプログラミングの中心となる存在である。</li>
</ol>
</div>
<h2 id="ステップ12-制御構文を足す"><a href="https://www.sigbus.info/compilerbook#%E3%82%B9%E3%83%86%E3%83%83%E3%83%9712-%E5%88%B6%E5%BE%A1%E6%A7%8B%E6%96%87%E3%82%92%E8%B6%B3%E3%81%99" style="text-decoration: none; color: inherit;">ステップ12: 制御構文を足す</a></h2>
<p><em>これ以降の章は執筆中です。ここまでの章は丁寧に書いたつもりですが、ここからの章は正直まだ公開するレベルには達していないと思います。ただし、ここまで読み進めてきた人ならば自分で必要なことを補完して読めないこともないでしょうし、どのような手順で進めるのがよいのか道標が欲しい人もいるでしょうから、そういう意味で公開しておきます。</em></p>
<p>この節では<code class="notranslate">if</code>、<code class="notranslate">if ... else</code>、<code class="notranslate">while</code>、<code class="notranslate">for</code>といった制御構造を言語に追加します。これらの制御構造は一見複雑そうに見えますが、アセンブリに素直にそのままコンパイルする場合、実装は比較的簡単です。</p>
<p>アセンブリにはCの制御構造に対応するものが存在しないので、Cの制御構造は、アセンブリでは分岐命令とラベルで表現されます。これはある意味、制御構造を<code class="notranslate">goto</code>を使って書き直すのと同じです。人間が制御構造を手で<code class="notranslate">goto</code>文に書き直せるように、制御構造は、パターンにしたがってコード生成を行うだけで無理なく実装することができます。</p>
<p>制御構文には他にも<code class="notranslate">do ... while</code>、<code class="notranslate">goto</code>、<code class="notranslate">continue</code>、<code class="notranslate">break</code>など様々な構文が存在しますが、それらはこの時点ではまだ実装する必要はありません。</p>
<p><code class="notranslate">if</code>、<code class="notranslate">while</code>、<code class="notranslate">for</code>を加えた新たな文法を以下に示します。</p>
<div class="sourceCode" id="cb105"><pre class="sourceCode scheme notranslate"><code class="sourceCode scheme notranslate"><span id="cb105-1"><a href="https://www.sigbus.info/compilerbook#cb105-1"></a>program <span class="op">=</span> stmt*</span>
<span id="cb105-2"><a href="https://www.sigbus.info/compilerbook#cb105-2"></a>stmt    <span class="op">=</span> expr <span class="st">";"</span></span>
<span id="cb105-3"><a href="https://www.sigbus.info/compilerbook#cb105-3"></a>        | <span class="st">"if"</span> <span class="st">"("</span> expr <span class="st">")"</span> stmt (<span class="st">"else"</span> stmt)?</span>
<span id="cb105-4"><a href="https://www.sigbus.info/compilerbook#cb105-4"></a>        | <span class="st">"while"</span> <span class="st">"("</span> expr <span class="st">")"</span> stmt</span>
<span id="cb105-5"><a href="https://www.sigbus.info/compilerbook#cb105-5"></a>        | <span class="st">"for"</span> <span class="st">"("</span> expr? <span class="st">";"</span> expr? <span class="st">";"</span> expr? <span class="st">")"</span> stmt</span>
<span id="cb105-6"><a href="https://www.sigbus.info/compilerbook#cb105-6"></a>        | ...</span>
<span id="cb105-7"><a href="https://www.sigbus.info/compilerbook#cb105-7"></a>...</span></code></pre></div>
<p><code class="notranslate">expr? ";"</code>を読み取る時には、1トークン先読みして、次のトークンが<code class="notranslate">;</code>ならば<code class="notranslate">expr</code>は存在しないということにして、そうでなければ<code class="notranslate">expr</code>を読む、というようにすればよいです。</p>
<p><code class="notranslate">if (A) B</code>は次のようなアセンブリにコンパイルします。</p>
<pre class="notranslate"><code class="notranslate">  Aをコンパイルしたコード // スタックトップに結果が入っているはず
  pop rax
  cmp rax, 0
  je  .LendXXX
  Bをコンパイルしたコード
.LendXXX:</code></pre>
<p>つまり<code class="notranslate">if (A) B</code>は、</p>
<div class="sourceCode" id="cb107"><pre class="sourceCode c notranslate"><code class="sourceCode c notranslate"><span id="cb107-1"><a href="https://www.sigbus.info/compilerbook#cb107-1"></a>  <span class="cf">if</span> (A == <span class="dv">0</span>)</span>
<span id="cb107-2"><a href="https://www.sigbus.info/compilerbook#cb107-2"></a>    <span class="cf">goto</span> end;</span>
<span id="cb107-3"><a href="https://www.sigbus.info/compilerbook#cb107-3"></a>  B;</span>
<span id="cb107-4"><a href="https://www.sigbus.info/compilerbook#cb107-4"></a>end:</span></code></pre></div>
<p>と同じように展開されるというわけです。<code class="notranslate">XXX</code>は通し番号などにして、全てのラベルがユニークになるようにしてください。</p>
<p><code class="notranslate">if (A) B else C</code>は次のようなアセンブリにコンパイルします。</p>
<pre class="notranslate"><code class="notranslate">  Aをコンパイルしたコード // スタックトップに結果が入っているはず
  pop rax
  cmp rax, 0
  je  .LelseXXX
  Bをコンパイルしたコード
  jmp .LendXXX
.LelseXXX
  Cをコンパイルしたコード
.LendXXX</code></pre>
<p>つまり<code class="notranslate">if (A) B else C</code>は次のように展開されます。</p>
<div class="sourceCode" id="cb109"><pre class="sourceCode c notranslate"><code class="sourceCode c notranslate"><span id="cb109-1"><a href="https://www.sigbus.info/compilerbook#cb109-1"></a>  <span class="cf">if</span> (A == <span class="dv">0</span>)</span>
<span id="cb109-2"><a href="https://www.sigbus.info/compilerbook#cb109-2"></a>    <span class="cf">goto</span> els;</span>
<span id="cb109-3"><a href="https://www.sigbus.info/compilerbook#cb109-3"></a>  B;</span>
<span id="cb109-4"><a href="https://www.sigbus.info/compilerbook#cb109-4"></a>  <span class="cf">goto</span> end;</span>
<span id="cb109-5"><a href="https://www.sigbus.info/compilerbook#cb109-5"></a>els:</span>
<span id="cb109-6"><a href="https://www.sigbus.info/compilerbook#cb109-6"></a>  C;</span>
<span id="cb109-7"><a href="https://www.sigbus.info/compilerbook#cb109-7"></a>end:</span></code></pre></div>
<p><code class="notranslate">if</code>文を読むときは、1トークン先読みをして<code class="notranslate">else</code>があるかどうかをチェックして、<code class="notranslate">else</code>があるときは<code class="notranslate">if ... else</code>、ないときは<code class="notranslate">else</code>のない<code class="notranslate">if</code>としてコンパイルします。</p>
<p><code class="notranslate">while (A) B</code>は次のようにコンパイルします。</p>
<pre class="notranslate"><code class="notranslate">.LbeginXXX:
  Aをコンパイルしたコード
  pop rax
  cmp rax, 0
  je  .LendXXX
  Bをコンパイルしたコード
  jmp .LbeginXXX
.LendXXX:</code></pre>
<p>つまり<code class="notranslate">while (A) B</code>は次のようなコードと同じように展開されます。</p>
<div class="sourceCode" id="cb111"><pre class="sourceCode c notranslate"><code class="sourceCode c notranslate"><span id="cb111-1"><a href="https://www.sigbus.info/compilerbook#cb111-1"></a>begin:</span>
<span id="cb111-2"><a href="https://www.sigbus.info/compilerbook#cb111-2"></a>  <span class="cf">if</span> (A == <span class="dv">0</span>)</span>
<span id="cb111-3"><a href="https://www.sigbus.info/compilerbook#cb111-3"></a>    <span class="cf">goto</span> end;</span>
<span id="cb111-4"><a href="https://www.sigbus.info/compilerbook#cb111-4"></a>  B;</span>
<span id="cb111-5"><a href="https://www.sigbus.info/compilerbook#cb111-5"></a>  <span class="cf">goto</span> begin;</span>
<span id="cb111-6"><a href="https://www.sigbus.info/compilerbook#cb111-6"></a>end:</span></code></pre></div>
<p><code class="notranslate">for (A; B; C) D</code>は次のようにコンパイルします。</p>
<pre class="notranslate"><code class="notranslate">  Aをコンパイルしたコード
.LbeginXXX:
  Bをコンパイルしたコード
  pop rax
  cmp rax, 0
  je  .LendXXX
  Dをコンパイルしたコード
  Cをコンパイルしたコード
  jmp .LbeginXXX
.LendXXX:</code></pre>
<p><code class="notranslate">for (A; B; C) D</code>に対応するCコードを以下に示します。</p>
<div class="sourceCode" id="cb113"><pre class="sourceCode c notranslate"><code class="sourceCode c notranslate"><span id="cb113-1"><a href="https://www.sigbus.info/compilerbook#cb113-1"></a>  A;</span>
<span id="cb113-2"><a href="https://www.sigbus.info/compilerbook#cb113-2"></a>begin:</span>
<span id="cb113-3"><a href="https://www.sigbus.info/compilerbook#cb113-3"></a>  <span class="cf">if</span> (B == <span class="dv">0</span>)</span>
<span id="cb113-4"><a href="https://www.sigbus.info/compilerbook#cb113-4"></a>    <span class="cf">goto</span> end;</span>
<span id="cb113-5"><a href="https://www.sigbus.info/compilerbook#cb113-5"></a>  D;</span>
<span id="cb113-6"><a href="https://www.sigbus.info/compilerbook#cb113-6"></a>  C;</span>
<span id="cb113-7"><a href="https://www.sigbus.info/compilerbook#cb113-7"></a>  <span class="cf">goto</span> begin;</span>
<span id="cb113-8"><a href="https://www.sigbus.info/compilerbook#cb113-8"></a>end:</span></code></pre></div>
<p>なお、<code class="notranslate">.L</code>から始まるラベルはアセンブラによって特別に認識される名前で、自動的にファイルスコープになります。ファイルスコープのラベルは、同じファイルの中から参照することはできますが、別のファイルから参照することはできません。したがって、<code class="notranslate">if</code>や<code class="notranslate">for</code>のためにコンパイラが作り出したラベルを<code class="notranslate">.L</code>から始めるようにしておくと、他のファイルに含まれているラベルと衝突する心配がいらなくなります。</p>
<p>ccで小さいループをコンパイルしてそのアセンブリを参考にして作ってください。</p>
<div class="note">
<p>コラム: コンパイラによる実行時エラーの検出</p>
<p>Cでプログラムを書くと、配列の終端を超えてデータを書き込んでしまったり、ポインタのバグで無関係のデータ構造を壊してしまったりすることがよくあります。こういったバグはセキュリティホールにもなるので、コンパイラの助けを借りることで、実行時にバグを積極的に検出していこうという発想があります。</p>
<p>例えばGCCに<code class="notranslate">-fstack-protector</code>というオプションを渡すと、コンパイルされた関数が、プロローグで「<span class="index" id="index62">カナリー</span>」（canary）といわれるポインタサイズのランダムな整数を関数フレームに出力して、エピローグでカナリーの値が変わっていないことを確認するようになります。このようにすると、配列のバッファオーバーフローでスタックの内容が知らないうちに上書きされてしまっている場合、カナリーの値もほぼ間違いなく変わっているはずなので、関数リターン時にエラーを検出できるというわけです。エラーを検出した場合、プログラムは普通は即座に終了します。</p>
<p>LLVMにはTSan（ThreadSanitizer）というものがあって、適切にロックを確保せずに複数のスレッドが共有データ構造にアクセスしているのを実行時に検出するコードを出力することができます。また、LLVMのUBSan（UndefinedBehaviorSanitizer）というものでは、Cの未定義動作をうっかり踏んでしまっていないかどうかを実行時に検出するコードを出力することができます。例えば符号あり整数のオーバーフローはCでは未定義動作なので、符号あり整数のオーバーフローが起きるとUBSanはエラーを報告します。</p>
<p>TSanなどはプログラムの動作速度が数倍遅くなってしまうので、常用するプログラムのコンパイルオプションに加えるのは無理がありますが、実行時のコストが比較的低いスタックカナリーのような機能は、環境によってはデフォルトでオンになっていることがあります。</p>
<p>このようなコンパイラの助けを借りた動的エラー検出というのは、近年盛んに研究されていて、メモリ安全ではないCやC++といった言語を使ってそれなりにセキュアなプログラムを書くことに大きく貢献しています。</p>
</div>
<h2 id="ステップ13-ブロック"><a href="https://www.sigbus.info/compilerbook#%E3%82%B9%E3%83%86%E3%83%83%E3%83%9713-%E3%83%96%E3%83%AD%E3%83%83%E3%82%AF" style="text-decoration: none; color: inherit;">ステップ13: ブロック</a></h2>
<p>このステップでは<code class="notranslate">{ ... }</code>の間に複数のステートメントを書くことのできる「<span class="index" id="index63">ブロック</span>」（block）をサポートします。ブロックは正式には「<span class="index" id="index64">複文</span>」（compound statement）と呼ばれますが、長い単語なので、往々にして単にブロックと呼ばれています。</p>
<p>ブロックは、複数のステートメントをまとめて1つのステートメントにする効果があります。上記のステップで実装した<code class="notranslate">if</code>や<code class="notranslate">while</code>は、条件式が成立したときに実行されるステートメントを1つしか許していませんでしたが、このステップでブロックを実装することにより、Cと同じように、そこに<code class="notranslate">{}</code>でくくった複数の文を書けるようになります。</p>
<p>関数本体も実はブロックです。文法上、関数本体は必ずブロックでなければならないことになっています。関数の定義の<code class="notranslate">{ ... }</code>は、実は<code class="notranslate">if</code>や<code class="notranslate">while</code>の後に書く<code class="notranslate">{ ... }</code>と構文的には同じなのです。</p>
<p>ブロックを追加した文法を以下に示します。</p>
<div class="sourceCode" id="cb114"><pre class="sourceCode scheme notranslate"><code class="sourceCode scheme notranslate"><span id="cb114-1"><a href="https://www.sigbus.info/compilerbook#cb114-1"></a>program <span class="op">=</span> stmt*</span>
<span id="cb114-2"><a href="https://www.sigbus.info/compilerbook#cb114-2"></a>stmt    <span class="op">=</span> expr <span class="st">";"</span></span>
<span id="cb114-3"><a href="https://www.sigbus.info/compilerbook#cb114-3"></a>        | <span class="st">"{"</span> stmt* <span class="st">"}"</span></span>
<span id="cb114-4"><a href="https://www.sigbus.info/compilerbook#cb114-4"></a>        | ...</span>
<span id="cb114-5"><a href="https://www.sigbus.info/compilerbook#cb114-5"></a>...</span></code></pre></div>
<p>この文法では、<code class="notranslate">stmt</code>が<code class="notranslate">"{"</code>で始まっている場合、<code class="notranslate">"}"</code>が出現するまで0個以上の<code class="notranslate">stmt</code>がでてきてよいことになります。<code class="notranslate">stmt* "}"</code>をパースするためには、<code class="notranslate">"}"</code>が出現するまで<code class="notranslate">while</code>文で繰り返し<code class="notranslate">stmt</code>を呼んで、その結果をベクタとして返すようにしてください。</p>
<p>ブロックを実装するためには、ブロックを表すノードの型<code class="notranslate">ND_BLOCK</code>を追加してください。ノードを表す構造体<code class="notranslate">Node</code>には、ブロックに含まれる式を持つベクタを追加する必要があります。コードジェネレータでは、ノードの型が<code class="notranslate">ND_BLOCK</code>だった場合に、そのノードに含まれるステートメントのコードを順番に生成するようにしてください。なお、1つ1つのステートメントは1つの値をスタックに残すので、それを毎回ポップするのを忘れないようにしましょう。</p>
<h2 id="ステップ14-関数の呼び出しに対応する"><a href="https://www.sigbus.info/compilerbook#%E3%82%B9%E3%83%86%E3%83%83%E3%83%9714-%E9%96%A2%E6%95%B0%E3%81%AE%E5%91%BC%E3%81%B3%E5%87%BA%E3%81%97%E3%81%AB%E5%AF%BE%E5%BF%9C%E3%81%99%E3%82%8B" style="text-decoration: none; color: inherit;">ステップ14: 関数の呼び出しに対応する</a></h2>
<p>このステップでは<code class="notranslate">foo()</code>のような引数なしの関数呼び出しを認識できるようにして、これを<code class="notranslate">call foo</code>にコンパイルするということを目標にします。</p>
<p>関数呼び出しを加えた新たな文法を下に示します。</p>
<div class="sourceCode" id="cb115"><pre class="sourceCode scheme notranslate"><code class="sourceCode scheme notranslate"><span id="cb115-1"><a href="https://www.sigbus.info/compilerbook#cb115-1"></a>...</span>
<span id="cb115-2"><a href="https://www.sigbus.info/compilerbook#cb115-2"></a>primary <span class="op">=</span> num</span>
<span id="cb115-3"><a href="https://www.sigbus.info/compilerbook#cb115-3"></a>        | ident (<span class="st">"("</span> <span class="st">")"</span>)?</span>
<span id="cb115-4"><a href="https://www.sigbus.info/compilerbook#cb115-4"></a>        | <span class="st">"("</span> expr <span class="st">")"</span></span></code></pre></div>
<p><code class="notranslate">ident</code>を読んだあと1つトークンを先読みしてみることで、その<code class="notranslate">ident</code>が変数名なのか関数名なのかを見分けることができます。</p>
<p>テストでは<code class="notranslate">int foo() { printf("OK\n"); }</code>のような内容のCファイルを用意しておいて、それを<code class="notranslate">cc -c</code>でオブジェクトファイルにコンパイルして、自分のコンパイラの出力とリンクします。そうすると全体としてきちんとリンクできて、自分の呼び出したい関数がきちんと呼ばれていることも確認できるはずです。</p>
<p>それが動いたら、次は<code class="notranslate">foo(3, 4)</code>のような関数呼び出しを書けるようにしてください。引数の個数や型のチェックはいりません。単に引数を順番に評価すると、スタック上に関数に渡すべき引数ができあがるので、それをx86-64のABIで規定されている順番でレジスタにコピーして、関数をcallします。6つより多い引数はサポートしなくてかまいません。</p>
<p>テストでは上と同じように、<code class="notranslate">int foo(int x, int y) { printf("%d\n", x + y); }</code>のような関数を適当に用意しておいて、それをリンクすれば動作確認できるはずです。</p>
<p>x86-64の関数呼び出しのABIは（上のようなやり方をしている限りは）簡単ですが、注意点が一つあります。関数呼び出しをする前にRSPが16の倍数になっていなければいけません。<code class="notranslate">push</code>や<code class="notranslate">pop</code>はRSPを8バイト単位で変更するので、<code class="notranslate">call</code>命令を発行するときに必ずしもRSPが16の倍数になっているとは限りません。この約束が守られていない場合、RSPが16の倍数になっていることを前提にしている関数が、半分の確率で落ちる謎の現象に悩まされることにmなります。関数を呼ぶ前にRSPを調整するようにして、RSPを16の倍数になるように調整するようにしましょう。</p>
<h2 id="ステップ15-関数の定義に対応する"><a href="https://www.sigbus.info/compilerbook#%E3%82%B9%E3%83%86%E3%83%83%E3%83%9715-%E9%96%A2%E6%95%B0%E3%81%AE%E5%AE%9A%E7%BE%A9%E3%81%AB%E5%AF%BE%E5%BF%9C%E3%81%99%E3%82%8B" style="text-decoration: none; color: inherit;">ステップ15: 関数の定義に対応する</a></h2>
<p>ここまでが終わったら次は関数定義をできるようにします。とはいえCの関数定義は構文解析が面倒なのでいきなり全部を実装したりはしません。現在のところ我々の言語にはint型しか存在しないので、<code class="notranslate">int foo(int x, int y) { ... }</code>という構文ではなく 型名を省略した<code class="notranslate">foo(x, y) { ... }</code>という構文を実装します。</p>
<p>呼び出された側では<code class="notranslate">x</code>や<code class="notranslate">y</code>といった名前で引数にアクセスできる必要があるわけですが、レジスタで渡された値にそのまま名前でアクセスすることは現状できません。ではどうするかというと、<code class="notranslate">x</code>や<code class="notranslate">y</code>といったローカル変数が存在するものとしてコンパイルして、関数のプロローグの中で、レジスタの値をそのローカル変数のためのスタック上の領域に書き出してください。そうすれば、その後は特に引数とローカル変数を区別することなく扱えるはずです。</p>
<p>今までは暗黙のうちに全体が<code class="notranslate">main() { ... }</code>で囲まれているのと同じ動作になっていましたが、それは廃止して、全部のコードを何らかの関数の中に書くようにします。そうするとトップレベルをパースしているときは、まずトークンを読むとそれは必ず関数名のはずで、その後に続くのは引数リストのはずで、そのあとは関数本体が続いているはず、となるので、簡単に読めます。</p>
<p>このステップが終わるとフィボナッチ数列を再帰で計算しつつ表示したりできるようになるのでグッと面白くなるはずです。</p>
<h2 id="バイナリレベルのインターフェイス"><a href="https://www.sigbus.info/compilerbook#%E3%83%90%E3%82%A4%E3%83%8A%E3%83%AA%E3%83%AC%E3%83%99%E3%83%AB%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%BC%E3%83%95%E3%82%A7%E3%82%A4%E3%82%B9" style="text-decoration: none; color: inherit;">バイナリレベルのインターフェイス</a></h2>
<p>C言語の仕様はソースコードレベルの仕様を規定しています。例えば言語仕様では、どのような書き方をすると関数を定義できるのかとか、どのファイルをインクルードすればどの関数が宣言されるのか、といったことが決められています。一方で、標準に準拠するように書いたソースコードがどのような機械語に変換されるのかといったことは、言語仕様では規定されていません。C言語の標準は特定の命令セットを念頭に置いて決められているわけではないので、これは当然のことといえるでしょう。</p>
<p>したがって、機械語レベルの仕様というものは一見きちんと決める必要がなさそうに思えますが、実際にはプラットフォームごとにある程度の仕様が決まっています。その仕様のことを<span class="index" id="index65">ABI</span>（<span class="index" id="index66">Application Binary Interface</span>）と言います。</p>
<p>本書でここまでに説明した関数の呼び出し方では、引数は特定の順番でレジスタに置かれるということになっていました。また、返り値はRAXにセットされるという約束になっていました。こういった関数の呼び出し方のルールのことを「<span class="index" id="index67">関数呼び出し規約</span>」（function calling convention）といいます。関数呼び出し規約はABIの一部です。</p>
<p>C言語のABIには、引数や返り値の渡し方の他に次のようなものも含まれています。</p>
<ul>
<li>関数呼び出しで変更されるレジスタとされないレジスタ（RBPなどはリターンの前に元の値に戻されますが、いくつかのレジスタについては元の値に戻さなくてよいことになっています）</li>
<li><code class="notranslate">int</code>や<code class="notranslate">long</code>などの型のサイズ</li>
<li>構造体のレイアウトのルール（構造体のメンバがメモリ上で実際にどのような配置になるのかというルール）</li>
<li>ビットフィールドのレイアウトのルール（例えば最下位ビットからビットフィールドを並べるのか、最上位ビットから並べるのか、など）</li>
</ul>
<p>ABIはソフトウェアレベルのいわばただのお約束にすぎないので、本書で説明しているのとは異なるものを考えることは可能ですが、ABI互換性のないコードはお互い呼び出して使うことができないので、基本的にはCPUベンダやOSベンダがプラットフォーム標準のABIを定義しています。x86-64では、UnixやmacOSで使われているSystem V ABIいうものと、Windowsで使われているMicrosoft ABIの2つが広く使われています。なお、この2つの呼び出し規約は必然性があって別れているわけではなく、単に別々の人たちが別々に規約を策定しただけです。</p>
<p>本書ではここまでに、自作のコンパイラから、別のコンパイラでコンパイルした関数を呼び出すといったことを行ってきました。そういうことが可能だったのは我々のCコンパイラと別のコンパイラのABIが同じだったからです。</p>
<hr>
<h1 id="twos_complement"><a href="https://www.sigbus.info/compilerbook#twos_complement" style="text-decoration: none; color: inherit;">コンピュータにおける整数の表現</a></h1>
<p>このあたりで、コンピュータでどのように整数、特に負の整数が表現されているのかを理解しておきましょう。この章では、<span class="index" id="index68">符号なしの数</span>の表現方法と、「<span class="index" id="index69">2の補数表現</span>」（two's complement）による<span class="index" id="index70">符号ありの数</span>の表現方法を説明します。</p>
<p>本書では2進のビットパターンは、0bプレフィックスをつけて、見やすくするために4桁ごとにアンダースコアで区切って、0b0001_1010のように表すことにします。0bプレフィックスは実際、コンパイラ独自拡張として多くのCコンパイラでそのまま使うことができます（ただしアンダースコアを含めることは普通できません）。</p>
<h2 id="符号なし整数"><a href="https://www.sigbus.info/compilerbook#%E7%AC%A6%E5%8F%B7%E3%81%AA%E3%81%97%E6%95%B4%E6%95%B0" style="text-decoration: none; color: inherit;">符号なし整数</a></h2>
<p>符号なし整数（unsigned integer）の表現は通常の2進数と同じです。10進数の数が、下の桁から順に1の桁、10の桁、100の桁、1000の桁、⋯⋯（すなわち10<sup>0</sup>の桁、10<sup>1</sup>の桁、10<sup>2</sup>の桁、10<sup>3</sup>の桁、⋯⋯）を表しているのと同じように、2進数の数は、下の桁から1の桁、2の桁、4の桁、8の桁、⋯⋯（すなわち2<sup>0</sup>の桁、2<sup>1</sup>の桁、2<sup>2</sup>の桁、2<sup>3</sup>の桁、⋯⋯）を表しています。</p>
<p>例えば0b1110というビットパターンが表している符号なし整数の値は、1になっているビットの位置を見てみればわかります。この場合、2桁目、3桁目、4桁目、すなわち2の桁、4の桁、8の桁が1になっているので、0b1110は2 + 4 + 8 = 14を表しています。いくつかの例の図を以下に示します。</p>
<p><img src="data:image/svg+xml;base64,PCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIHdpZHRoPSIzOThweCIgaGVpZ2h0PSIxNzlweCIgdmlld0JveD0iLTAuNSAtMC41IDM5OCAxNzkiIGNvbnRlbnQ9IiZsdDtteGZpbGUgbW9kaWZpZWQ9JnF1b3Q7MjAxOS0wNS0yOVQwMTo0NjozMi45ODRaJnF1b3Q7IGhvc3Q9JnF1b3Q7d3d3LmRyYXcuaW8mcXVvdDsgYWdlbnQ9JnF1b3Q7TW96aWxsYS81LjAgKE1hY2ludG9zaDsgSW50ZWwgTWFjIE9TIFggMTBfMTRfNSkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzc0LjAuMzcyOS4xNjkgU2FmYXJpLzUzNy4zNiZxdW90OyB2ZXJzaW9uPSZxdW90OzEwLjcuMCZxdW90OyBldGFnPSZxdW90O2EtZ3FFbnVjZzd3WWh5QVdzZU1wJnF1b3Q7IHR5cGU9JnF1b3Q7Z29vZ2xlJnF1b3Q7Jmd0OyZsdDtkaWFncmFtIGlkPSZxdW90O0tRR0NDVk1OOG1EMDUzNmRGSm5JJnF1b3Q7Jmd0OzdadkJjcHN3RUlhZnh0ZU1rSURnWStLbTdhVXptY21oWjhYSVJsT01QRUtPblQ1OWhSRUdMR0xEbERWdFFCZkRJaGJ6ZjR2UXJ1d1pXV3dPM3lUZFJqOUV5T0laUnVGaFJyN01NSFljNU9xUHpQSnVMQWlqM0xLV1BEUzIwdkRDZjdPaW83SHVlTWpTV2tjbFJLejR0bTVjaWlSaFMxV3pVU25GdnQ1dEplTDZWYmQwelN6RHk1TEd0dlVuRDFXVVd3TVBsZmJ2aks4amRicGpjMlJEaTg3R2tFWTBGUHVLaVR6TnlFSUtvZkt0eldIQjRreTlRcGY4dks4ZkhEMTlNY2tTMWVZRW5KL3dSdU9kdVRmenZkUjdjYk1zQ1I4eXpmUmVJaEp0Zkl6VUp0WjdqdDVjaVVRWlBvNnI5ME9hUml3MEI3T2RaNm9VazhuUmdsSFdKVlZTL0dJTEVRdDV2QUJCeDZhUDVKZG1vU1YrZVRmT1NTTWRYVXhzbUpMdnVzdStwRkJBaUNvQUNwdGtNVlg4cmU2ZW1tQlluOXlkcnZBc3VMNHdSaVp5WFova3A1aTRkYjA1cXZ0SXhVNHVtVG10S3ZzMVR5NDU4NlNvWERObGVkSWJsUnN2VFVlc3pZakpoTGdEWXJjM3hPZWVBQkc3RStJT2lIRnZpTTg5QVNMMkpzUWRFS1BlRUo5N0FrVHNUNGpiSXlaQlg0Z3RUNENJN3lmRUhSRDNOdDJ5UEFFaURpYkVIUkQzTnQyeVBBRWluaytJT3lEdWJicGxlUUpFWEZRYUpzWnRHSHMrdVVQelN1dUorQlcva1B5ZGlYOEgvaTRRLzh0K0lmbmppWDhIL2hpSS8yVy9rUHlucWxrWC9naUkvMlcva1B5bmtscVhla3NBdy8rS1gwaitmMXR2KzllUmtkNUtaSlluU0N3dGFtUnBSTGZacGxpdG51bGFQMC9ITmNEc21YcmNSMXl4bHkxZFpzZjNrbTdyekVJdWRVOHVraU5SbVZGNFRQTm5HTjBoNGdmSUs1cUw1MjdEVTI2K0haT0tIYnB5LzFET2duZ2xNQnkvSVRJdytqZ0lhcHBmRXJoRmhRcEs0SHZpTzZmbVloOUdYM3ZwclVIZkFFcmVGdFVoSUhsMXdKYU51TVNEa2RlenFxa044bUlvZWUzS1RHRHBxKzlOMVhXcnYzak5XTDdpY1h4bW9qRmZaOW91dFJZczQ1RXB4WmMwZmpBSE5qd01zOHMwZ3BKaWw0VEhLUUQ2akNOSDRhT2l2VHNlN1FjZFZiQmRySERHSS8yZ0kwNHhmZy95dmtRT0NVeWI2eGZtalVZVkQ5MHdzdTAwZkVTRHlyRFN0OGlBZ1NMYklkVjI3eEFnZWEwbDVBWjVYU2g1N1FUVDF2ZnpSdmFnMHR0SkpIck5jbzd4Nk8rM21TcUN6UlR0SEJPOUlxZFljaHVsL2szeEQ2Yi9jRW5vWUVVVTc2YXBVSXNmQ0VCbCtSVjVQZC96YjFWRWFkSVhhczVON0V4enpGbCtZMmczVlk1NzBYN1VxZWF3WVcrbm1ucmFndENJOUxkZm16ZWN0cEJwU2JqTGtqRFFrdUFWdjVEL281bVdoRHZ3OTRGK0VuREZMeVQvRmt2Qy8zZEJ4TE4rUTlzd3ZFSmw1Y1RPeWtkVUVMbWw5SHEzL0lOcC9pQ1UvOU1sVDM4QSZsdDsvZGlhZ3JhbSZndDsmbHQ7L214ZmlsZSZndDsiPjxkZWZzLz48Zz48cGF0aCBkPSJNIDE3NiAxNzYgTCAxNzYgMCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuMSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2UtZGFzaGFycmF5PSIxLjEgNC40IiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gMTU0IDE3NiBMIDE1NCAwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4xIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS1kYXNoYXJyYXk9IjEuMSA0LjQiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSAxMzIgMTc2IEwgMTMyIDAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLWRhc2hhcnJheT0iMS4xIDQuNCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDExMCAxNzYgTCAxMTAgMCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuMSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2UtZGFzaGFycmF5PSIxLjEgNC40IiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gODggMTc2IEwgODggMCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuMSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2UtZGFzaGFycmF5PSIxLjEgNC40IiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gNjYgMTc2IEwgNjYgMCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuMSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2UtZGFzaGFycmF5PSIxLjEgNC40IiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gNDQgMTc2IEwgNDQgMCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuMSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2UtZGFzaGFycmF5PSIxLjEgNC40IiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gMjIgMTc2IEwgMjIgMCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuMSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2UtZGFzaGFycmF5PSIxLjEgNC40IiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gMjg2LjExIDE3NiBMIDI4Ni4xMSAwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4xIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS1kYXNoYXJyYXk9IjEuMSA0LjQiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSAyNjQuMTEgMTc2IEwgMjY0LjExIDAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLWRhc2hhcnJheT0iMS4xIDQuNCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDI0Mi4xMSAxNzYgTCAyNDIuMTEgMCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuMSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2UtZGFzaGFycmF5PSIxLjEgNC40IiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gMjIwLjExIDE3NiBMIDIyMC4xMSAwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4xIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS1kYXNoYXJyYXk9IjEuMSA0LjQiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSAxOTguMTEgMTc2IEwgMTk4LjExIDAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLWRhc2hhcnJheT0iMS4xIDQuNCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDAgMTc2IEwgMCAwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4xIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSA3NyAtNTUgTCA5OSAtNTUgTCA5OSAxMTQuNTIgTCA4OCAxMjEgTCA3NyAxMTQuNTIgWiIgZmlsbD0iI2ZmZmZmZiIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuMSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiB0cmFuc2Zvcm09InJvdGF0ZSgyNzAsODgsMzMpIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gMjA5IC0xMSBMIDIzMSAtMTEgTCAyMzEgNzAuNTIgTCAyMjAgNzcgTCAyMDkgNzAuNTIgWiIgZmlsbD0iI2ZmZmZmZiIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuMSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiB0cmFuc2Zvcm09InJvdGF0ZSgyNzAsMjIwLDMzKSIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDMwOCAyMiBMIDMzMCAyMiBMIDMzMCAzNy41MiBMIDMxOSA0NCBMIDMwOCAzNy41MiBaIiBmaWxsPSIjZmZmZmZmIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4xIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHRyYW5zZm9ybT0icm90YXRlKDI3MCwzMTksMzMpIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDgzLjUsMjQuNSlzY2FsZSgxLjEpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjgiIGhlaWdodD0iMTQiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxNHB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogOHB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7Ij44PC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjQiIHk9IjE0IiBmaWxsPSIjMDAwMDAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjE0cHgiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EiPjg8L3RleHQ+PC9zd2l0Y2g+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIxNS41LDI0LjUpc2NhbGUoMS4xKSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSI4IiBoZWlnaHQ9IjE0IiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTRweDsgZm9udC1mYW1pbHk6IEhlbHZldGljYTsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDhweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0OyI+NDwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSI0IiB5PSIxNCIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxNHB4IiBmb250LWZhbWlseT0iSGVsdmV0aWNhIj40PC90ZXh0Pjwvc3dpdGNoPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzMTQuNSwyNC41KXNjYWxlKDEuMSkiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iOCIgaGVpZ2h0PSIxNCIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDE0cHg7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiA4cHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPjE8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iNCIgeT0iMTQiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTRweCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSI+MTwvdGV4dD48L3N3aXRjaD48L2c+PHBhdGggZD0iTSAzMyA0NCBMIDU1IDQ0IEwgNTUgMTI1LjgzIEwgNDQgMTMyIEwgMzMgMTI1LjgzIFoiIGZpbGw9IiNmZmZmZmYiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgdHJhbnNmb3JtPSJyb3RhdGUoMjcwLDQ0LDg4KSIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzOS41LDc5LjUpc2NhbGUoMS4xKSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSI4IiBoZWlnaHQ9IjE0IiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTRweDsgZm9udC1mYW1pbHk6IEhlbHZldGljYTsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDhweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0OyI+NDwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSI0IiB5PSIxNCIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxNHB4IiBmb250LWZhbWlseT0iSGVsdmV0aWNhIj40PC90ZXh0Pjwvc3dpdGNoPjwvZz48cGF0aCBkPSJNIDk5IDY2IEwgMTIxIDY2IEwgMTIxIDEwNC4xMyBMIDExMCAxMTAgTCA5OSAxMDQuMTMgWiIgZmlsbD0iI2ZmZmZmZiIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuMSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiB0cmFuc2Zvcm09InJvdGF0ZSgyNzAsMTEwLDg4KSIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMDUuNSw3OS41KXNjYWxlKDEuMSkiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iOCIgaGVpZ2h0PSIxNCIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDE0cHg7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiA4cHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPjI8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iNCIgeT0iMTQiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTRweCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSI+MjwvdGV4dD48L3N3aXRjaD48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzM4LjUsMjQuNSlzY2FsZSgxLjEpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjQ0IiBoZWlnaHQ9IjE0IiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTRweDsgZm9udC1mYW1pbHk6IEhlbHZldGljYTsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDQ0cHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPjBiMTExMTwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSIyMiIgeT0iMTQiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTRweCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSI+MGIxMTExPC90ZXh0Pjwvc3dpdGNoPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzMzcuNSw3OS41KXNjYWxlKDEuMSkiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iNDYiIGhlaWdodD0iMTQiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxNHB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogNDZweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0OyI+MGIwMTEwPC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjIzIiB5PSIxNCIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxNHB4IiBmb250LWZhbWlseT0iSGVsdmV0aWNhIj4wYjAxMTA8L3RleHQ+PC9zd2l0Y2g+PC9nPjxwYXRoIGQ9Ik0gNzcgNTUgTCA5OSA1NSBMIDk5IDIyNC41MiBMIDg4IDIzMSBMIDc3IDIyNC41MiBaIiBmaWxsPSIjZmZmZmZmIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4xIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHRyYW5zZm9ybT0icm90YXRlKDI3MCw4OCwxNDMpIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gMTc2IDEzMiBMIDE5OCAxMzIgTCAxOTggMTQ3LjgzIEwgMTg3IDE1NCBMIDE3NiAxNDcuODMgWiIgZmlsbD0iI2ZmZmZmZiIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuMSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiB0cmFuc2Zvcm09InJvdGF0ZSgyNzAsMTg3LDE0MykiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNzcuNSwxMzQuNSlzY2FsZSgxLjEpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjgiIGhlaWdodD0iMTQiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxNHB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogOHB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7Ij44PC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjQiIHk9IjE0IiBmaWxsPSIjMDAwMDAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjE0cHgiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EiPjg8L3RleHQ+PC9zd2l0Y2g+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE4Mi41LDEzNC41KXNjYWxlKDEuMSkiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iOCIgaGVpZ2h0PSIxNCIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDE0cHg7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiA4cHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPjE8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iNCIgeT0iMTQiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTRweCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSI+MTwvdGV4dD48L3N3aXRjaD48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzM3LjUsMTM0LjUpc2NhbGUoMS4xKSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSI0NiIgaGVpZ2h0PSIxNCIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDE0cHg7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiA0OHB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7Ij4wYjEwMDE8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iMjMiIHk9IjE0IiBmaWxsPSIjMDAwMDAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjE0cHgiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EiPjBiMTAwMTwvdGV4dD48L3N3aXRjaD48L2c+PHBhdGggZD0iTSAzMDguMTEgMTc2IEwgMzA4LjExIDAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLWRhc2hhcnJheT0iMS4xIDQuNCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDMzMC4xMSAxNzYgTCAzMzAuMTEgMCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuMSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2UtZGFzaGFycmF5PSIxLjEgNC40IiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gMjc1IDExIEwgMjk3IDExIEwgMjk3IDQ5LjEzIEwgMjg2IDU1IEwgMjc1IDQ5LjEzIFoiIGZpbGw9IiNmZmZmZmYiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgdHJhbnNmb3JtPSJyb3RhdGUoMjcwLDI4NiwzMykiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjgxLjUsMjQuNSlzY2FsZSgxLjEpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjgiIGhlaWdodD0iMTQiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxNHB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogOHB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7Ij4yPC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjQiIHk9IjE0IiBmaWxsPSIjMDAwMDAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjE0cHgiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EiPjI8L3RleHQ+PC9zd2l0Y2g+PC9nPjwvZz48L3N2Zz4=" class="fig"></p>
<p>符号なし整数に1を足していくと、次のグラフで示すように値が循環します。これは4ビット整数の例です。</p>
<p><img src="data:image/svg+xml;base64,PCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIHdpZHRoPSI3NzJweCIgaGVpZ2h0PSIzNjFweCIgdmlld0JveD0iLTAuNSAtMC41IDc3MiAzNjEiIGNvbnRlbnQ9IiZsdDtteGZpbGUgbW9kaWZpZWQ9JnF1b3Q7MjAxOS0wNC0zMFQwOTozMzowMS4zOTRaJnF1b3Q7IGhvc3Q9JnF1b3Q7d3d3LmRyYXcuaW8mcXVvdDsgYWdlbnQ9JnF1b3Q7TW96aWxsYS81LjAgKE1hY2ludG9zaDsgSW50ZWwgTWFjIE9TIFggMTBfMTRfNCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzczLjAuMzY4My4xMDMgU2FmYXJpLzUzNy4zNiZxdW90OyB2ZXJzaW9uPSZxdW90OzEwLjYuNSZxdW90OyBldGFnPSZxdW90O19QMmNWdXZkMDRIT1Q3S0RiREtzJnF1b3Q7IHR5cGU9JnF1b3Q7Z29vZ2xlJnF1b3Q7Jmd0OyZsdDtkaWFncmFtIGlkPSZxdW90O0RVbzRWdG5DSzIydC1DVTV3SHJqJnF1b3Q7Jmd0OzVaMUxjNk5HRklWL2piY3VtcWRZamoxNWJLWXFWVjRrV1ZLaUxWRkJ3b1d4TGVmWEIxazBGdDNZdDZlajI3anFaREVSTFFsSjU3dEFud01YWDBXM3U4TnZiZkd3L2RHVXNyNEtnL0p3RlgyL0NrTWhncmovMzNIazlUU1NyNExUd0thdHl1RkY3d04zMWI5eUdGUXZlNnBLK1RoNVlkYzBkVmM5VEFmWHpYNHYxOTFrckdqYjVtWDZzdnVtbm43cVE3R1J4c0RkdXFqTjBUK3JzdHVlUmxkSjhENyt1NncyMjI3OHdjTXp1MEs5ZUJoNDNCWmw4M0kyRlAxeUZkMjJUZE9kSHUwT3Q3SStpcWQwT2IzdjF3K2VIYjlZSy9lZHpSdkMweHVlaS9wcCtHM0Q5K3BlMVkrVisvTGJVYk4rYWQvcys4R2JiYmVyK3lYUlA3eHY5dDNBUjZUOTh1bmRzalQwZS85Q1l2eVpmWDNJWmllNzlyVi95Y3U3a0VySDdabUdhcXlWZGRGVno5UFZGd1BQemJpNjhSUCthS3IrZzhQZ01GMk5LanpGUWEzaHNYbHExM0o0MDdsdXhIb0NiVDFkMFc1a1o2eW5mM0QybzkrSDNxak1FNHJBQ2VuSzJoTEt2QkdLd1FoUnlqb1NXcTNZQ0NYWWhBeGxiUW5sM2dpbFlJUW9aVjBKcFd5RU1uQkN1cksyaElUd2htZ0Zob2lVMXBsUnpNWW9SMmVrUzJ2TktQTEdTSDFsSEVpVXRzNlFkSDkxUVVnQ0haS3JkeFdKUDBnaEdpUktXMmRJZlA1Vm9FVU1wTGJXa0hTanhRZ0pMV1VndFhXRmxQRzVXSUVXTkpEYVdrUEsvVUZDeXhwSWJaMGg4VmxaZ1JZM2tOcmFRZ3FGUDBob2dRT3ByVE1rUmpPTGxqaVEybHBEaXJ4QlVpNEJCeEtsclRNa1BqTWJvaVVPcExiV2tCSi9rRUkwU0pTMnpwRDR6Q3pjUlEya3R0YVFkTVBGQ0FrdGNTQzFkWVdVOHBsWnVFc2JTRzJ0SWVYK0lLRWxEcVMyenBENHpDemNCUTZrdHJhUUl1RVBFbHJpUUdyckRJblJ6S0lsRHFTMjFwQWliNURVSitGQW9yUjFoc1JuWmlPMHhJSFUxaHBTNGc5U2FFQUtERXFkUEhSVE5JOWQyL3dqYjV1NmFkL1IzVmQxclEwVmRiWFo5NHZybnBEc3gyK2VaZHRWNjZMK05qeXhxOHJ5K0RFM0w5dXFrM2NQeGZyNG1TOXQ4ZENQdGMzVHZwVEhieHA4V0E3SEZjckR6eGFFdXZwYjdmdk9DaVNhS1JCZC8vTmFtSWovbWRKbWJLRE91Q0pJbmZxVTJzbjhsOFhqOWswQjhmbHVTQjZxN3EvaHVlUGp2NCtpWFNmRDB2ZkRvT0hid3V1dzhNR3U2N1JEbU5iSDhydXpnWmdJbkhzamRKdkx1UDlDaXhESVk0UHJRY2JvSnJzZ0pMUUlJZEs3akp3aCtXc0VpOUFpQkZKYmEwaTVQMGh3RVFLbHJTc2t4bmF3Q0M1Q3VGUkRXS3ozVy9CQlVnWWFCaEtwclRNa3ZzUTBSb3NRU0cydEllbjlGb3lRUWpSSWxMYk9rUGdTMHhqdG9nVlNXMnRJZXI4Rkl5UzBpeFpJYlowaDhablpHQzF4SUxXMWhxUTN4VEJDUWtzY1NHMmRJVEhlZWdZdGNTQzF0WWFrR3k1R1NHaUpBNm10S3lUR3JyQVlMWEVndGJXK0ZacmViOEY0SHllMHhJSFUxaGtTbjVsTjBCSUhVbHRyU0hxL0JTT2tFQTBTcGEwekpENHptNkFsRHFTMjFwRDBmZ3RHU0dpSkE2bXRNeVErTTV1Z0pRNmt0dGFROUtZWVJraG9pUU9wclRNa1BqT2JvQ1VPcExiV2tIVER4UWdKTFhFZ3RYV0Z4TmdWbHFBbERxUzJ0cEJTdmQrQzhiN0VhSWtEcWEwekpENHptNklsRHFTMjFwRDBmZ3RHU0NFYUpFcGJaMGg4WmpaRlN4eEliYTBoNlJlVk0wSkNTeHhJYlowaDhablpGQzF4SUxXMWh1U3Y5U1ZGU3h4SWJWMGhNYmErcEU2Snd3S3RhRitHY21Td3VZN08va3Zja09zdGFaeklMNTFmY0RVY2hsK0YvUDl1T1BUWHlwYWk1UjVrbTZCekt4c2ZKUFZKTUpCU3ZVdksrY2pvcjVVdGc4czlMdFhLbGdsL2tFSXdTS1MycnBBWVc5a3l0TnlEMU5ZYWt0NGt3Z2dKTGZjZ3RYV0d4UGhuQXRGeUQxSmJhMGg2a3dnakpMVGNnOVRXR1JKZnpKdWhYV2xCYXV1YVZIQkNRcnZTZ2d6K25IMFNvNWsxRTRkZ0RFcSs5SjNEa3JFaTNPNGNwbTcxcWttdERsbG5KUlBQbE13bGJpU21waXhUN1FXTzlyR21mZUpSZXpNZjZLVUhxdnQwd2JvM2JYK3ZQVkRkcnhhc2U5UE5ZKzN2MHlTL3psWkpKdUx3OU85eW00SHAyYkYyLzJuMktRcWZXNFhwek1HT0J2bVgyU3BNLzQxMWNNakVsOWtxVEpmZGJ4UkFXOFg0WXovWkR0VHQrQzR1dnVtZWUvR0J0Z09oT3pPZmxUL2ppZ1hTOFVEbzFzeGo1YXZ3WXlvK1V1WHIzbXltOHRuRU4zMnhnUElIUWlWaUM4eDljdE1ZQ3loSElISk5mSS83L0h6bUx5aEFlWUR4enlFdlVmbW1GeFpRcy81eGg3NUU1WnZ1VjBETjg4ZCsweVZtTzZiZkZWRHovRkEvNFBxc2ZOUGhDcWg1ZnFnZmNIMVd2dWx3QmRROFA5SVB1RDduK2VqbmZTTUxoOHUxMnhrUHJyRFJmMlJoY2ZuVVJ6LzNHK2tuSUwzV3ZtbHlzUUwrV0UrVnZkYit6UGxmcUxsK2JISEJEOWRCVndRenAzeWhKdnZ4Z3BmOGlHRG1MQy9VYkQrMnVPaUhyL1puVHV4Q1RmZGppOHQrK05TZmNicFE4LzA0ejYrVEJXYzlNMllYYXNhZkNFTi9yL3QrMCs5aXBmdEp0R2o5SzZsaEEvNGtXYlQraGVsNXNUTCtKTE9wZjdianJ6QmRMMWJNbjVqSFg2LzFQM04yRjJydW55N3BlOFhNNlYyb3VYOXE0WHN2cEg2LzJEWk5kOTRSMXYvSTdZK21sTWRYL0FjPSZsdDsvZGlhZ3JhbSZndDsmbHQ7L214ZmlsZSZndDsiPjxkZWZzLz48Zz48cGF0aCBkPSJNIDUwIDMxMCBMIDUwIDI5MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSA1MCAyOTAgTCA3MCAyOTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gNzAgMjkwIEwgNzAgMjcwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDcwIDI3MCBMIDkwIDI3MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSA5MCAyNzAgTCA5MCAyNTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gOTAgMjUwIEwgMTEwIDI1MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSAxMTAgMjUwIEwgMTEwIDIzMCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSAxMTAgMjMwIEwgMTMwIDIzMCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSAxMzAgMjMwIEwgMTMwIDIxMCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSAxMzAgMjEwIEwgMTUwIDIxMCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSAxNTAgMjEwIEwgMTUwIDE5MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSAxNTAgMTkwIEwgMTcwIDE5MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSAxNzAgMTkwIEwgMTcwIDE3MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSAxNzAgMTcwIEwgMTkwIDE3MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSAxOTAgMTcwIEwgMTkwIDE1MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSAxOTAgMTUwIEwgMjEwIDE1MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSAyMTAgMTUwIEwgMjEwIDEzMCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSAyMTAgMTMwIEwgMjMwIDEzMCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSAyMzAgMTMwIEwgMjMwIDExMCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSAyMzAgMTEwIEwgMjUwIDExMCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSAyNTAgMTEwIEwgMjUwIDkwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDI1MCA5MCBMIDI3MCA5MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSAyNzAgOTAgTCAyNzAgNzAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gMjcwIDcwIEwgMjkwIDcwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDI5MCA3MCBMIDI5MCA1MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSAyOTAgNTAgTCAzMTAgNTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gMzEwIDUwIEwgMzEwIDMwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDMxMCAzMCBMIDMzMCAzMCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSAzMzAgMzAgTCAzMzAgMTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gMzMwIDEwIEwgMzUwIDEwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMC41LDMwMS41KSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSI4IiBoZWlnaHQ9IjE3IiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTZweDsgZm9udC1mYW1pbHk6IEhlbHZldGljYTsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDEwcHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPjA8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iNCIgeT0iMTciIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTZweCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSI+MDwvdGV4dD48L3N3aXRjaD48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNS41LDEuNSkiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iMTgiIGhlaWdodD0iMTciIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxNnB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMThweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0OyI+MTU8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iOSIgeT0iMTciIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTZweCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSI+MTU8L3RleHQ+PC9zd2l0Y2g+PC9nPjxwYXRoIGQ9Ik0gMzAgMTAgTCA3NzAgMTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2UtZGFzaGFycmF5PSIzIDMiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSAzNTAgMTAgTCAzNTAgMzEwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDM3MCAzMTAgTCAzNzAgMjkwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDM3MCAyOTAgTCAzOTAgMjkwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDM5MCAyOTAgTCAzOTAgMjcwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDM5MCAyNzAgTCA0MTAgMjcwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDQxMCAyNzAgTCA0MTAgMjUwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDQxMCAyNTAgTCA0MzAgMjUwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDQzMCAyNTAgTCA0MzAgMjMwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDQzMCAyMzAgTCA0NTAgMjMwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDQ1MCAyMzAgTCA0NTAgMjEwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDQ1MCAyMTAgTCA0NzAgMjEwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDQ3MCAyMTAgTCA0NzAgMTkwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDQ3MCAxOTAgTCA0OTAgMTkwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDQ5MCAxOTAgTCA0OTAgMTcwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDQ5MCAxNzAgTCA1MTAgMTcwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDUxMCAxNzAgTCA1MTAgMTUwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDUxMCAxNTAgTCA1MzAgMTUwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDUzMCAxNTAgTCA1MzAgMTMwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDUzMCAxMzAgTCA1NTAgMTMwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDU1MCAxMzAgTCA1NTAgMTEwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDU1MCAxMTAgTCA1NzAgMTEwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDU3MCAxMTAgTCA1NzAgOTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gNTcwIDkwIEwgNTkwIDkwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDU5MCA5MCBMIDU5MCA3MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSA1OTAgNzAgTCA2MTAgNzAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gNjEwIDcwIEwgNjEwIDUwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDYxMCA1MCBMIDYzMCA1MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSA2MzAgNTAgTCA2MzAgMzAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gNjMwIDMwIEwgNjUwIDMwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDY1MCAzMCBMIDY1MCAxMCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSA2NTAgMTAgTCA2NzAgMTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gNjcwIDEwIEwgNjcwIDMxMCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSAzMCAzMTAuMzMgTCA3NzAgMzEwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLWRhc2hhcnJheT0iMyAzIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gMzAgMzEwIEwgNTAgMzEwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDM1MCAzMTAgTCAzNzAgMzEwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDY5MCAzMTAgTCA2OTAgMjkwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDY5MCAyOTAgTCA3MTAgMjkwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDcxMCAyOTAgTCA3MTAgMjcwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDcxMCAyNzAgTCA3MzAgMjcwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDczMCAyNzAgTCA3MzAgMjUwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDczMCAyNTAgTCA3NTAgMjUwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDc1MCAyNTAgTCA3NTAgMjMwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDc1MCAyMzAgTCA3NzAgMjMwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDY3MCAzMTAgTCA2OTAgMzEwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMi41LDMyMS41KSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIzNCIgaGVpZ2h0PSIxNiIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDE1cHg7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiAzNHB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7Ij4wMDAwPC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjE3IiB5PSIxNiIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxNXB4IiBmb250LWZhbWlseT0iSGVsdmV0aWNhIj4wMDAwPC90ZXh0Pjwvc3dpdGNoPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0Mi41LDM0MS41KSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIzNCIgaGVpZ2h0PSIxNiIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDE1cHg7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiAzNHB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7Ij4wMDAxPC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjE3IiB5PSIxNiIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxNXB4IiBmb250LWZhbWlseT0iSGVsdmV0aWNhIj4wMDAxPC90ZXh0Pjwvc3dpdGNoPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg2Mi41LDMyMS41KSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIzNCIgaGVpZ2h0PSIxNiIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDE1cHg7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiAzNHB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7Ij4wMDEwPC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjE3IiB5PSIxNiIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxNXB4IiBmb250LWZhbWlseT0iSGVsdmV0aWNhIj4wMDEwPC90ZXh0Pjwvc3dpdGNoPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg4My41LDM0MS41KSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIzMiIgaGVpZ2h0PSIxNiIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDE1cHg7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiAzNHB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7Ij4wMDExPC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjE2IiB5PSIxNiIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxNXB4IiBmb250LWZhbWlseT0iSGVsdmV0aWNhIj4wMDExPC90ZXh0Pjwvc3dpdGNoPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg2NjIuNSwzMjEuNSkiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iMzQiIGhlaWdodD0iMTYiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxNXB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMzRweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0OyI+MDAwMDwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSIxNyIgeT0iMTYiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTVweCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSI+MDAwMDwvdGV4dD48L3N3aXRjaD48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNjgyLjUsMzQxLjUpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjM0IiBoZWlnaHQ9IjE2IiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTVweDsgZm9udC1mYW1pbHk6IEhlbHZldGljYTsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDM0cHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPjAwMDE8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iMTciIHk9IjE2IiBmaWxsPSIjMDAwMDAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjE1cHgiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EiPjAwMDE8L3RleHQ+PC9zd2l0Y2g+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDcwMi41LDMyMS41KSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIzNCIgaGVpZ2h0PSIxNiIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDE1cHg7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiAzNHB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7Ij4wMDEwPC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjE3IiB5PSIxNiIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxNXB4IiBmb250LWZhbWlseT0iSGVsdmV0aWNhIj4wMDEwPC90ZXh0Pjwvc3dpdGNoPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg3MjMuNSwzNDEuNSkiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iMzIiIGhlaWdodD0iMTYiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxNXB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMzRweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0OyI+MDAxMTwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSIxNiIgeT0iMTYiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTVweCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSI+MDAxMTwvdGV4dD48L3N3aXRjaD48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTAyLjUsMzIxLjUpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjMzIiBoZWlnaHQ9IjE2IiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTVweDsgZm9udC1mYW1pbHk6IEhlbHZldGljYTsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDM1cHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPjAxMDA8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iMTciIHk9IjE2IiBmaWxsPSIjMDAwMDAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjE1cHgiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EiPjAxMDA8L3RleHQ+PC9zd2l0Y2g+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEyMi41LDM0MS41KSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIzNCIgaGVpZ2h0PSIxNiIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDE1cHg7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiAzNHB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7Ij4wMTAxPC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjE3IiB5PSIxNiIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxNXB4IiBmb250LWZhbWlseT0iSGVsdmV0aWNhIj4wMTAxPC90ZXh0Pjwvc3dpdGNoPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNDIuNSwzMjEuNSkiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iMzMiIGhlaWdodD0iMTYiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxNXB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMzNweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0OyI+MDExMDwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSIxNyIgeT0iMTYiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTVweCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSI+MDExMDwvdGV4dD48L3N3aXRjaD48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTYzLjUsMzQxLjUpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjMxIiBoZWlnaHQ9IjE2IiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTVweDsgZm9udC1mYW1pbHk6IEhlbHZldGljYTsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDMzcHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPjAxMTE8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iMTYiIHk9IjE2IiBmaWxsPSIjMDAwMDAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjE1cHgiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EiPjAxMTE8L3RleHQ+PC9zd2l0Y2g+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE4MS41LDMyMS41KSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIzNCIgaGVpZ2h0PSIxNiIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDE1cHg7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiAzNHB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7Ij4xMDAwPC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjE3IiB5PSIxNiIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxNXB4IiBmb250LWZhbWlseT0iSGVsdmV0aWNhIj4xMDAwPC90ZXh0Pjwvc3dpdGNoPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMDEuNSwzNDEuNSkiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iMzQiIGhlaWdodD0iMTYiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxNXB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMzRweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0OyI+MTAwMTwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSIxNyIgeT0iMTYiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTVweCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSI+MTAwMTwvdGV4dD48L3N3aXRjaD48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjIxLjUsMzIxLjUpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjM0IiBoZWlnaHQ9IjE2IiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTVweDsgZm9udC1mYW1pbHk6IEhlbHZldGljYTsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDM0cHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPjEwMTA8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iMTciIHk9IjE2IiBmaWxsPSIjMDAwMDAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjE1cHgiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EiPjEwMTA8L3RleHQ+PC9zd2l0Y2g+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI0Mi41LDM0MS41KSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIzMiIgaGVpZ2h0PSIxNiIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDE1cHg7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiAzNHB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7Ij4xMDExPC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjE2IiB5PSIxNiIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxNXB4IiBmb250LWZhbWlseT0iSGVsdmV0aWNhIj4xMDExPC90ZXh0Pjwvc3dpdGNoPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNjEuNSwzMjEuNSkiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iMzMiIGhlaWdodD0iMTYiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxNXB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMzNweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0OyI+MTEwMDwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSIxNyIgeT0iMTYiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTVweCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSI+MTEwMDwvdGV4dD48L3N3aXRjaD48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjgyLjUsMzQxLjUpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjMyIiBoZWlnaHQ9IjE2IiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTVweDsgZm9udC1mYW1pbHk6IEhlbHZldGljYTsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDM0cHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPjExMDE8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iMTYiIHk9IjE2IiBmaWxsPSIjMDAwMDAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjE1cHgiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EiPjExMDE8L3RleHQ+PC9zd2l0Y2g+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDMwMi41LDMyMS41KSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIzMSIgaGVpZ2h0PSIxNiIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDE1cHg7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiAzM3B4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7Ij4xMTEwPC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjE2IiB5PSIxNiIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxNXB4IiBmb250LWZhbWlseT0iSGVsdmV0aWNhIj4xMTEwPC90ZXh0Pjwvc3dpdGNoPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzMjIuNSwzNDEuNSkiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iMzEiIGhlaWdodD0iMTYiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxNXB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMzFweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0OyI+MTExMTwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSIxNiIgeT0iMTYiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTVweCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSI+MTExMTwvdGV4dD48L3N3aXRjaD48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzQyLjUsMzIxLjUpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjM0IiBoZWlnaHQ9IjE2IiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTVweDsgZm9udC1mYW1pbHk6IEhlbHZldGljYTsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDM0cHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPjAwMDA8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iMTciIHk9IjE2IiBmaWxsPSIjMDAwMDAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjE1cHgiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EiPjAwMDA8L3RleHQ+PC9zd2l0Y2g+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDM2Mi41LDM0MS41KSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIzNCIgaGVpZ2h0PSIxNiIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDE1cHg7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiAzNHB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7Ij4wMDAxPC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjE3IiB5PSIxNiIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxNXB4IiBmb250LWZhbWlseT0iSGVsdmV0aWNhIj4wMDAxPC90ZXh0Pjwvc3dpdGNoPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzODIuNSwzMjEuNSkiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iMzQiIGhlaWdodD0iMTYiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxNXB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMzRweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0OyI+MDAxMDwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSIxNyIgeT0iMTYiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTVweCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSI+MDAxMDwvdGV4dD48L3N3aXRjaD48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDAzLjUsMzQxLjUpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjMyIiBoZWlnaHQ9IjE2IiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTVweDsgZm9udC1mYW1pbHk6IEhlbHZldGljYTsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDM0cHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPjAwMTE8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iMTYiIHk9IjE2IiBmaWxsPSIjMDAwMDAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjE1cHgiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EiPjAwMTE8L3RleHQ+PC9zd2l0Y2g+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQyMi41LDMyMS41KSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIzMyIgaGVpZ2h0PSIxNiIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDE1cHg7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiAzNXB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7Ij4wMTAwPC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjE3IiB5PSIxNiIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxNXB4IiBmb250LWZhbWlseT0iSGVsdmV0aWNhIj4wMTAwPC90ZXh0Pjwvc3dpdGNoPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0NDIuNSwzNDEuNSkiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iMzQiIGhlaWdodD0iMTYiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxNXB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMzRweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0OyI+MDEwMTwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSIxNyIgeT0iMTYiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTVweCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSI+MDEwMTwvdGV4dD48L3N3aXRjaD48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDYyLjUsMzIxLjUpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjMzIiBoZWlnaHQ9IjE2IiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTVweDsgZm9udC1mYW1pbHk6IEhlbHZldGljYTsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDMzcHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPjAxMTA8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iMTciIHk9IjE2IiBmaWxsPSIjMDAwMDAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjE1cHgiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EiPjAxMTA8L3RleHQ+PC9zd2l0Y2g+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQ4My41LDM0MS41KSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIzMSIgaGVpZ2h0PSIxNiIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDE1cHg7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiAzM3B4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7Ij4wMTExPC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjE2IiB5PSIxNiIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxNXB4IiBmb250LWZhbWlseT0iSGVsdmV0aWNhIj4wMTExPC90ZXh0Pjwvc3dpdGNoPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1MDIuNSwzMjEuNSkiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iMzQiIGhlaWdodD0iMTYiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxNXB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMzRweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0OyI+MTAwMDwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSIxNyIgeT0iMTYiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTVweCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSI+MTAwMDwvdGV4dD48L3N3aXRjaD48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTIyLjUsMzQxLjUpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjM0IiBoZWlnaHQ9IjE2IiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTVweDsgZm9udC1mYW1pbHk6IEhlbHZldGljYTsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDM0cHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPjEwMDE8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iMTciIHk9IjE2IiBmaWxsPSIjMDAwMDAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjE1cHgiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EiPjEwMDE8L3RleHQ+PC9zd2l0Y2g+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDU0Mi41LDMyMS41KSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIzNCIgaGVpZ2h0PSIxNiIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDE1cHg7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiAzNHB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7Ij4xMDEwPC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjE3IiB5PSIxNiIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxNXB4IiBmb250LWZhbWlseT0iSGVsdmV0aWNhIj4xMDEwPC90ZXh0Pjwvc3dpdGNoPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1NjMuNSwzNDEuNSkiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iMzIiIGhlaWdodD0iMTYiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxNXB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMzRweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0OyI+MTAxMTwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSIxNiIgeT0iMTYiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTVweCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSI+MTAxMTwvdGV4dD48L3N3aXRjaD48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTgyLjUsMzIxLjUpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjMzIiBoZWlnaHQ9IjE2IiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTVweDsgZm9udC1mYW1pbHk6IEhlbHZldGljYTsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDMzcHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPjExMDA8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iMTciIHk9IjE2IiBmaWxsPSIjMDAwMDAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjE1cHgiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EiPjExMDA8L3RleHQ+PC9zd2l0Y2g+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDYwMy41LDM0MS41KSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIzMiIgaGVpZ2h0PSIxNiIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDE1cHg7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiAzNHB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7Ij4xMTAxPC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjE2IiB5PSIxNiIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxNXB4IiBmb250LWZhbWlseT0iSGVsdmV0aWNhIj4xMTAxPC90ZXh0Pjwvc3dpdGNoPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg2MjMuNSwzMjEuNSkiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iMzEiIGhlaWdodD0iMTYiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxNXB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMzNweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0OyI+MTExMDwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSIxNiIgeT0iMTYiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTVweCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSI+MTExMDwvdGV4dD48L3N3aXRjaD48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNjQzLjUsMzQxLjUpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjMxIiBoZWlnaHQ9IjE2IiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTVweDsgZm9udC1mYW1pbHk6IEhlbHZldGljYTsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDMxcHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPjExMTE8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iMTYiIHk9IjE2IiBmaWxsPSIjMDAwMDAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjE1cHgiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EiPjExMTE8L3RleHQ+PC9zd2l0Y2g+PC9nPjwvZz48L3N2Zz4=" class="fig"></p>
<p>演算結果が桁あふれして、無限にビットがあるときとは異なる結果になることを「<span class="index" id="index71">オーバーフロー</span>する」といいます。例えば8ビット整数では1+3はオーバーフローしませんが、200+100や20-30はオーバーフローして、それぞれ44と246になります。数学的にいうと2<sup>8</sup> = 256で割った余りと同じになります。</p>
<div class="note">
<p>コラム: オーバーフローが引き起こした面白いバグ</p>
<p>数値のオーバーフローは時に思わぬバグを引き起こすことがあります。ここではゲーム「Civilization」のファーストバージョンにあったバグを紹介します。</p>
<p>Civilizationは文明間で戦う戦略シミュレーションゲームで、チンギスハンやエリザベス女王のようなプレイヤーを選んで、世界制覇か宇宙開発競争での勝利を目指すというゲームです。</p>
<p>初代Civilizationにあったバグは、非暴力主義のガンジーが突然核攻撃してくるというものでした。原因は文明が民主主義を採用すると攻撃性が2下がるというロジックでした。初代Civilizationではガンジーの攻撃性は全プレイヤー中で最小の1なのですが、ゲームが進んでインド文明が民主主義を採用すると、攻撃性がマイナス2されてオーバーフローで255になり、ガンジーがゲーム中で突如、極度に攻撃的なプレイヤーになってしまっていました。そして、そのころには大抵、科学技術の面で各文明が核兵器を持っているレベルまでゲームが進行しているので、結果的にガンジーがあるターンで突然核戦争を仕掛けてくるという行動が引き起こされていました。この「核ガンジー」はむしろ面白いということで、それ以降のCivilizationシリーズでは定番化したのですが、初代ではこれは意図しないバグだったのです。</p>
</div>
<h2 id="符号あり整数"><a href="https://www.sigbus.info/compilerbook#%E7%AC%A6%E5%8F%B7%E3%81%82%E3%82%8A%E6%95%B4%E6%95%B0" style="text-decoration: none; color: inherit;">符号あり整数</a></h2>
<p>符号あり整数（signed integer）では、<span class="index" id="index72">最上位ビット</span>（most significant bit）を特別に扱う「2の補数表現」（two's complement）というものが使われます。2の補数表現におけるn桁の整数では、n桁目以外は符号なしの場合と同じ数を表していますが、最上位のn桁目だけは、2<sup>n-1</sup>ではなく-2<sup>n-1</sup>を表すというルールになっています。</p>
<p>具体的に4桁の2進数で考えてみると、それぞれの桁と、その桁が表している数は、次の表の通りになります。</p>
<table class="notranslate">
<tbody>
<tr class="odd">
<td></td>
<td style="text-align: center;">4</td>
<td style="text-align: center;">3</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">1</td>
</tr>
<tr class="even">
<td>符号なしの場合</td>
<td style="text-align: center;">8</td>
<td style="text-align: center;">4</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">1</td>
</tr>
<tr class="odd">
<td>符号ありの場合</td>
<td style="text-align: center;">-8</td>
<td style="text-align: center;">4</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">1</td>
</tr>
</tbody>
</table>
<p>符号なしと同様、あるビットパターンが表している符号ありの値は、1になっているビットの位置を見ればわかります。たとえば0b1110を4桁の符号あり整数と見なすと、2桁目、3桁目、4桁目、すなわち2の桁、4の桁、-8の桁が1になっているので、0b1110は2 + 4 + (-8) = -2を表していることになります。いくつかの例の図を以下に示します。</p>
<p><img src="data:image/svg+xml;base64,PCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIHdpZHRoPSIzOTdweCIgaGVpZ2h0PSIxNzlweCIgdmlld0JveD0iLTAuNSAtMC41IDM5NyAxNzkiIGNvbnRlbnQ9IiZsdDtteGZpbGUgbW9kaWZpZWQ9JnF1b3Q7MjAxOS0wNS0yOVQwMTo0Njo1Ni4xMjJaJnF1b3Q7IGhvc3Q9JnF1b3Q7d3d3LmRyYXcuaW8mcXVvdDsgYWdlbnQ9JnF1b3Q7TW96aWxsYS81LjAgKE1hY2ludG9zaDsgSW50ZWwgTWFjIE9TIFggMTBfMTRfNSkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzc0LjAuMzcyOS4xNjkgU2FmYXJpLzUzNy4zNiZxdW90OyB2ZXJzaW9uPSZxdW90OzEwLjcuMCZxdW90OyBldGFnPSZxdW90OzV5MTdlemtPTXdjbUstZ2k3U0NzJnF1b3Q7IHR5cGU9JnF1b3Q7Z29vZ2xlJnF1b3Q7Jmd0OyZsdDtkaWFncmFtIGlkPSZxdW90O3htR09ZRlVCX2JvUlZZSzd4dHJYJnF1b3Q7Jmd0OzdadmZjNkl3RU1mL0dsODcrUVhTeDliclhWOXVwak45dU9kVW9tUU9pUk5qdGZmWFg1QWc0dEtlekJHdEJWNkVKU3p3L1d3eTJRMk82R1N4L2FINU12bXBZcEdPQ0lxM0kvcHRSQWpHaU5tZjNQTG1MSWlnd2pMWE1uYTJ5dkFzLzRpeW9iT3VaU3hXdFlaR3FkVElaZDA0VlZrbXBxWm00MXFyVGIzWlRLWDF1eTc1WEFERDg1U24wUHBMeGlZcHJGR0FLdnVqa1BQRTdOL1luVm53c3JFenJCSWVxODJCaVQ2TTZFUXJaWXE5eFhZaTBseTlVcGZpdXUvdm5OMC9tQmFaT2VVQ1Vsend5dE8xZXpmM1hPYXRmRm1SeFhlNVp2WW9VNWsxM2lkbWtkb2piSGRuS2pPT0QyYjJPT2FyUk1UdVpIN3d4STBST3R0WkNNcWJySXhXdjhWRXBVcnZia0RSYnJObmlsdUxHSWhmdlEzZWEyU2pTNmlGTVByTk50bFVGRW9JeVFHQTBxWkZ5bzE4cmJ2bkxoam1lM2Y3T3p3cGFXOU1rSXRjRXRIaUVoZTNMQ3E1bGo1V2FxMm53bDEyS1B1L1BJWHN5SlBoZWk0TThHUjNEbDY4TXUyd05pT21BK0lXaU1QT0VCOTc4b2lZRFloYklHYWRJVDcyNUJGeE1DQnVnWmgwaHZqWWswZkU0WUM0QldMVUdlSmpUeDRSandmRXB5UEduVTIzZ0NlUGlLTUJjUXZFblUyM2dDZVBpRzhIeEMwUWR6YmRBcDQ4SWk0ckRSOHh0cm43TXQ5VnM5bVR6ZmduUmJFaEIzUy9TYVFSejBzK3pjOXZORi9XQXlDVzJyYVVLdHVGaDg0cDNLK0tnRUEzaUlZUkNzcU5rVnZXRURLelZDNGZuVGYzcEVJYnNXMGJBKzlLR3pvQkRvSUVodzFSUXREN0FWSFQveU94TVJBN0FtcmJsek4xRmV0OXduV3ptVXpUSXhOUDVUeFhlbXJGRURtZFhDbzU1ZW1kTzdHUWNaemZwaEdiVnVzczN2Vk85T1U1a1A4YzJENzdXRVE3bXpRQ1R6N0hvaE1xT0w3R29qRU44WDVqTmtXQlhjQkwySThERVBhUnI2Zy9vWHJpU1Y0N3RsY2JaVFR3SXk4c1JUWElTM3pKQ3lzWDdFb0c5NnVQYkZoUndQMlIvckpSRHpOOTlKS1BvZjNSbnpGeUV4d1JhSmpOZUp2TXdFUWN2U0JjVHV4N1NtQ016MGdBNXNtMkR5RFU3ejR3UG1NZklEM1BZcHUwOXBZOWtTR0wvUndjVHNoaWZjM25EMEkrQ0lQd1hPblMrSXd6bTRidkNYbzBvRjlXK21HZHYwV3hoM1ZXZUFhZVBCWjdob1grVm93N1crZ0hubnd5SGxiNjJ6RHVyR2dMUFBsa1BDejF0eW5NZDdiVUR6ejVaRHlzOWJkaDNObGFQL0Rray9HdzJOK0djV2R6THVESjV4ZlNKNVJKQnNaN01wM051WUFubjR4aGRRWXc5bFFWd1BSd0cyUHFhYjBEcU5tUW1qSlBxU21GUlJlbzc1ZXRDbHhXK2t0K0hvQXdqZHgyaXhueEl5LzQyS0pwRmNQWElpcUZSWmNlclY5ZlZ2b1RhaUhYUFdhRGJLVkpYbThEQnl4RDlHak1QcWYwOXJENlMyY3hlYW4rR1VzZi9nST0mbHQ7L2RpYWdyYW0mZ3Q7Jmx0Oy9teGZpbGUmZ3Q7Ij48ZGVmcy8+PGc+PHBhdGggZD0iTSAxNTQgMTc2IEwgMTU0IDAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLWRhc2hhcnJheT0iMS4xIDQuNCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDEzMiAxNzYgTCAxMzIgMCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuMSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2UtZGFzaGFycmF5PSIxLjEgNC40IiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gMTEwIDE3NiBMIDExMCAwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4xIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS1kYXNoYXJyYXk9IjEuMSA0LjQiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSA4OCAxNzYgTCA4OCAwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4xIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS1kYXNoYXJyYXk9IjEuMSA0LjQiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSA2NiAxNzYgTCA2NiAwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4xIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS1kYXNoYXJyYXk9IjEuMSA0LjQiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSA0NCAxNzYgTCA0NCAwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4xIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS1kYXNoYXJyYXk9IjEuMSA0LjQiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSAyMiAxNzYgTCAyMiAwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4xIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS1kYXNoYXJyYXk9IjEuMSA0LjQiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSAwIDE3NiBMIDAgMCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuMSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2UtZGFzaGFycmF5PSIxLjEgNC40IiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gNzcgLTU1IEwgOTkgLTU1IEwgOTkgMTE0LjUyIEwgODggMTIxIEwgNzcgMTE0LjUyIFoiIGZpbGw9IiNmZmZmZmYiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCwzMylzY2FsZSgxLC0xKXRyYW5zbGF0ZSgwLC0zMylyb3RhdGUoLTI3MCw4OCwzMykiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoODMuNSwyNC41KXNjYWxlKDEuMSkiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iOCIgaGVpZ2h0PSIxNCIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDE0cHg7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiA4cHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPjg8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iNCIgeT0iMTQiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTRweCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSI+ODwvdGV4dD48L3N3aXRjaD48L2c+PHBhdGggZD0iTSAxNzYgMTc2IEwgMTc2IDAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDMzIDUuNSBMIDU1IDUuNSBMIDU1IDg3LjAyIEwgNDQgOTMuNSBMIDMzIDg3LjAyIFoiIGZpbGw9IiNmZmZmZmYiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgdHJhbnNmb3JtPSJyb3RhdGUoMjcwLDQ0LDQ5LjUpIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gMTMyIDM4LjUgTCAxNTQgMzguNSBMIDE1NCA1NC4wMiBMIDE0MyA2MC41IEwgMTMyIDU0LjAyIFoiIGZpbGw9IiNmZmZmZmYiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgdHJhbnNmb3JtPSJyb3RhdGUoMjcwLDE0Myw0OS41KSIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzOS41LDQxLjUpc2NhbGUoMS4xKSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSI4IiBoZWlnaHQ9IjE0IiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTRweDsgZm9udC1mYW1pbHk6IEhlbHZldGljYTsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDhweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0OyI+NDwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSI0IiB5PSIxNCIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxNHB4IiBmb250LWZhbWlseT0iSGVsdmV0aWNhIj40PC90ZXh0Pjwvc3dpdGNoPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMzguNSw0MS41KXNjYWxlKDEuMSkiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iOCIgaGVpZ2h0PSIxNCIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDE0cHg7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiA4cHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPjE8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iNCIgeT0iMTQiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTRweCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSI+MTwvdGV4dD48L3N3aXRjaD48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzM3LjUsMjQuNSlzY2FsZSgxLjEpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjQ0IiBoZWlnaHQ9IjE0IiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTRweDsgZm9udC1mYW1pbHk6IEhlbHZldGljYTsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDQ0cHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPjBiMTExMTwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSIyMiIgeT0iMTQiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTRweCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSI+MGIxMTExPC90ZXh0Pjwvc3dpdGNoPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzMzYuNSw3OS41KXNjYWxlKDEuMSkiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iNDYiIGhlaWdodD0iMTQiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxNHB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogNDZweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0OyI+MGIwMTEwPC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjIzIiB5PSIxNCIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxNHB4IiBmb250LWZhbWlseT0iSGVsdmV0aWNhIj4wYjAxMTA8L3RleHQ+PC9zd2l0Y2g+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDMzNi41LDEzNC41KXNjYWxlKDEuMSkiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iNDYiIGhlaWdodD0iMTQiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxNHB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogNDhweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0OyI+MGIxMDAxPC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjIzIiB5PSIxNCIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxNHB4IiBmb250LWZhbWlseT0iSGVsdmV0aWNhIj4wYjEwMDE8L3RleHQ+PC9zd2l0Y2g+PC9nPjxwYXRoIGQ9Ik0gNzcgNTUgTCA5OSA1NSBMIDk5IDIyNC41MiBMIDg4IDIzMSBMIDc3IDIyNC41MiBaIiBmaWxsPSIjZmZmZmZmIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4xIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAsMTQzKXNjYWxlKDEsLTEpdHJhbnNsYXRlKDAsLTE0Mylyb3RhdGUoLTI3MCw4OCwxNDMpIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDgzLjUsMTM0LjUpc2NhbGUoMS4xKSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSI4IiBoZWlnaHQ9IjE0IiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTRweDsgZm9udC1mYW1pbHk6IEhlbHZldGljYTsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDhweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0OyI+ODwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSI0IiB5PSIxNCIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxNHB4IiBmb250LWZhbWlseT0iSGVsdmV0aWNhIj44PC90ZXh0Pjwvc3dpdGNoPjwvZz48cGF0aCBkPSJNIDAgMTQ4LjUgTCAyMiAxNDguNSBMIDIyIDE2NC4zMyBMIDExIDE3MC41IEwgMCAxNjQuMzMgWiIgZmlsbD0iI2ZmZmZmZiIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuMSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiB0cmFuc2Zvcm09InJvdGF0ZSgyNzAsMTEsMTU5LjUpIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDYuNSwxNTEuNSlzY2FsZSgxLjEpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjgiIGhlaWdodD0iMTQiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxNHB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogOHB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7Ij4xPC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjQiIHk9IjE0IiBmaWxsPSIjMDAwMDAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjE0cHgiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EiPjE8L3RleHQ+PC9zd2l0Y2g+PC9nPjxwYXRoIGQ9Ik0gMzMwIDE3NiBMIDMzMCAwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4xIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS1kYXNoYXJyYXk9IjEuMSA0LjQiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSAzMDggMTc2IEwgMzA4IDAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLWRhc2hhcnJheT0iMS4xIDQuNCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDI4NiAxNzYgTCAyODYgMCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuMSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2UtZGFzaGFycmF5PSIxLjEgNC40IiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gMjY0IDE3NiBMIDI2NCAwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4xIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS1kYXNoYXJyYXk9IjEuMSA0LjQiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSAyNDIgMTc2IEwgMjQyIDAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLWRhc2hhcnJheT0iMS4xIDQuNCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDIyMCAxNzYgTCAyMjAgMCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuMSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2UtZGFzaGFycmF5PSIxLjEgNC40IiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gMTk4IDE3NiBMIDE5OCAwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4xIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS1kYXNoYXJyYXk9IjEuMSA0LjQiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSA5OSAyNy41IEwgMTIxIDI3LjUgTCAxMjEgNjUuNjMgTCAxMTAgNzEuNSBMIDk5IDY1LjYzIFoiIGZpbGw9IiNmZmZmZmYiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgdHJhbnNmb3JtPSJyb3RhdGUoMjcwLDExMCw0OS41KSIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMDUuNSw0MS41KXNjYWxlKDEuMSkiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iOCIgaGVpZ2h0PSIxNCIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDE0cHg7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiA4cHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPjI8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iNCIgeT0iMTQiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTRweCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSI+MjwvdGV4dD48L3N3aXRjaD48L2c+PHBhdGggZD0iTSAyMDkgNDQgTCAyMzEgNDQgTCAyMzEgMTI1LjgzIEwgMjIwIDEzMiBMIDIwOSAxMjUuODMgWiIgZmlsbD0iI2ZmZmZmZiIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuMSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiB0cmFuc2Zvcm09InJvdGF0ZSgyNzAsMjIwLDg4KSIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMTUuNSw3OS41KXNjYWxlKDEuMSkiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iOCIgaGVpZ2h0PSIxNCIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDE0cHg7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiA4cHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPjQ8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iNCIgeT0iMTQiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTRweCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSI+NDwvdGV4dD48L3N3aXRjaD48L2c+PHBhdGggZD0iTSAyNzUgNjYgTCAyOTcgNjYgTCAyOTcgMTA0LjEzIEwgMjg2IDExMCBMIDI3NSAxMDQuMTMgWiIgZmlsbD0iI2ZmZmZmZiIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuMSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiB0cmFuc2Zvcm09InJvdGF0ZSgyNzAsMjg2LDg4KSIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyODEuNSw3OS41KXNjYWxlKDEuMSkiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iOCIgaGVpZ2h0PSIxNCIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDE0cHg7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiA4cHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPjI8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iNCIgeT0iMTQiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTRweCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSI+MjwvdGV4dD48L3N3aXRjaD48L2c+PC9nPjwvc3ZnPg==" class="fig"></p>
<p>このルールにおいては、最上位ビットがオンになっていない限り、符号あり整数が表している数は、それを符号なし整数として解釈した数と同じです。4ビット整数の場合、0〜7は、符号ありでもなしでも同じビットパターンになります。一方、4ビット目がオンの場合、そのビットパターンは-8〜-1（0b1000〜0b1111）のいずれかの数を表していることになります。最上位ビットがオンの場合には負数になるので、最上位ビットを「<span class="index" id="index73">符号ビット</span>」（sign bit）ということもあります。</p>
<p>符号あり整数に1を足していくと、次のグラフで示すように値が循環します。これは4ビット整数の例です。</p>
<p><img src="data:image/svg+xml;base64,PCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIHdpZHRoPSI3NzNweCIgaGVpZ2h0PSI0MDFweCIgdmlld0JveD0iLTAuNSAtMC41IDc3MyA0MDEiIGNvbnRlbnQ9IiZsdDtteGZpbGUgbW9kaWZpZWQ9JnF1b3Q7MjAxOS0wNy0yMlQwOToyNjoyMi43MzNaJnF1b3Q7IGhvc3Q9JnF1b3Q7d3d3LmRyYXcuaW8mcXVvdDsgYWdlbnQ9JnF1b3Q7TW96aWxsYS81LjAgKE1hY2ludG9zaDsgSW50ZWwgTWFjIE9TIFggMTBfMTRfNSkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzc1LjAuMzc3MC4xNDIgU2FmYXJpLzUzNy4zNiZxdW90OyB2ZXJzaW9uPSZxdW90OzExLjAuMSZxdW90OyBldGFnPSZxdW90OzFTNFBDSmFWYWxrY2s4aFF1TDZWJnF1b3Q7IHR5cGU9JnF1b3Q7Z29vZ2xlJnF1b3Q7Jmd0OyZsdDtkaWFncmFtIGlkPSZxdW90O2t1ZlhhOXZ4Y210b3JmY0I4c284JnF1b3Q7Jmd0OzVaMWJjK0k0RUlWL0RZK2JzdVFiUEU0eWUzbVpxcTNLdys0OHVyQURyalU0Wlp6Yi92bzFnOFZGN1V5TERpMmM3WGtackdBRDU1TnRuWU5hVE1LNzFldnZUZmE0L0ZiblJUWFJRZjQ2Q2I5T3RGWXFWTjEvMjVhM1hVdWF4cnVHUlZQbS9aTU9EZmZsdjBYZkdQU3RUMlZlYkU2ZTJOWjExWmFQcDQzemVyMHU1dTFKVzlZMDljdnAweDdxNnZSVkg3TkZBUnJ1NTFrRlcvOHE4M2E1YTUzR3dhSDlqNkpjTE0wcnE2RC95eW96VCs0Yk5zc3NyMStPbXNKZkorRmRVOWZ0N3RIcTlhNm90dUlaWFhiNy9mYk9YL2R2ckNuV3Jjc09lcmZEYzFZOTlaK3RmMS90bS9td3hUci9zdFdzMjFyWDY2N3hkdG11cW01TGRROGY2blhiODFGSnQ3M2J1OGlCZm9jM3BQWWZzK3NmUmIwcTJ1YXRlOHJMUVVpajQvSklROVBXRkZYV2xzK25oODk2bm92OTRmYXY4R2RkZGkrc2cwUGYyKzNTOXp3ZEdSTG1HSnY2cVprWC9XN0h5cUZIQ3F3anRWbXpLRnB3cE83QjBRYy9OUDBnTTB3cEZFL0oxdGFaVXVpUFVpU05FcW90bVZJNFphTVVTNmNFdEhXbUZQdWpsRWlqaEdwTHA1U3dVVXJGVTdLMWRhYVUrcU0wbFVZSjFaWk9LV0tqTkJOUHlkYldtZExNSHlYalFPVmdRc1dsWTdLdDF3VXhLZkdZcUw1VzI5NkxFNU1XaGdrWGw0Nkp6OWdxYWZrRExxNHpKdUMrR0RGSkN5QndjY21ZTkorMVZaZE1JT0xQaUFtSTY0eko5bCtjbUdBRUVRQk9iZkhhbnNMWnRFMzlUM0ZYVjNWemdQZFFWcFhWbEZYbFl0MXR6anRHUmRkKysxdzBiVG5QcWkvOUgxWmxubTlmNXZabFdiYkYvV00yMzc3bVM1TTlkbTFOL2JUT2krMDdEZDQ5YjdjSExGN1A3Ukw5RG9rZDdabUI3MUdYQ1FlNmpIMDdPKzRkSnpCK3BqeU1GVks1eXV2VW8vTFNvZ0w4Z2tLK05NV01seVpwV1lHMnN3SWdyak1tY0NTKzNNMmNrWUl4VVlNM2JkdFpUa3pTc2dKY1hEb212dVROVUJHTWlacThoYmFkNWNRa0xTdkF4YVZqNGt2ZXhFMVd3TVYxeG1UYldVNU0wbVlyNE9MU01mRWxiK0ttSytEaU9tTUN2b2tSazdUNUNyaTRaRXdSbjcwVk4yRUJGOWNaayszQU9ERkpTeUZ3Y2VtWStPeXR5UW9GWTZMYTI5QjJZSnlZcEtVUXVMaDBUSHoyTnRUaU1WSHRiUVFtOVROaWtwWkM0T0xTTWZIWjIxQmFDb0dMNjR3SkZGOHdZcEtXUXVEaTBqRXhWb2xKU3lGd2NaMHhBUWZHaUVsYUNvR0xTOGJFV0lFVVNrc2hjSEdkTVlHcC9ZeVlwS1VRdUxoMFRIejIxb3hHQldPaTJ0c0lUTzFueENRdGhjREZwV1BpczdlUkZvK0phbTlqTUxXZkVaTzBGQUlYbDQ2Sno5NUcwbElJWEZ4blRLQUNneEdUdEJRQ0Y1ZU9pWEVWRkdrcEJDNnVNeWJnd0JneFNVc2hjSEhKbUJpcmtDSnBLUVF1cmpNbTI0RnhZcEtXUXVEaWtqRXhGczZZRDM4ZXBqemJMSDlVZkttZk15dGV5L2J2L20vYng5Kzd4OEZOM0c5OTNYN2V3R3k4OVJ0ajV3eSsvZFhCVFhqMEw2WkJuNXB2L2p4OGV4VmZPdE80SU9lZFhuMVRNakwyZGlVaWVmSWd2dWppQldscllWZGl2UENRWGh2SGVDVVdGNDFjcklReEJuVkJqSmhnTkJJRTVqSXc2bXJzdzhJSUg2ckdudHIzS1RPZDhxalhSQU85NWhMVjJERU1QRHJ0bFJ6eFZXQ3JIM3RVZjJEOWgwQUo2dnBLWDdQdnczaWlVMTlTMzQrdTJmZEpxY01WZk5MSitEa2QyUzEvWmhIVTFLOFdnVnRpVERKaW1HVDhNdjBFcHgzVDZpdXh4OVZYVFBmNFZHZWQ2UytqT2V2QWJTdWVYZXEwWXh4b0p6Q2tDSlNrZ2JZQzZ4NTVIRzBrTURUbzFKYzAyckI5amg0WWJaaUpxeGRYSDJZQjNWQlBVTi9Yd1RYNy9vREZWNUpHMnRxK1lRejFmVGIxb2NkWG9nSVdiZnVjL2UzYWgvclE0eXRSQ2N2KzdEZnFKd1ByUExLcER6MitFcFd3Z0hUUmE5K0hIbCtKU2xoQ08xMzAydmVoemI2NXVSRWsvcnN1ellQNHh0T0xOVnZSOUlvRHpuVFE2Z3E2OE1UMmhjZW4yVXFIcks2a20yNnNyOW4zQjYydXBMNXZEL2Q5bXEwVVdsMVJOOTNJSHUxN0ZWKzYwNDF0OWIwT2VhUTczZGoyV2o1SCs2bDBwNXZZUXg2dmZWKzYwMDFzcytXMTd3dDN1c2sxQTA3emhhV2NhWmIycElzUFRMTzBqOFQ0QzYzU3l1NXhjVjB4SmNvakp1aWQvOStZY0hIcG1Qaks3cWZTNXBiajRqcGpBbE5lR0RGSks3dkh4YVZqNGl1b21Vb3J1OGZGZGNZVWU4UWtyZXdlRjVlT2lhL3NmaXF0N0I0WDF4bFQ2aEdUdExKN1hGd3lKc2FmSUpoS0s3dkh4WFhHWkRzd1Jrd204SkNEQ1JXWGpvblAzczZrcFJDNHVLNllVdHVCY1dMU3dqRGg0dEl4OGRuYm1iUVVBaGZYR1JOWUhZUVJrN1FVQWhlWGpvblAzczZrcFJDNHVNNlliQWZHaVVsYUNvR0xTOGZFWjI5bjBsSUlYRnhuVE1DQk1XS1Nsa0xnNHBJeE1mNEV3VXhhQ29HTDY0ekpkbUNNbVBZei9PVndRdFdsYytMenQvdGFBTUdjeUN1RjJCNk1sWk1XeGdsWGw4Nkp6K0dxUUZvU2dhdExYZ0tFbFJPTUltUXR0aGZaNnlCRUE2dnZjRTJWVklIMDVmWWl1eklxOGpoVFZRVURGUXFpU3FOQ3V5aHpmM2Z4SXY5QWlZS291c0RRWG9Cb2Y2bjNJdjk1Vm45ZVpadE5PWC8vTmoyZEhGYjhPcXp5OVgxeVdQK0x2czVlTUxhRjlpSlF5UjhUNy9mZ0hHVDhIazhGNStVRzEyVSt0c1hKd1crL3B1UWZGUVdqRHNZeG5ybWk4ak1QUHM0OEdodHoreElkVVpmMmcwTWR2dTlFOW9PWVQ4RThIaHR6ZTkxME92UElQaEpmY3E4VXpFWmtlYmtVbkdFK3Zad2FXR2RCbEpkTFFXZjM2ZVVVVERKa2ViblVIbE40OVhKcVlLa0ZVVjR1QVZiYXA1ZFQ1MDJDdU9xNFhvM3RmcCtDV25XcWx3UG5JS2VYVStmTnFMZ3U4N0dONjFQN0o0eklYZzZPT2ppOW5MZk01dVBqZWpNZUhROXprTFJReC9Wd3FNUHA1YnhsTmhkZ0hvNk5PZmcxUVRKemtBUmN6TXQxbTAxZHQ4ZFA3MFl0eTI5MVhteWY4Ujg9Jmx0Oy9kaWFncmFtJmd0OyZsdDsvbXhmaWxlJmd0OyI+PGRlZnMvPjxnPjxwYXRoIGQ9Ik0gNTAgMTkwIEwgNTAgMTcwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDUwIDE3MCBMIDcwIDE3MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSA3MCAxNzAgTCA3MCAxNTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gNzAgMTUwIEwgOTAgMTUwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDkwIDE1MCBMIDkwIDEzMCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSA5MCAxMzAgTCAxMTAgMTMwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDExMCAxMzAgTCAxMTAgMTEwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDExMCAxMTAgTCAxMzAgMTEwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDEzMCAxMTAgTCAxMzAgOTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gMTMwIDkwIEwgMTUwIDkwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDE1MCA5MCBMIDE1MCA3MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSAxNTAgNzAgTCAxNzAgNzAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gMTcwIDcwIEwgMTcwIDUwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDE3MCA1MCBMIDE5MCA1MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTAuNSwxODEuNSkiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iOCIgaGVpZ2h0PSIxNyIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDE2cHg7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiAxMHB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7d2hpdGUtc3BhY2U6bm9ybWFsOyI+MDwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSI0IiB5PSIxNyIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxNnB4IiBmb250LWZhbWlseT0iSGVsdmV0aWNhIj4wPC90ZXh0Pjwvc3dpdGNoPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMC41LDQxLjUpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjgiIGhlaWdodD0iMTciIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxNnB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMTBweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0O3doaXRlLXNwYWNlOm5vcm1hbDsiPjc8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iNCIgeT0iMTciIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTZweCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSI+NzwvdGV4dD48L3N3aXRjaD48L2c+PHBhdGggZD0iTSAxOTAgNTAgTCAxOTAgMzUwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDIxMCAzNTAgTCAyMTAgMzMwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDIxMCAzMzAgTCAyMzAgMzMwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDIzMCAzMzAgTCAyMzAgMzEwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDIzMCAzMTAgTCAyNTAgMzEwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDI1MCAzMTAgTCAyNTAgMjkwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDI1MCAyOTAgTCAyNzAgMjkwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDI3MCAyOTAgTCAyNzAgMjcwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDI3MCAyNzAgTCAyOTAgMjcwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDI5MCAyNzAgTCAyOTAgMjUwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDI5MCAyNTAgTCAzMTAgMjUwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDMxMCAyNTAgTCAzMTAgMjMwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDMxMCAyMzAgTCAzMzAgMjMwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDMzMCAyMzAgTCAzMzAgMjEwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDMzMCAyMTAgTCAzNTAgMjEwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDM1MCAyMTAgTCAzNTAgMTkwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDM1MCAxOTAgTCAzNzAgMTkwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDM3MCAxOTAgTCAzNzAgMTcwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDM3MCAxNzAgTCAzOTAgMTcwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDM5MCAxNzAgTCAzOTAgMTUwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDM5MCAxNTAgTCA0MTAgMTUwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDQxMCAxNTAgTCA0MTAgMTMwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDQxMCAxMzAgTCA0MzAgMTMwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDQzMCAxMzAgTCA0MzAgMTEwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDQzMCAxMTAgTCA0NTAgMTEwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDQ1MCAxMTAgTCA0NTAgOTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gNDUwIDkwIEwgNDcwIDkwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDQ3MCA5MCBMIDQ3MCA3MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSA0NzAgNzAgTCA0OTAgNzAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gNDkwIDcwIEwgNDkwIDUwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDQ5MCA1MCBMIDUxMCA1MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSA1MTAgNTAgTCA1MTAgMzUwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDMwIDE5MC4zMyBMIDc3MSAxOTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2UtZGFzaGFycmF5PSIzIDMiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSAzMCAxOTAgTCA1MCAxOTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gMTkwIDM1MCBMIDIxMCAzNTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gNTEwIDM1MCBMIDUzMCAzNTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIzLjUsMjAxLjUpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjM0IiBoZWlnaHQ9IjE2IiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTVweDsgZm9udC1mYW1pbHk6IEhlbHZldGljYTsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDM0cHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDt3aGl0ZS1zcGFjZTpub3JtYWw7Ij4wMDAwPC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjE3IiB5PSIxNiIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxNXB4IiBmb250LWZhbWlseT0iSGVsdmV0aWNhIj4wMDAwPC90ZXh0Pjwvc3dpdGNoPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0My41LDIyMS41KSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIzNCIgaGVpZ2h0PSIxNiIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDE1cHg7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiAzNHB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7d2hpdGUtc3BhY2U6bm9ybWFsOyI+MDAwMTwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSIxNyIgeT0iMTYiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTVweCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSI+MDAwMTwvdGV4dD48L3N3aXRjaD48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNjMuNSwyMDEuNSkiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iMzQiIGhlaWdodD0iMTYiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxNXB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMzRweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0O3doaXRlLXNwYWNlOm5vcm1hbDsiPjAwMTA8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iMTciIHk9IjE2IiBmaWxsPSIjMDAwMDAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjE1cHgiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EiPjAwMTA8L3RleHQ+PC9zd2l0Y2g+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDg0LjUsMjIxLjUpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjMyIiBoZWlnaHQ9IjE2IiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTVweDsgZm9udC1mYW1pbHk6IEhlbHZldGljYTsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDM0cHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDt3aGl0ZS1zcGFjZTpub3JtYWw7Ij4wMDExPC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjE2IiB5PSIxNiIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxNXB4IiBmb250LWZhbWlseT0iSGVsdmV0aWNhIj4wMDExPC90ZXh0Pjwvc3dpdGNoPjwvZz48cGF0aCBkPSJNIDMwIDUwIEwgNzcxIDUwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLWRhc2hhcnJheT0iMyAzIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDcuNSwzNDEuNSkiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iMTQiIGhlaWdodD0iMTciIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxNnB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMTZweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0O3doaXRlLXNwYWNlOm5vcm1hbDsiPi04PC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjciIHk9IjE3IiBmaWxsPSIjMDAwMDAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjE2cHgiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EiPi04PC90ZXh0Pjwvc3dpdGNoPjwvZz48cGF0aCBkPSJNIDMwIDM1MCBMIDc3MSAzNTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2UtZGFzaGFycmF5PSIzIDMiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTAyLjUsMS41KSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIzNCIgaGVpZ2h0PSIxNiIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDE1cHg7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiAzNHB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7d2hpdGUtc3BhY2U6bm9ybWFsOyI+MDEwMDwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSIxNyIgeT0iMTYiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTVweCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSI+MDEwMDwvdGV4dD48L3N3aXRjaD48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTIyLjUsMjEuNSkiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iMzMiIGhlaWdodD0iMTYiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxNXB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMzVweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0O3doaXRlLXNwYWNlOm5vcm1hbDsiPjAxMDE8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iMTciIHk9IjE2IiBmaWxsPSIjMDAwMDAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjE1cHgiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EiPjAxMDE8L3RleHQ+PC9zd2l0Y2g+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE0My41LDEuNSkiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iMzIiIGhlaWdodD0iMTYiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxNXB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMzRweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0O3doaXRlLXNwYWNlOm5vcm1hbDsiPjAxMTA8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iMTYiIHk9IjE2IiBmaWxsPSIjMDAwMDAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjE1cHgiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EiPjAxMTA8L3RleHQ+PC9zd2l0Y2g+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE2NC41LDIxLjUpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjMyIiBoZWlnaHQ9IjE2IiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTVweDsgZm9udC1mYW1pbHk6IEhlbHZldGljYTsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDMycHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDt3aGl0ZS1zcGFjZTpub3JtYWw7Ij4wMTExPC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjE2IiB5PSIxNiIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxNXB4IiBmb250LWZhbWlseT0iSGVsdmV0aWNhIj4wMTExPC90ZXh0Pjwvc3dpdGNoPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxODMuNSwzNjEuNSkiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iMzQiIGhlaWdodD0iMTYiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxNXB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMzRweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0O3doaXRlLXNwYWNlOm5vcm1hbDsiPjEwMDA8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iMTciIHk9IjE2IiBmaWxsPSIjMDAwMDAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjE1cHgiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EiPjEwMDA8L3RleHQ+PC9zd2l0Y2g+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIwMy41LDM4MS41KSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIzNCIgaGVpZ2h0PSIxNiIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDE1cHg7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiAzNHB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7d2hpdGUtc3BhY2U6bm9ybWFsOyI+MTAwMTwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSIxNyIgeT0iMTYiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTVweCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSI+MTAwMTwvdGV4dD48L3N3aXRjaD48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjIzLjUsMzYxLjUpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjM0IiBoZWlnaHQ9IjE2IiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTVweDsgZm9udC1mYW1pbHk6IEhlbHZldGljYTsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDM0cHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDt3aGl0ZS1zcGFjZTpub3JtYWw7Ij4xMDEwPC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjE3IiB5PSIxNiIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxNXB4IiBmb250LWZhbWlseT0iSGVsdmV0aWNhIj4xMDEwPC90ZXh0Pjwvc3dpdGNoPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNDQuNSwzODEuNSkiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iMzIiIGhlaWdodD0iMTYiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxNXB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMzRweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0O3doaXRlLXNwYWNlOm5vcm1hbDsiPjEwMTE8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iMTYiIHk9IjE2IiBmaWxsPSIjMDAwMDAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjE1cHgiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EiPjEwMTE8L3RleHQ+PC9zd2l0Y2g+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI3NC41LDM2MS41KSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIxMiIgaGVpZ2h0PSIxNiIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDE1cHg7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiAxNHB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7d2hpdGUtc3BhY2U6bm9ybWFsOyI+Li4uPC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjYiIHk9IjE2IiBmaWxsPSIjMDAwMDAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjE1cHgiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EiPi4uLjwvdGV4dD48L3N3aXRjaD48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDIyLjUsMS41KSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIzNCIgaGVpZ2h0PSIxNiIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDE1cHg7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiAzNHB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7d2hpdGUtc3BhY2U6bm9ybWFsOyI+MDEwMDwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSIxNyIgeT0iMTYiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTVweCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSI+MDEwMDwvdGV4dD48L3N3aXRjaD48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDQyLjUsMjEuNSkiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iMzMiIGhlaWdodD0iMTYiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxNXB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMzVweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0O3doaXRlLXNwYWNlOm5vcm1hbDsiPjAxMDE8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iMTciIHk9IjE2IiBmaWxsPSIjMDAwMDAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjE1cHgiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EiPjAxMDE8L3RleHQ+PC9zd2l0Y2g+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQ2My41LDEuNSkiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iMzIiIGhlaWdodD0iMTYiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxNXB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMzRweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0O3doaXRlLXNwYWNlOm5vcm1hbDsiPjAxMTA8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iMTYiIHk9IjE2IiBmaWxsPSIjMDAwMDAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjE1cHgiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EiPjAxMTA8L3RleHQ+PC9zd2l0Y2g+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQ4NC41LDIxLjUpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjMyIiBoZWlnaHQ9IjE2IiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTVweDsgZm9udC1mYW1pbHk6IEhlbHZldGljYTsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDMycHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDt3aGl0ZS1zcGFjZTpub3JtYWw7Ij4wMTExPC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjE2IiB5PSIxNiIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxNXB4IiBmb250LWZhbWlseT0iSGVsdmV0aWNhIj4wMTExPC90ZXh0Pjwvc3dpdGNoPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0MTQuNSwyMS41KSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIxMiIgaGVpZ2h0PSIxNiIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDE1cHg7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiAxNHB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7d2hpdGUtc3BhY2U6bm9ybWFsOyI+Li4uPC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjYiIHk9IjE2IiBmaWxsPSIjMDAwMDAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjE1cHgiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EiPi4uLjwvdGV4dD48L3N3aXRjaD48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTAzLjUsMzYxLjUpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjM0IiBoZWlnaHQ9IjE2IiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTVweDsgZm9udC1mYW1pbHk6IEhlbHZldGljYTsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDM0cHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDt3aGl0ZS1zcGFjZTpub3JtYWw7Ij4xMDAwPC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjE3IiB5PSIxNiIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxNXB4IiBmb250LWZhbWlseT0iSGVsdmV0aWNhIj4xMDAwPC90ZXh0Pjwvc3dpdGNoPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1MjMuNSwzODEuNSkiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iMzQiIGhlaWdodD0iMTYiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxNXB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMzRweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0O3doaXRlLXNwYWNlOm5vcm1hbDsiPjEwMDE8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iMTciIHk9IjE2IiBmaWxsPSIjMDAwMDAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjE1cHgiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EiPjEwMDE8L3RleHQ+PC9zd2l0Y2g+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDU0My41LDM2MS41KSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIzNCIgaGVpZ2h0PSIxNiIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDE1cHg7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiAzNHB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7d2hpdGUtc3BhY2U6bm9ybWFsOyI+MTAxMDwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSIxNyIgeT0iMTYiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTVweCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSI+MTAxMDwvdGV4dD48L3N3aXRjaD48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTY0LjUsMzgxLjUpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjMyIiBoZWlnaHQ9IjE2IiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTVweDsgZm9udC1mYW1pbHk6IEhlbHZldGljYTsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDM0cHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDt3aGl0ZS1zcGFjZTpub3JtYWw7Ij4xMDExPC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjE2IiB5PSIxNiIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxNXB4IiBmb250LWZhbWlseT0iSGVsdmV0aWNhIj4xMDExPC90ZXh0Pjwvc3dpdGNoPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1OTQuNSwzNjEuNSkiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iMTIiIGhlaWdodD0iMTYiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxNXB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMTRweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0O3doaXRlLXNwYWNlOm5vcm1hbDsiPi4uLjwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSI2IiB5PSIxNiIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxNXB4IiBmb250LWZhbWlseT0iSGVsdmV0aWNhIj4uLi48L3RleHQ+PC9zd2l0Y2g+PC9nPjxwYXRoIGQ9Ik0gNTMxIDM1MCBMIDUzMSAzMzAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gNTMxIDMzMCBMIDU1MSAzMzAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gNTUxIDMzMCBMIDU1MSAzMTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gNTUxIDMxMCBMIDU3MSAzMTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gNTcxIDMxMCBMIDU3MSAyOTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gNTcxIDI5MCBMIDU5MSAyOTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gNTkxIDI5MCBMIDU5MSAyNzAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gNTkxIDI3MCBMIDYxMSAyNzAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gNjExIDI3MCBMIDYxMSAyNTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gNjExIDI1MCBMIDYzMSAyNTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gNjMxIDI1MCBMIDYzMSAyMzAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gNjMxIDIzMCBMIDY1MSAyMzAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gNjUxIDIzMCBMIDY1MSAyMTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gNjUxIDIxMCBMIDY3MSAyMTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gNjcxIDIxMCBMIDY3MSAxOTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gNjcxIDE5MCBMIDY5MSAxOTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gNjkxIDE5MCBMIDY5MSAxNzAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gNjkxIDE3MCBMIDcxMSAxNzAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gNzExIDE3MCBMIDcxMSAxNTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gNzExIDE1MCBMIDczMSAxNTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gNzMxIDE1MCBMIDczMSAxMzAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gNzMxIDEzMCBMIDc1MSAxMzAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gNzUxIDEzMCBMIDc1MSAxMTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gNzUxIDExMCBMIDc3MSAxMTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDM0Mi41LDI0MS41KSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIzNCIgaGVpZ2h0PSIxNiIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDE1cHg7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiAzNHB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7d2hpdGUtc3BhY2U6bm9ybWFsOyI+MDAwMDwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSIxNyIgeT0iMTYiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTVweCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSI+MDAwMDwvdGV4dD48L3N3aXRjaD48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzYyLjUsMjYxLjUpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjM0IiBoZWlnaHQ9IjE2IiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTVweDsgZm9udC1mYW1pbHk6IEhlbHZldGljYTsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDM0cHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDt3aGl0ZS1zcGFjZTpub3JtYWw7Ij4wMDAxPC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjE3IiB5PSIxNiIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxNXB4IiBmb250LWZhbWlseT0iSGVsdmV0aWNhIj4wMDAxPC90ZXh0Pjwvc3dpdGNoPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzMjQuNSwxMzEuNSkiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iMzAiIGhlaWdodD0iMTYiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxNXB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMzJweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0O3doaXRlLXNwYWNlOm5vcm1hbDsiPjExMTE8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iMTUiIHk9IjE2IiBmaWxsPSIjMDAwMDAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjE1cHgiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EiPjExMTE8L3RleHQ+PC9zd2l0Y2g+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDMwMy41LDExMS41KSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIzMiIgaGVpZ2h0PSIxNiIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDE1cHg7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiAzMnB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7d2hpdGUtc3BhY2U6bm9ybWFsOyI+MTExMDwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSIxNiIgeT0iMTYiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTVweCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSI+MTExMDwvdGV4dD48L3N3aXRjaD48L2c+PHBhdGggZD0iTSAzMjAgMTMwIEwgMzIwIDIyMy42MyIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSAzMjAgMjI4Ljg4IEwgMzE2LjUgMjIxLjg4IEwgMzIwIDIyMy42MyBMIDMyMy41IDIyMS44OCBaIiBmaWxsPSIjMDAwMDAwIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDM0MCAxNTAgTCAzNDAgMjAzLjYzIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDM0MCAyMDguODggTCAzMzYuNSAyMDEuODggTCAzNDAgMjAzLjYzIEwgMzQzLjUgMjAxLjg4IFoiIGZpbGw9IiMwMDAwMDAiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gMzYwIDI0MCBMIDM2MCAxOTYuMzciIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gMzYwIDE5MS4xMiBMIDM2My41IDE5OC4xMiBMIDM2MCAxOTYuMzcgTCAzNTYuNSAxOTguMTIgWiIgZmlsbD0iIzAwMDAwMCIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSAzODAgMjYwIEwgMzgwIDE3Ni4zNyIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSAzODAgMTcxLjEyIEwgMzgzLjUgMTc4LjEyIEwgMzgwIDE3Ni4zNyBMIDM3Ni41IDE3OC4xMiBaIiBmaWxsPSIjMDAwMDAwIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg2NjIuNSwyNDEuNSkiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iMzQiIGhlaWdodD0iMTYiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxNXB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMzRweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0O3doaXRlLXNwYWNlOm5vcm1hbDsiPjAwMDA8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iMTciIHk9IjE2IiBmaWxsPSIjMDAwMDAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjE1cHgiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EiPjAwMDA8L3RleHQ+PC9zd2l0Y2g+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDY4Mi41LDI2MS41KSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIzNCIgaGVpZ2h0PSIxNiIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDE1cHg7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiAzNHB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7d2hpdGUtc3BhY2U6bm9ybWFsOyI+MDAwMTwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSIxNyIgeT0iMTYiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTVweCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSI+MDAwMTwvdGV4dD48L3N3aXRjaD48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNjQ0LjUsMTMxLjUpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjMwIiBoZWlnaHQ9IjE2IiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTVweDsgZm9udC1mYW1pbHk6IEhlbHZldGljYTsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDMycHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDt3aGl0ZS1zcGFjZTpub3JtYWw7Ij4xMTExPC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjE1IiB5PSIxNiIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxNXB4IiBmb250LWZhbWlseT0iSGVsdmV0aWNhIj4xMTExPC90ZXh0Pjwvc3dpdGNoPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg2MjMuNSwxMTEuNSkiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iMzIiIGhlaWdodD0iMTYiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxNXB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMzJweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0O3doaXRlLXNwYWNlOm5vcm1hbDsiPjExMTA8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iMTYiIHk9IjE2IiBmaWxsPSIjMDAwMDAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjE1cHgiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EiPjExMTA8L3RleHQ+PC9zd2l0Y2g+PC9nPjxwYXRoIGQ9Ik0gNjQwIDEzMCBMIDY0MCAyMjMuNjMiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gNjQwIDIyOC44OCBMIDYzNi41IDIyMS44OCBMIDY0MCAyMjMuNjMgTCA2NDMuNSAyMjEuODggWiIgZmlsbD0iIzAwMDAwMCIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSA2NjAgMTUwIEwgNjYwIDIwMy42MyIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSA2NjAgMjA4Ljg4IEwgNjU2LjUgMjAxLjg4IEwgNjYwIDIwMy42MyBMIDY2My41IDIwMS44OCBaIiBmaWxsPSIjMDAwMDAwIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDY4MCAyNDAgTCA2ODAgMTk2LjM3IiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDY4MCAxOTEuMTIgTCA2ODMuNSAxOTguMTIgTCA2ODAgMTk2LjM3IEwgNjc2LjUgMTk4LjEyIFoiIGZpbGw9IiMwMDAwMDAiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gNzAwIDI2MCBMIDcwMCAxNzYuMzciIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gNzAwIDE3MS4xMiBMIDcwMy41IDE3OC4xMiBMIDcwMCAxNzYuMzcgTCA2OTYuNSAxNzguMTIgWiIgZmlsbD0iIzAwMDAwMCIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PC9nPjwvc3ZnPg==" class="fig"></p>
<p>上記のルールを理解してみると、プログラミングをしていると一般的に見かける、符号あり整数の様々な一見奇妙な振る舞いの説明がつくようになります。</p>
<p>符号あり整数に1を足していくと、オーバーフローしたところで大きな数から極端に小さな数になってしまうのは、読者の皆さんも経験したことがあるでしょう。これは2の補数表現を考えてみると、具体的に何が起きているのか理解できます。たとえば8ビットの符号あり整数では、最大の数は0b0111_1111すなわち127です。これに1を足すと0b1000_0000になり、2の補数表現においては-128ということになります。これは絶対値が最大の負の数です。</p>
<p>単項<code class="notranslate">-</code>のテストで<code class="notranslate">main</code>から例えば-3をリターンした場合、プログラム全体の終了コードは253になったはずです。これは、<code class="notranslate">main</code>がRAXに-3すなわち0b1111_​1111_​1111_​1111_​1111_​1111_​1111_​1101をセットしたのに対して、それを受け取る側ではRAXの下位8ビットだけが意味のある値と考えていて、それを符号なし整数として扱うので、0b1111_1101すなわち253が返り値であるかのような結果になったというわけです。</p>
<p>このように、あるビットパターンがどういう数を表しているかというのは、読む側の想定で変わってきます。例えば紙の本の文字というのが結局のところインクのシミであって、それを文章だと思って読む人間がいるからこそ意味が生じるように、コンピュータのメモリ上にあるものもオンとオフのビットの列に過ぎず、それ自体に本来の意味というものがあるわけではありません。ある数値を受け渡しするためには、値をセットする側とそれを読む側で解釈の方法が一致している必要があります。</p>
<p>なお、2の補数表現では、表現可能な負の数は、表現可能な正の数より1つ多くなっています。例えば8ビット整数では、-128は表現可能ですが、+128は表現可能な範囲からぎりぎり外れています。このように正負の範囲がアンバランスになるのは、仕組み上、仕方がありません。nビットで表せるパターンは2<sup>n</sup>通り、つまり常に偶数通りありますが、0のために1つのビットパターンを割り当てると、奇数個のパターンが残るので、正の数と負の数のどちらかが多くなってしまうのです。</p>
<h2 id="符号拡張"><a href="https://www.sigbus.info/compilerbook#%E7%AC%A6%E5%8F%B7%E6%8B%A1%E5%BC%B5" style="text-decoration: none; color: inherit;">符号拡張</a></h2>
<p>コンピュータでは、数値のビットの幅を広げるという操作がよく出てきます。たとえば8ビットの数値をメモリから読んで64ビットレジスタにセットする場合、8ビットの値を64ビットに伸ばす必要があります。</p>
<p>符号なし整数を扱っている場合、値を拡張するのは簡単で、単に上位ビットを0で埋めるだけで構いません。たとえば4ビットの値0b1110 = 14を8ビットに拡張すると0b0000_1110 = 14になります。</p>
<p>一方、符号あり整数を扱っている場合、上位ビットを0で埋めてしまうと数が変わってしまいます。例えば4ビットの値0b1110 = -2を8ビットに拡張したつもりで、0b0000_1110としてしまうと、14になってしまいます。これはそもそも符号ビットが立っていないので負の数ですらありません。</p>
<p>符号あり整数を拡張する場合は、符号ビットが1ならば新たな上位ビットをすべて1で、符号ビットが0ならば新たな上位ビットをすべて0で埋める必要があります。この操作は「<span class="index" id="index74">符号拡張</span>」（sign extension）と呼ばれます。たとえば4ビットの値0b1110 = -2を8ビットに符号拡張すると、0b1111_1110 = -2となり、うまくビット幅が伸ばせていることがわかります。</p>
<p>符号なし整数では、数値の左側に無限に0が続いていて、拡張するときにはそれを取り出していると考えることができます。</p>
<p><img src="data:image/svg+xml;base64,PCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIHdpZHRoPSI0MjBweCIgaGVpZ2h0PSI2OHB4IiB2aWV3Qm94PSItMC41IC0wLjUgNDIwIDY4IiBjb250ZW50PSImbHQ7bXhmaWxlIG1vZGlmaWVkPSZxdW90OzIwMTktMDUtMjlUMDE6NDc6MzkuMjA1WiZxdW90OyBob3N0PSZxdW90O3d3dy5kcmF3LmlvJnF1b3Q7IGFnZW50PSZxdW90O01vemlsbGEvNS4wIChNYWNpbnRvc2g7IEludGVsIE1hYyBPUyBYIDEwXzE0XzUpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS83NC4wLjM3MjkuMTY5IFNhZmFyaS81MzcuMzYmcXVvdDsgdmVyc2lvbj0mcXVvdDsxMC43LjAmcXVvdDsgZXRhZz0mcXVvdDs0SGt4ZFQ0MzRHYWU2aDRYZzN3eiZxdW90OyB0eXBlPSZxdW90O2dvb2dsZSZxdW90OyZndDsmbHQ7ZGlhZ3JhbSBpZD0mcXVvdDs2WWd5TkF2djR3eDQ4OUptVWRhMiZxdW90OyZndDs3WnBSazVvd0VNYy9UUjQ3UTRpaVBJcjFlaS90aXc5OVRpRUhtUXVFaG5ocVAzMFRTRVFHOWVyVU16ZE9uSnN4L0RkWllIOGJidDBCb0dXNSt5WndYWHpuR1dFZ0RMSWRRRjlCR0VJWVROU1hWdlpHQ2FLNFUzSkJNNlAxd3ByK0lYYWlVVGMwSTgxZ291U2NTVm9QeFpSWEZVbmxRTU5DOE8xdzJndG53N1BXT0NjallaMWlObFovMGt3V25UcWZCcjMrVEdoZXlNTWRHMHVKN1dRak5BWE8rUFpJUWl1QWxvSnoyWTNLM1pJd0hUMGJsMjdkMHhucjRjSUVxZVMvTEFpN0JXK1liWWIzMXNpOXZWdEpkc3BYVXNpU0tRR3FZU01GZnlWTHpyaG9wNkNnL1NqTEMyWE02aFd2bEljRU01cFg2akJWbDBTVW5yd1JJYWtLNXNJWVNwcGwrbHpKdHFDU3JHdWM2aE52VmU0b1RmQk5sUkY5dGExN1hza25YRkttTTJmSk40SXFqMkh3ZzJ5TjBlUUtuS2xqYzJ2cWJHUjNOanp3RUhTVnJvU1hSSXE5bW1JV1RHYW9XMkl5RlVXeEFiZnR1VnVXeFJGeXEyR1RhZm5CZFE5RERReVAwMnlRWjNPUlRleVF6V1RFSnZCc2VqWlQ2SkROMU8rYmkyeVFRemFSM3pjWDJVd2RzcG41ZlhPUmpjdGFZTzczelVVMkxtdUIyTytiUzJ3aWw3V0EvY1Y0QkFlRUVkTXNtaHBYYXB6ck1WaUZZSjZBeFpNMUtyOEQrN1U4RGJmUGhETERUZEd1aExmaEdycDhIa0w0d0EvRUFhbWFDS3JDUTRUMlQ2dmNPTHdGUUpjUFRUanVQSGlBVndKRVRwK3M0L2FFQjNndFFLYzc4SkY3R0hjQ09IRzZBOGVORGcvd1dvQXVteUh3a2JzaDl3TG9zbU1DeHkwVC8rdmlSc1dwVTY2UDNHNjVWMjNqOU1rNjdzbDRnTmNDZExrRHJROFA4RDhBdW16UWhPTUd6WWhmVStCYUQ5T05ZUHRFNFBTVnlEUFJQbUxjQi80ZDRsY2hvWUtra3ZLcVRRK2hvL01oLzhWbThBU0NEMk13N3JFTXk1TWpHTkh2alg3bnBBM01sNmFOekVKTmdHRzk2NDIyWUFuQUNvRTVCUE1sV00zQWZBSVdFS3hpRUtzL2Exb2sycFJFSUY3WXlSTnJpb1pLV3h5ZHE0dzYrWmY0NUxYU1lFc1BNdStac0RlaTNaN0l1bHRrbUgxMTZwQmhhSnhoTUw1TmhxbkQvdFdrMW5iMGhoZGEvUVU9Jmx0Oy9kaWFncmFtJmd0OyZsdDsvbXhmaWxlJmd0OyI+PGRlZnMvPjxnPjxyZWN0IHg9IjI0MiIgeT0iMCIgd2lkdGg9IjIyIiBoZWlnaHQ9IjIyIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4xIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI0Ny41LDAuNSlzY2FsZSgxLjEpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjEwIiBoZWlnaHQ9IjE4IiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTdweDsgZm9udC1mYW1pbHk6ICZxdW90O0NvdXJpZXIgTmV3JnF1b3Q7OyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMTJweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0OyI+MTwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSI1IiB5PSIxOCIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxN3B4IiBmb250LWZhbWlseT0iQ291cmllciBOZXciPjE8L3RleHQ+PC9zd2l0Y2g+PC9nPjxyZWN0IHg9IjI2NCIgeT0iMCIgd2lkdGg9IjIyIiBoZWlnaHQ9IjIyIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4xIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI2OS41LDAuNSlzY2FsZSgxLjEpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjEwIiBoZWlnaHQ9IjE4IiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTdweDsgZm9udC1mYW1pbHk6ICZxdW90O0NvdXJpZXIgTmV3JnF1b3Q7OyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMTJweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0OyI+MTwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSI1IiB5PSIxOCIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxN3B4IiBmb250LWZhbWlseT0iQ291cmllciBOZXciPjE8L3RleHQ+PC9zd2l0Y2g+PC9nPjxyZWN0IHg9IjI4NiIgeT0iMCIgd2lkdGg9IjIyIiBoZWlnaHQ9IjIyIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4xIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI5MS41LDAuNSlzY2FsZSgxLjEpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjEwIiBoZWlnaHQ9IjE4IiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTdweDsgZm9udC1mYW1pbHk6ICZxdW90O0NvdXJpZXIgTmV3JnF1b3Q7OyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMTJweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0OyI+MDwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSI1IiB5PSIxOCIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxN3B4IiBmb250LWZhbWlseT0iQ291cmllciBOZXciPjA8L3RleHQ+PC9zd2l0Y2g+PC9nPjxyZWN0IHg9IjMwOCIgeT0iMCIgd2lkdGg9IjIyIiBoZWlnaHQ9IjIyIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4xIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDMxMy41LDAuNSlzY2FsZSgxLjEpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjEwIiBoZWlnaHQ9IjE4IiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTdweDsgZm9udC1mYW1pbHk6ICZxdW90O0NvdXJpZXIgTmV3JnF1b3Q7OyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMTJweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0OyI+MTwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSI1IiB5PSIxOCIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxN3B4IiBmb250LWZhbWlseT0iQ291cmllciBOZXciPjE8L3RleHQ+PC9zd2l0Y2g+PC9nPjxyZWN0IHg9IjMzMCIgeT0iMCIgd2lkdGg9IjIyIiBoZWlnaHQ9IjIyIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4xIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDMzNS41LDAuNSlzY2FsZSgxLjEpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjEwIiBoZWlnaHQ9IjE4IiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTdweDsgZm9udC1mYW1pbHk6ICZxdW90O0NvdXJpZXIgTmV3JnF1b3Q7OyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMTJweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0OyI+MDwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSI1IiB5PSIxOCIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxN3B4IiBmb250LWZhbWlseT0iQ291cmllciBOZXciPjA8L3RleHQ+PC9zd2l0Y2g+PC9nPjxyZWN0IHg9IjM1MiIgeT0iMCIgd2lkdGg9IjIyIiBoZWlnaHQ9IjIyIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4xIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDM1Ny41LDAuNSlzY2FsZSgxLjEpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjEwIiBoZWlnaHQ9IjE4IiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTdweDsgZm9udC1mYW1pbHk6ICZxdW90O0NvdXJpZXIgTmV3JnF1b3Q7OyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMTJweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0OyI+MTwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSI1IiB5PSIxOCIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxN3B4IiBmb250LWZhbWlseT0iQ291cmllciBOZXciPjE8L3RleHQ+PC9zd2l0Y2g+PC9nPjxyZWN0IHg9IjM3NCIgeT0iMCIgd2lkdGg9IjIyIiBoZWlnaHQ9IjIyIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4xIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDM3OS41LDAuNSlzY2FsZSgxLjEpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjEwIiBoZWlnaHQ9IjE4IiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTdweDsgZm9udC1mYW1pbHk6ICZxdW90O0NvdXJpZXIgTmV3JnF1b3Q7OyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMTJweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0OyI+MDwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSI1IiB5PSIxOCIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxN3B4IiBmb250LWZhbWlseT0iQ291cmllciBOZXciPjA8L3RleHQ+PC9zd2l0Y2g+PC9nPjxyZWN0IHg9IjM5NiIgeT0iMCIgd2lkdGg9IjIyIiBoZWlnaHQ9IjIyIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4xIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQwMS41LDAuNSlzY2FsZSgxLjEpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjEwIiBoZWlnaHQ9IjE4IiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTdweDsgZm9udC1mYW1pbHk6ICZxdW90O0NvdXJpZXIgTmV3JnF1b3Q7OyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMTJweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0OyI+MTwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSI1IiB5PSIxOCIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxN3B4IiBmb250LWZhbWlseT0iQ291cmllciBOZXciPjE8L3RleHQ+PC9zd2l0Y2g+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIzLjUsMC41KXNjYWxlKDEuMSkiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iMTciIGhlaWdodD0iMTgiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxN3B4OyBmb250LWZhbWlseTogJnF1b3Q7Q291cmllciBOZXcmcXVvdDs7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiAxOHB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7Ij48c3Bhbj7ii688L3NwYW4+PC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjkiIHk9IjE4IiBmaWxsPSIjMDAwMDAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjE3cHgiIGZvbnQtZmFtaWx5PSJDb3VyaWVyIE5ldyI+W05vdCBzdXBwb3J0ZWQgYnkgdmlld2VyXTwvdGV4dD48L3N3aXRjaD48L2c+PHJlY3QgeD0iNDQiIHk9IjAiIHdpZHRoPSIyMiIgaGVpZ2h0PSIyMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuMSIgc3Ryb2tlLWRhc2hhcnJheT0iMy4zMDAwMDAwMDAwMDAwMDAzIDMuMzAwMDAwMDAwMDAwMDAwMyIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0OS41LDAuNSlzY2FsZSgxLjEpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjEwIiBoZWlnaHQ9IjE4IiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTdweDsgZm9udC1mYW1pbHk6ICZxdW90O0NvdXJpZXIgTmV3JnF1b3Q7OyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMTJweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0OyI+MDwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSI1IiB5PSIxOCIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxN3B4IiBmb250LWZhbWlseT0iQ291cmllciBOZXciPjA8L3RleHQ+PC9zd2l0Y2g+PC9nPjxyZWN0IHg9IjY2IiB5PSIwIiB3aWR0aD0iMjIiIGhlaWdodD0iMjIiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjEiIHN0cm9rZS1kYXNoYXJyYXk9IjMuMzAwMDAwMDAwMDAwMDAwMyAzLjMwMDAwMDAwMDAwMDAwMDMiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNzEuNSwwLjUpc2NhbGUoMS4xKSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIxMCIgaGVpZ2h0PSIxOCIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDE3cHg7IGZvbnQtZmFtaWx5OiAmcXVvdDtDb3VyaWVyIE5ldyZxdW90OzsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDEycHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPjA8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iNSIgeT0iMTgiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTdweCIgZm9udC1mYW1pbHk9IkNvdXJpZXIgTmV3Ij4wPC90ZXh0Pjwvc3dpdGNoPjwvZz48cmVjdCB4PSIxNTQiIHk9IjAiIHdpZHRoPSIyMiIgaGVpZ2h0PSIyMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuMSIgc3Ryb2tlLWRhc2hhcnJheT0iMy4zMDAwMDAwMDAwMDAwMDAzIDMuMzAwMDAwMDAwMDAwMDAwMyIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNTkuNSwwLjUpc2NhbGUoMS4xKSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIxMCIgaGVpZ2h0PSIxOCIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDE3cHg7IGZvbnQtZmFtaWx5OiAmcXVvdDtDb3VyaWVyIE5ldyZxdW90OzsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDEycHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPjA8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iNSIgeT0iMTgiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTdweCIgZm9udC1mYW1pbHk9IkNvdXJpZXIgTmV3Ij4wPC90ZXh0Pjwvc3dpdGNoPjwvZz48cmVjdCB4PSIxNzYiIHk9IjAiIHdpZHRoPSIyMiIgaGVpZ2h0PSIyMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuMSIgc3Ryb2tlLWRhc2hhcnJheT0iMy4zMDAwMDAwMDAwMDAwMDAzIDMuMzAwMDAwMDAwMDAwMDAwMyIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxODEuNSwwLjUpc2NhbGUoMS4xKSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIxMCIgaGVpZ2h0PSIxOCIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDE3cHg7IGZvbnQtZmFtaWx5OiAmcXVvdDtDb3VyaWVyIE5ldyZxdW90OzsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDEycHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPjA8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iNSIgeT0iMTgiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTdweCIgZm9udC1mYW1pbHk9IkNvdXJpZXIgTmV3Ij4wPC90ZXh0Pjwvc3dpdGNoPjwvZz48cmVjdCB4PSIxOTgiIHk9IjAiIHdpZHRoPSIyMiIgaGVpZ2h0PSIyMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuMSIgc3Ryb2tlLWRhc2hhcnJheT0iMy4zMDAwMDAwMDAwMDAwMDAzIDMuMzAwMDAwMDAwMDAwMDAwMyIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMDMuNSwwLjUpc2NhbGUoMS4xKSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIxMCIgaGVpZ2h0PSIxOCIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDE3cHg7IGZvbnQtZmFtaWx5OiAmcXVvdDtDb3VyaWVyIE5ldyZxdW90OzsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDEycHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPjA8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iNSIgeT0iMTgiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTdweCIgZm9udC1mYW1pbHk9IkNvdXJpZXIgTmV3Ij4wPC90ZXh0Pjwvc3dpdGNoPjwvZz48cmVjdCB4PSIyMjAiIHk9IjAiIHdpZHRoPSIyMiIgaGVpZ2h0PSIyMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuMSIgc3Ryb2tlLWRhc2hhcnJheT0iMy4zMDAwMDAwMDAwMDAwMDAzIDMuMzAwMDAwMDAwMDAwMDAwMyIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMjUuNSwwLjUpc2NhbGUoMS4xKSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIxMCIgaGVpZ2h0PSIxOCIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDE3cHg7IGZvbnQtZmFtaWx5OiAmcXVvdDtDb3VyaWVyIE5ldyZxdW90OzsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDEycHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPjA8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iNSIgeT0iMTgiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTdweCIgZm9udC1mYW1pbHk9IkNvdXJpZXIgTmV3Ij4wPC90ZXh0Pjwvc3dpdGNoPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxLjUsMC41KXNjYWxlKDEuMSkiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iMTciIGhlaWdodD0iMTgiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxN3B4OyBmb250LWZhbWlseTogJnF1b3Q7Q291cmllciBOZXcmcXVvdDs7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiAxOHB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7Ij48c3Bhbj7ii688L3NwYW4+PC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjkiIHk9IjE4IiBmaWxsPSIjMDAwMDAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjE3cHgiIGZvbnQtZmFtaWx5PSJDb3VyaWVyIE5ldyI+W05vdCBzdXBwb3J0ZWQgYnkgdmlld2VyXTwvdGV4dD48L3N3aXRjaD48L2c+PHJlY3QgeD0iODgiIHk9IjAiIHdpZHRoPSIyMiIgaGVpZ2h0PSIyMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuMSIgc3Ryb2tlLWRhc2hhcnJheT0iMy4zMDAwMDAwMDAwMDAwMDAzIDMuMzAwMDAwMDAwMDAwMDAwMyIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg5My41LDAuNSlzY2FsZSgxLjEpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjEwIiBoZWlnaHQ9IjE4IiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTdweDsgZm9udC1mYW1pbHk6ICZxdW90O0NvdXJpZXIgTmV3JnF1b3Q7OyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMTJweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0OyI+MDwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSI1IiB5PSIxOCIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxN3B4IiBmb250LWZhbWlseT0iQ291cmllciBOZXciPjA8L3RleHQ+PC9zd2l0Y2g+PC9nPjxyZWN0IHg9IjExMCIgeT0iMCIgd2lkdGg9IjIyIiBoZWlnaHQ9IjIyIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4xIiBzdHJva2UtZGFzaGFycmF5PSIzLjMwMDAwMDAwMDAwMDAwMDMgMy4zMDAwMDAwMDAwMDAwMDAzIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDExNS41LDAuNSlzY2FsZSgxLjEpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjEwIiBoZWlnaHQ9IjE4IiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTdweDsgZm9udC1mYW1pbHk6ICZxdW90O0NvdXJpZXIgTmV3JnF1b3Q7OyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMTJweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0OyI+MDwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSI1IiB5PSIxOCIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxN3B4IiBmb250LWZhbWlseT0iQ291cmllciBOZXciPjA8L3RleHQ+PC9zd2l0Y2g+PC9nPjxyZWN0IHg9IjEzMiIgeT0iMCIgd2lkdGg9IjIyIiBoZWlnaHQ9IjIyIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4xIiBzdHJva2UtZGFzaGFycmF5PSIzLjMwMDAwMDAwMDAwMDAwMDMgMy4zMDAwMDAwMDAwMDAwMDAzIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEzNy41LDAuNSlzY2FsZSgxLjEpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjEwIiBoZWlnaHQ9IjE4IiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTdweDsgZm9udC1mYW1pbHk6ICZxdW90O0NvdXJpZXIgTmV3JnF1b3Q7OyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMTJweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0OyI+MDwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSI1IiB5PSIxOCIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxN3B4IiBmb250LWZhbWlseT0iQ291cmllciBOZXciPjA8L3RleHQ+PC9zd2l0Y2g+PC9nPjxwYXRoIGQ9Ik0gMTMyIC04OCBMIDEyNi41IC04OCBRIDEyMSAtODggMTIxIC03NyBMIDEyMSAyMiBRIDEyMSAzMyAxMTUuNSAzMyBMIDExMi43NSAzMyBRIDExMCAzMyAxMTUuNSAzMyBMIDExOC4yNSAzMyBRIDEyMSAzMyAxMjEgNDQgTCAxMjEgMTQzIFEgMTIxIDE1NCAxMjYuNSAxNTQgTCAxMzIgMTU0IiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4xIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHRyYW5zZm9ybT0icm90YXRlKDI3MCwxMjEsMzMpIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDU4LjUsNDQuNSlzY2FsZSgxLjEpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjExNCIgaGVpZ2h0PSIxOCIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDE3cHg7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiAxMTZweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0OyI+PHNwYW4gc3R5bGU9ImZvbnQtc2l6ZTogMTJweCI+MOOBjOeEoemZkOOBq+e2muOBhOOBpuOBhOOCizwvc3Bhbj48YnIgLz48L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iNTciIHk9IjE4IiBmaWxsPSIjMDAwMDAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjE3cHgiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EiPltOb3Qgc3VwcG9ydGVkIGJ5IHZpZXdlcl08L3RleHQ+PC9zd2l0Y2g+PC9nPjwvZz48L3N2Zz4=" class="fig"></p>
<p>同様に、符号あり整数では、数値の左側に符号ビットと同じ値が無限に続いていて、拡張するときにはそれを取り出していると考えることができます。</p>
<p><img src="data:image/svg+xml;base64,PCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIHdpZHRoPSI0MzBweCIgaGVpZ2h0PSIyOTRweCIgdmlld0JveD0iLTAuNSAtMC41IDQzMCAyOTQiIGNvbnRlbnQ9IiZsdDtteGZpbGUgbW9kaWZpZWQ9JnF1b3Q7MjAxOS0wNS0yOVQwMTo0Nzo1Mi4wNTJaJnF1b3Q7IGhvc3Q9JnF1b3Q7d3d3LmRyYXcuaW8mcXVvdDsgYWdlbnQ9JnF1b3Q7TW96aWxsYS81LjAgKE1hY2ludG9zaDsgSW50ZWwgTWFjIE9TIFggMTBfMTRfNSkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzc0LjAuMzcyOS4xNjkgU2FmYXJpLzUzNy4zNiZxdW90OyB2ZXJzaW9uPSZxdW90OzEwLjcuMCZxdW90OyBldGFnPSZxdW90O1p6NzNSaDVReFFHX29VOEVSMk01JnF1b3Q7IHR5cGU9JnF1b3Q7Z29vZ2xlJnF1b3Q7Jmd0OyZsdDtkaWFncmFtIGlkPSZxdW90O1doVW10MWJ6bE5UUEJ0c0o4dWVYJnF1b3Q7Jmd0OzdaemZrNm8yRk1mL21qeDJoNUNBOElpdWUrOUxPNTNaaDdhUGpPUnE1aUt4aUt2YnY3NEpCQVNDVnJ1WTdPVm1aMmNNaC9EcmZNNko0VHZIQUxUWW5yN2s4Vzd6SzB0SUNsd25PUUgwREZ3WFFnZnpEMkY1bHhiSGRTckxPcWVKdEowTnIvUWZVbmVVMWdOTnlMN1RzV0FzTGVpdWExeXhMQ09yb21PTDg1d2R1OTIrc2JSNzFWMjhKb3JoZFJXbnF2VVBtaFNieWhwNHp0bitsZEQxcG1pZVdPN1p4blZuYWRodjRvUWRXeWEwQkdpUk0xWlVyZTFwUVZMaHZkb3YxWEV2Ri9ZMk41YVRyTGpsQUxjNjRDMU9EL0xaZ091bi9ORDVOOGJQd0crd2VKZFA3Zjk5WVBXT1gvWWxrNGgzZ083dWRON0pXK3Z5Y3prRDBRSkVQbGg2SUhnQjh4bFlJaEFnRUNMWkNKcEdVRitTMzJaMVZYbU95a1BORGJnRk9RbjdwdGltM0FCNWMxL2s3RHRac0pUbDNKS3hqSWdicEduYU04VXBYV2Q4YzhYZFFyaDkva2J5Z25LZ2tkeXhwVWtpTGpNL2JtaEJYbmZ4U2x6enlPT1gyM0oyeUJJaVBPYndyU1RlYjhvTktKM3hFbTlwS2tMNUswbmZpRGl0M0NFREY4NmFoeEdYSmFlTHJHQVRBVHgzQ051U0luL25YZVFCR0tQcUVKazJLTVF5aW82dElKU21UU3YrNm1DTFpkaXZtMU9mSTRNM1pIQU1Cd29hQ0pRZUhoN0xPOUZjSGZMMGZaN0hxKytrdU9EUkZzS3pjMVdnd0VWTytkZjM5SUlkY3NwQnVzNXY1RGpnN1lUbVBPOHB5OG9ReUlWenhpRGdlajBDUWVncEJCcDNqNDBBWDh6Vi9TN08vbit1T21VaVFoQXNSTllHR0VRUUxFTVE4djk2VjFRbTlOd0hZVlIzeHZVdXYydHhRVEJ2SlhSMWF6YWhCOFBKRDNvSkRkVndndUZRT0hrZkR5ZFBDU2ZuYmtDZEJIMHNwYnZ5ZjR6UmR0YlA5ZGxBcmo4bzFYMkZEYlJzV214Q2cyeG1ObSt1c2ZHZ1FUYUJ6WnVyYkpCQk5xSE5tNnRzbExtbFJqYjFpN1ZObkF0d1RFNEdJTFNaY3hXT3lka0FWQlVVbXprdE9MN0o2UUFjVWkzYXI4eTFXRlcrdEVZdlA5Wjc2MzJLU1BzbGR3U3VydEVSVVpWQ3BqTWlka2p0U0U2NWUwZ3V6ayt6dFR6aEdBQ05qcHBURmg4MEFVUkdSMVpWb2JBQTd3Vm9OQU9uTEdOb0FvaU5acUNxZFZpQTl3STBxWWZBS1FzaXVnQ2FGRTFjVlRTeGJ4Y2pUVTZOY3AyeTNxSnJibU55WkhWVlRjWUN2QmVnMFF4VWRSc0w4RjZBSmdXYW9WcVZwUStpWnhDaHVtNWtLU3loQjVyNkUySHhRT1NBT1JhTjBDbEx3ejcvbCtPbEtoRTgwbmNoeGoyUUtIeFNVUTZXaVl5QlVwVnF3RElBYzFlUXNpZy9oaktzcWVrQWFZdEtyc0xwRi96Z3BpcFp4NENweWpFV3pwV0tINzF3cGl5MWpBQ25YL0tqRjQ0cW85ak11Vkx6b3hVT1VpVVNtemxYaW43MHdsRjFEcHM1VjRwKzlNS1pzb1l4Qmh5VEV3S2s2aE0yYzY0VS9laUY4MSsvazdHeS9GaEZQM3E1cWtMRWRKTE9VTkdQWG9CVEZpQU1GZjNvQlRobGtjSlEwWTllZ0ZQK2ZZeWhvaCs5QUtjc2RoZ3ErdEVLc1A3RnZnVTRYdEdQWG9DcWFHTGZMa2FhbkJybHF1b3ROakh2bmRzWUhWbW5yTWtZS3ZyUkMxRFZiU3pBZXdHYUZHandRS1ZJbngvSmtrZ3N3Q1VZcFBGK1QxZGRtamRYWTVBVExmNFVqbnZ5NU5aZjBvMmkvWHhxYjd4M0hFeVMzdUplZTg1dUpVM3lqb3M0WHhQcEd1OW1DQzBmZXdNK3JtMDVTZU9Ddm5Wdllzang4Z3EvTTFvdXhYVjU4WXNldk9xQjVHRm5mc3FadlA2Q1VrRS9EQ28vS0djcUk2RjU4TnVDUXhWLzdFcGpuM1Zob3Y1S1k5Z0oxSUt6UjYwMGhsV1ZTZUh6OHkwMWhwMkJ4ZDRlTjVTclF0RTRhNDFCdTliWTUxaHJERHUrR2s4UFcyc01xN3JWRHpjMXFML0JQdTFFQUR1d2grcldpUUFPM0tjUUkyK0dmSDgyZzdCK1ZHWHMrZkM4Z0crZUZ6ZXR1cC9YaUVYTGZ3RT0mbHQ7L2RpYWdyYW0mZ3Q7Jmx0Oy9teGZpbGUmZ3Q7Ij48ZGVmcy8+PGc+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjI5LjUsMTExLjUpc2NhbGUoMS4xKSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSI2MCIgaGVpZ2h0PSIxOCIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDE3cHg7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiA2MXB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7Ij48Zm9udCBzdHlsZT0iZm9udC1zaXplOiAxMnB4Ij7nrKblj7fjg5Pjg4Pjg4g8L2ZvbnQ+PC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjMwIiB5PSIxOCIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxN3B4IiBmb250LWZhbWlseT0iSGVsdmV0aWNhIj5bTm90IHN1cHBvcnRlZCBieSB2aWV3ZXJdPC90ZXh0Pjwvc3dpdGNoPjwvZz48cGF0aCBkPSJNIDE0MS45IC00OC40IEwgMTM2LjQgLTQ4LjQgUSAxMzAuOSAtNDguNCAxMzAuOSAtMzcuNCBMIDEzMC45IDYxLjYgUSAxMzAuOSA3Mi42IDEyNS40IDcyLjYgTCAxMjIuNjUgNzIuNiBRIDExOS45IDcyLjYgMTI1LjQgNzIuNiBMIDEyOC4xNSA3Mi42IFEgMTMwLjkgNzIuNiAxMzAuOSA4My42IEwgMTMwLjkgMTgyLjYgUSAxMzAuOSAxOTMuNiAxMzYuNCAxOTMuNiBMIDE0MS45IDE5My42IiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4xIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHRyYW5zZm9ybT0icm90YXRlKDI3MCwxMzAuOSw3Mi42KSIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg2Ny41LDg2LjUpc2NhbGUoMS4xKSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIxMTQiIGhlaWdodD0iMTgiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxN3B4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMTE2cHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPjxzcGFuIHN0eWxlPSJmb250LXNpemU6IDEycHgiPjDjgYznhKHpmZDjgavntprjgYTjgabjgYTjgos8L3NwYW4+PC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjU3IiB5PSIxOCIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxN3B4IiBmb250LWZhbWlseT0iSGVsdmV0aWNhIj5bTm90IHN1cHBvcnRlZCBieSB2aWV3ZXJdPC90ZXh0Pjwvc3dpdGNoPjwvZz48cmVjdCB4PSIyNTEuOSIgeT0iMzkuNiIgd2lkdGg9IjIyIiBoZWlnaHQ9IjIyIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4xIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI1Ni41LDQwLjUpc2NhbGUoMS4xKSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIxMCIgaGVpZ2h0PSIxOCIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDE3cHg7IGZvbnQtZmFtaWx5OiAmcXVvdDtDb3VyaWVyIE5ldyZxdW90OzsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDEycHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPjA8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iNSIgeT0iMTgiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTdweCIgZm9udC1mYW1pbHk9IkNvdXJpZXIgTmV3Ij4wPC90ZXh0Pjwvc3dpdGNoPjwvZz48cmVjdCB4PSIyNzMuOSIgeT0iMzkuNiIgd2lkdGg9IjIyIiBoZWlnaHQ9IjIyIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4xIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI3OC41LDQwLjUpc2NhbGUoMS4xKSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIxMCIgaGVpZ2h0PSIxOCIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDE3cHg7IGZvbnQtZmFtaWx5OiAmcXVvdDtDb3VyaWVyIE5ldyZxdW90OzsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDEycHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPjE8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iNSIgeT0iMTgiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTdweCIgZm9udC1mYW1pbHk9IkNvdXJpZXIgTmV3Ij4xPC90ZXh0Pjwvc3dpdGNoPjwvZz48cmVjdCB4PSIyOTUuOSIgeT0iMzkuNiIgd2lkdGg9IjIyIiBoZWlnaHQ9IjIyIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4xIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDMwMC41LDQwLjUpc2NhbGUoMS4xKSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIxMCIgaGVpZ2h0PSIxOCIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDE3cHg7IGZvbnQtZmFtaWx5OiAmcXVvdDtDb3VyaWVyIE5ldyZxdW90OzsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDEycHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPjA8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iNSIgeT0iMTgiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTdweCIgZm9udC1mYW1pbHk9IkNvdXJpZXIgTmV3Ij4wPC90ZXh0Pjwvc3dpdGNoPjwvZz48cmVjdCB4PSIzMTcuOSIgeT0iMzkuNiIgd2lkdGg9IjIyIiBoZWlnaHQ9IjIyIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4xIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDMyMi41LDQwLjUpc2NhbGUoMS4xKSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIxMCIgaGVpZ2h0PSIxOCIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDE3cHg7IGZvbnQtZmFtaWx5OiAmcXVvdDtDb3VyaWVyIE5ldyZxdW90OzsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDEycHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPjE8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iNSIgeT0iMTgiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTdweCIgZm9udC1mYW1pbHk9IkNvdXJpZXIgTmV3Ij4xPC90ZXh0Pjwvc3dpdGNoPjwvZz48cmVjdCB4PSIzMzkuOSIgeT0iMzkuNiIgd2lkdGg9IjIyIiBoZWlnaHQ9IjIyIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4xIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDM0NC41LDQwLjUpc2NhbGUoMS4xKSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIxMCIgaGVpZ2h0PSIxOCIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDE3cHg7IGZvbnQtZmFtaWx5OiAmcXVvdDtDb3VyaWVyIE5ldyZxdW90OzsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDEycHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPjA8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iNSIgeT0iMTgiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTdweCIgZm9udC1mYW1pbHk9IkNvdXJpZXIgTmV3Ij4wPC90ZXh0Pjwvc3dpdGNoPjwvZz48cmVjdCB4PSIzNjEuOSIgeT0iMzkuNiIgd2lkdGg9IjIyIiBoZWlnaHQ9IjIyIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4xIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDM2Ni41LDQwLjUpc2NhbGUoMS4xKSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIxMCIgaGVpZ2h0PSIxOCIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDE3cHg7IGZvbnQtZmFtaWx5OiAmcXVvdDtDb3VyaWVyIE5ldyZxdW90OzsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDEycHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPjE8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iNSIgeT0iMTgiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTdweCIgZm9udC1mYW1pbHk9IkNvdXJpZXIgTmV3Ij4xPC90ZXh0Pjwvc3dpdGNoPjwvZz48cmVjdCB4PSIzODMuOSIgeT0iMzkuNiIgd2lkdGg9IjIyIiBoZWlnaHQ9IjIyIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4xIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDM4OC41LDQwLjUpc2NhbGUoMS4xKSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIxMCIgaGVpZ2h0PSIxOCIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDE3cHg7IGZvbnQtZmFtaWx5OiAmcXVvdDtDb3VyaWVyIE5ldyZxdW90OzsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDEycHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPjA8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iNSIgeT0iMTgiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTdweCIgZm9udC1mYW1pbHk9IkNvdXJpZXIgTmV3Ij4wPC90ZXh0Pjwvc3dpdGNoPjwvZz48cmVjdCB4PSI0MDUuOSIgeT0iMzkuNiIgd2lkdGg9IjIyIiBoZWlnaHQ9IjIyIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4xIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQxMC41LDQwLjUpc2NhbGUoMS4xKSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIxMCIgaGVpZ2h0PSIxOCIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDE3cHg7IGZvbnQtZmFtaWx5OiAmcXVvdDtDb3VyaWVyIE5ldyZxdW90OzsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDEycHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPjE8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iNSIgeT0iMTgiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTdweCIgZm9udC1mYW1pbHk9IkNvdXJpZXIgTmV3Ij4xPC90ZXh0Pjwvc3dpdGNoPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzMy41LDQwLjUpc2NhbGUoMS4xKSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIxNyIgaGVpZ2h0PSIxOCIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDE3cHg7IGZvbnQtZmFtaWx5OiAmcXVvdDtDb3VyaWVyIE5ldyZxdW90OzsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDE4cHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPjxzcGFuPuKLrzwvc3Bhbj48L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iOSIgeT0iMTgiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTdweCIgZm9udC1mYW1pbHk9IkNvdXJpZXIgTmV3Ij5bTm90IHN1cHBvcnRlZCBieSB2aWV3ZXJdPC90ZXh0Pjwvc3dpdGNoPjwvZz48cmVjdCB4PSI1My45IiB5PSIzOS42IiB3aWR0aD0iMjIiIGhlaWdodD0iMjIiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjEiIHN0cm9rZS1kYXNoYXJyYXk9IjMuMzAwMDAwMDAwMDAwMDAwMyAzLjMwMDAwMDAwMDAwMDAwMDMiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTguNSw0MC41KXNjYWxlKDEuMSkiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iMTAiIGhlaWdodD0iMTgiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxN3B4OyBmb250LWZhbWlseTogJnF1b3Q7Q291cmllciBOZXcmcXVvdDs7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiAxMnB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7Ij4wPC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjUiIHk9IjE4IiBmaWxsPSIjMDAwMDAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjE3cHgiIGZvbnQtZmFtaWx5PSJDb3VyaWVyIE5ldyI+MDwvdGV4dD48L3N3aXRjaD48L2c+PHJlY3QgeD0iNzUuOSIgeT0iMzkuNiIgd2lkdGg9IjIyIiBoZWlnaHQ9IjIyIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4xIiBzdHJva2UtZGFzaGFycmF5PSIzLjMwMDAwMDAwMDAwMDAwMDMgMy4zMDAwMDAwMDAwMDAwMDAzIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDgwLjUsNDAuNSlzY2FsZSgxLjEpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjEwIiBoZWlnaHQ9IjE4IiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTdweDsgZm9udC1mYW1pbHk6ICZxdW90O0NvdXJpZXIgTmV3JnF1b3Q7OyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMTJweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0OyI+MDwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSI1IiB5PSIxOCIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxN3B4IiBmb250LWZhbWlseT0iQ291cmllciBOZXciPjA8L3RleHQ+PC9zd2l0Y2g+PC9nPjxyZWN0IHg9IjE2My45IiB5PSIzOS42IiB3aWR0aD0iMjIiIGhlaWdodD0iMjIiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjEiIHN0cm9rZS1kYXNoYXJyYXk9IjMuMzAwMDAwMDAwMDAwMDAwMyAzLjMwMDAwMDAwMDAwMDAwMDMiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTY4LjUsNDAuNSlzY2FsZSgxLjEpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjEwIiBoZWlnaHQ9IjE4IiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTdweDsgZm9udC1mYW1pbHk6ICZxdW90O0NvdXJpZXIgTmV3JnF1b3Q7OyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMTJweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0OyI+MDwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSI1IiB5PSIxOCIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxN3B4IiBmb250LWZhbWlseT0iQ291cmllciBOZXciPjA8L3RleHQ+PC9zd2l0Y2g+PC9nPjxyZWN0IHg9IjE4NS45IiB5PSIzOS42IiB3aWR0aD0iMjIiIGhlaWdodD0iMjIiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjEiIHN0cm9rZS1kYXNoYXJyYXk9IjMuMzAwMDAwMDAwMDAwMDAwMyAzLjMwMDAwMDAwMDAwMDAwMDMiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTkwLjUsNDAuNSlzY2FsZSgxLjEpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjEwIiBoZWlnaHQ9IjE4IiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTdweDsgZm9udC1mYW1pbHk6ICZxdW90O0NvdXJpZXIgTmV3JnF1b3Q7OyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMTJweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0OyI+MDwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSI1IiB5PSIxOCIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxN3B4IiBmb250LWZhbWlseT0iQ291cmllciBOZXciPjA8L3RleHQ+PC9zd2l0Y2g+PC9nPjxyZWN0IHg9IjIwNy45IiB5PSIzOS42IiB3aWR0aD0iMjIiIGhlaWdodD0iMjIiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjEiIHN0cm9rZS1kYXNoYXJyYXk9IjMuMzAwMDAwMDAwMDAwMDAwMyAzLjMwMDAwMDAwMDAwMDAwMDMiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjEyLjUsNDAuNSlzY2FsZSgxLjEpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjEwIiBoZWlnaHQ9IjE4IiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTdweDsgZm9udC1mYW1pbHk6ICZxdW90O0NvdXJpZXIgTmV3JnF1b3Q7OyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMTJweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0OyI+MDwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSI1IiB5PSIxOCIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxN3B4IiBmb250LWZhbWlseT0iQ291cmllciBOZXciPjA8L3RleHQ+PC9zd2l0Y2g+PC9nPjxyZWN0IHg9IjIyOS45IiB5PSIzOS42IiB3aWR0aD0iMjIiIGhlaWdodD0iMjIiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjEiIHN0cm9rZS1kYXNoYXJyYXk9IjMuMzAwMDAwMDAwMDAwMDAwMyAzLjMwMDAwMDAwMDAwMDAwMDMiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjM0LjUsNDAuNSlzY2FsZSgxLjEpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjEwIiBoZWlnaHQ9IjE4IiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTdweDsgZm9udC1mYW1pbHk6ICZxdW90O0NvdXJpZXIgTmV3JnF1b3Q7OyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMTJweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0OyI+MDwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSI1IiB5PSIxOCIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxN3B4IiBmb250LWZhbWlseT0iQ291cmllciBOZXciPjA8L3RleHQ+PC9zd2l0Y2g+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDExLjUsNDAuNSlzY2FsZSgxLjEpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjE3IiBoZWlnaHQ9IjE4IiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTdweDsgZm9udC1mYW1pbHk6ICZxdW90O0NvdXJpZXIgTmV3JnF1b3Q7OyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMThweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0OyI+PHNwYW4+4ouvPC9zcGFuPjwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSI5IiB5PSIxOCIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxN3B4IiBmb250LWZhbWlseT0iQ291cmllciBOZXciPltOb3Qgc3VwcG9ydGVkIGJ5IHZpZXdlcl08L3RleHQ+PC9zd2l0Y2g+PC9nPjxyZWN0IHg9Ijk3LjkiIHk9IjM5LjYiIHdpZHRoPSIyMiIgaGVpZ2h0PSIyMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuMSIgc3Ryb2tlLWRhc2hhcnJheT0iMy4zMDAwMDAwMDAwMDAwMDAzIDMuMzAwMDAwMDAwMDAwMDAwMyIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMDIuNSw0MC41KXNjYWxlKDEuMSkiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iMTAiIGhlaWdodD0iMTgiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxN3B4OyBmb250LWZhbWlseTogJnF1b3Q7Q291cmllciBOZXcmcXVvdDs7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiAxMnB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7Ij4wPC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjUiIHk9IjE4IiBmaWxsPSIjMDAwMDAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjE3cHgiIGZvbnQtZmFtaWx5PSJDb3VyaWVyIE5ldyI+MDwvdGV4dD48L3N3aXRjaD48L2c+PHJlY3QgeD0iMTE5LjkiIHk9IjM5LjYiIHdpZHRoPSIyMiIgaGVpZ2h0PSIyMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuMSIgc3Ryb2tlLWRhc2hhcnJheT0iMy4zMDAwMDAwMDAwMDAwMDAzIDMuMzAwMDAwMDAwMDAwMDAwMyIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMjQuNSw0MC41KXNjYWxlKDEuMSkiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iMTAiIGhlaWdodD0iMTgiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxN3B4OyBmb250LWZhbWlseTogJnF1b3Q7Q291cmllciBOZXcmcXVvdDs7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiAxMnB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7Ij4wPC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjUiIHk9IjE4IiBmaWxsPSIjMDAwMDAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjE3cHgiIGZvbnQtZmFtaWx5PSJDb3VyaWVyIE5ldyI+MDwvdGV4dD48L3N3aXRjaD48L2c+PHJlY3QgeD0iMTQxLjkiIHk9IjM5LjYiIHdpZHRoPSIyMiIgaGVpZ2h0PSIyMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuMSIgc3Ryb2tlLWRhc2hhcnJheT0iMy4zMDAwMDAwMDAwMDAwMDAzIDMuMzAwMDAwMDAwMDAwMDAwMyIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNDYuNSw0MC41KXNjYWxlKDEuMSkiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iMTAiIGhlaWdodD0iMTgiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxN3B4OyBmb250LWZhbWlseTogJnF1b3Q7Q291cmllciBOZXcmcXVvdDs7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiAxMnB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7Ij4wPC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjUiIHk9IjE4IiBmaWxsPSIjMDAwMDAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjE3cHgiIGZvbnQtZmFtaWx5PSJDb3VyaWVyIE5ldyI+MDwvdGV4dD48L3N3aXRjaD48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMi41LDMuNSlzY2FsZSgxLjEpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9Ijg0IiBoZWlnaHQ9IjE0IiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTRweDsgZm9udC1mYW1pbHk6IEhlbHZldGljYTsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDg1cHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPuato+OBruaVsOOBruWgtOWQiDwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSI0MiIgeT0iMTQiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTRweCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSI+5q2j44Gu5pWw44Gu5aC05ZCIPC90ZXh0Pjwvc3dpdGNoPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyLjUsMTY4LjUpc2NhbGUoMS4xKSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSI4NCIgaGVpZ2h0PSIxNCIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDE0cHg7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiA4NXB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7Ij7osqDjga7mlbDjga7loLTlkIg8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iNDIiIHk9IjE0IiBmaWxsPSIjMDAwMDAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjE0cHgiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EiPuiyoOOBruaVsOOBruWgtOWQiDwvdGV4dD48L3N3aXRjaD48L2c+PHJlY3QgeD0iMjUxLjkiIHk9IjE5OS4xIiB3aWR0aD0iMjIiIGhlaWdodD0iMjIiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjEiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjU2LjUsMTk5LjUpc2NhbGUoMS4xKSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIxMCIgaGVpZ2h0PSIxOCIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDE3cHg7IGZvbnQtZmFtaWx5OiAmcXVvdDtDb3VyaWVyIE5ldyZxdW90OzsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDEycHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPjE8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iNSIgeT0iMTgiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTdweCIgZm9udC1mYW1pbHk9IkNvdXJpZXIgTmV3Ij4xPC90ZXh0Pjwvc3dpdGNoPjwvZz48cmVjdCB4PSIyNzMuOSIgeT0iMTk5LjEiIHdpZHRoPSIyMiIgaGVpZ2h0PSIyMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuMSIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNzguNSwxOTkuNSlzY2FsZSgxLjEpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjEwIiBoZWlnaHQ9IjE4IiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTdweDsgZm9udC1mYW1pbHk6ICZxdW90O0NvdXJpZXIgTmV3JnF1b3Q7OyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMTJweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0OyI+MTwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSI1IiB5PSIxOCIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxN3B4IiBmb250LWZhbWlseT0iQ291cmllciBOZXciPjE8L3RleHQ+PC9zd2l0Y2g+PC9nPjxyZWN0IHg9IjI5NS45IiB5PSIxOTkuMSIgd2lkdGg9IjIyIiBoZWlnaHQ9IjIyIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4xIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDMwMC41LDE5OS41KXNjYWxlKDEuMSkiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iMTAiIGhlaWdodD0iMTgiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxN3B4OyBmb250LWZhbWlseTogJnF1b3Q7Q291cmllciBOZXcmcXVvdDs7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiAxMnB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7Ij4wPC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjUiIHk9IjE4IiBmaWxsPSIjMDAwMDAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjE3cHgiIGZvbnQtZmFtaWx5PSJDb3VyaWVyIE5ldyI+MDwvdGV4dD48L3N3aXRjaD48L2c+PHJlY3QgeD0iMzE3LjkiIHk9IjE5OS4xIiB3aWR0aD0iMjIiIGhlaWdodD0iMjIiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjEiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzIyLjUsMTk5LjUpc2NhbGUoMS4xKSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIxMCIgaGVpZ2h0PSIxOCIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDE3cHg7IGZvbnQtZmFtaWx5OiAmcXVvdDtDb3VyaWVyIE5ldyZxdW90OzsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDEycHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPjE8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iNSIgeT0iMTgiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTdweCIgZm9udC1mYW1pbHk9IkNvdXJpZXIgTmV3Ij4xPC90ZXh0Pjwvc3dpdGNoPjwvZz48cmVjdCB4PSIzMzkuOSIgeT0iMTk5LjEiIHdpZHRoPSIyMiIgaGVpZ2h0PSIyMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuMSIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzNDQuNSwxOTkuNSlzY2FsZSgxLjEpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjEwIiBoZWlnaHQ9IjE4IiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTdweDsgZm9udC1mYW1pbHk6ICZxdW90O0NvdXJpZXIgTmV3JnF1b3Q7OyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMTJweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0OyI+MDwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSI1IiB5PSIxOCIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxN3B4IiBmb250LWZhbWlseT0iQ291cmllciBOZXciPjA8L3RleHQ+PC9zd2l0Y2g+PC9nPjxyZWN0IHg9IjM2MS45IiB5PSIxOTkuMSIgd2lkdGg9IjIyIiBoZWlnaHQ9IjIyIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4xIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDM2Ni41LDE5OS41KXNjYWxlKDEuMSkiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iMTAiIGhlaWdodD0iMTgiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxN3B4OyBmb250LWZhbWlseTogJnF1b3Q7Q291cmllciBOZXcmcXVvdDs7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiAxMnB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7Ij4xPC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjUiIHk9IjE4IiBmaWxsPSIjMDAwMDAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjE3cHgiIGZvbnQtZmFtaWx5PSJDb3VyaWVyIE5ldyI+MTwvdGV4dD48L3N3aXRjaD48L2c+PHJlY3QgeD0iMzgzLjkiIHk9IjE5OS4xIiB3aWR0aD0iMjIiIGhlaWdodD0iMjIiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjEiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzg4LjUsMTk5LjUpc2NhbGUoMS4xKSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIxMCIgaGVpZ2h0PSIxOCIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDE3cHg7IGZvbnQtZmFtaWx5OiAmcXVvdDtDb3VyaWVyIE5ldyZxdW90OzsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDEycHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPjA8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iNSIgeT0iMTgiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTdweCIgZm9udC1mYW1pbHk9IkNvdXJpZXIgTmV3Ij4wPC90ZXh0Pjwvc3dpdGNoPjwvZz48cmVjdCB4PSI0MDUuOSIgeT0iMTk5LjEiIHdpZHRoPSIyMiIgaGVpZ2h0PSIyMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuMSIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0MTAuNSwxOTkuNSlzY2FsZSgxLjEpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjEwIiBoZWlnaHQ9IjE4IiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTdweDsgZm9udC1mYW1pbHk6ICZxdW90O0NvdXJpZXIgTmV3JnF1b3Q7OyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMTJweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0OyI+MTwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSI1IiB5PSIxOCIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxN3B4IiBmb250LWZhbWlseT0iQ291cmllciBOZXciPjE8L3RleHQ+PC9zd2l0Y2g+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDMzLjUsMTk5LjUpc2NhbGUoMS4xKSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIxNyIgaGVpZ2h0PSIxOCIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDE3cHg7IGZvbnQtZmFtaWx5OiAmcXVvdDtDb3VyaWVyIE5ldyZxdW90OzsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDE4cHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPjxzcGFuPuKLrzwvc3Bhbj48L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iOSIgeT0iMTgiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTdweCIgZm9udC1mYW1pbHk9IkNvdXJpZXIgTmV3Ij5bTm90IHN1cHBvcnRlZCBieSB2aWV3ZXJdPC90ZXh0Pjwvc3dpdGNoPjwvZz48cmVjdCB4PSI1My45IiB5PSIxOTkuMSIgd2lkdGg9IjIyIiBoZWlnaHQ9IjIyIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4xIiBzdHJva2UtZGFzaGFycmF5PSIzLjMwMDAwMDAwMDAwMDAwMDMgMy4zMDAwMDAwMDAwMDAwMDAzIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDU4LjUsMTk5LjUpc2NhbGUoMS4xKSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIxMCIgaGVpZ2h0PSIxOCIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDE3cHg7IGZvbnQtZmFtaWx5OiAmcXVvdDtDb3VyaWVyIE5ldyZxdW90OzsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDEycHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPjE8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iNSIgeT0iMTgiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTdweCIgZm9udC1mYW1pbHk9IkNvdXJpZXIgTmV3Ij4xPC90ZXh0Pjwvc3dpdGNoPjwvZz48cmVjdCB4PSI3NS45IiB5PSIxOTkuMSIgd2lkdGg9IjIyIiBoZWlnaHQ9IjIyIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4xIiBzdHJva2UtZGFzaGFycmF5PSIzLjMwMDAwMDAwMDAwMDAwMDMgMy4zMDAwMDAwMDAwMDAwMDAzIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDgwLjUsMTk5LjUpc2NhbGUoMS4xKSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIxMCIgaGVpZ2h0PSIxOCIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDE3cHg7IGZvbnQtZmFtaWx5OiAmcXVvdDtDb3VyaWVyIE5ldyZxdW90OzsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDEycHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPjE8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iNSIgeT0iMTgiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTdweCIgZm9udC1mYW1pbHk9IkNvdXJpZXIgTmV3Ij4xPC90ZXh0Pjwvc3dpdGNoPjwvZz48cmVjdCB4PSIxNjMuOSIgeT0iMTk5LjEiIHdpZHRoPSIyMiIgaGVpZ2h0PSIyMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuMSIgc3Ryb2tlLWRhc2hhcnJheT0iMy4zMDAwMDAwMDAwMDAwMDAzIDMuMzAwMDAwMDAwMDAwMDAwMyIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNjguNSwxOTkuNSlzY2FsZSgxLjEpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjEwIiBoZWlnaHQ9IjE4IiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTdweDsgZm9udC1mYW1pbHk6ICZxdW90O0NvdXJpZXIgTmV3JnF1b3Q7OyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMTJweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0OyI+MTwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSI1IiB5PSIxOCIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxN3B4IiBmb250LWZhbWlseT0iQ291cmllciBOZXciPjE8L3RleHQ+PC9zd2l0Y2g+PC9nPjxyZWN0IHg9IjE4NS45IiB5PSIxOTkuMSIgd2lkdGg9IjIyIiBoZWlnaHQ9IjIyIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4xIiBzdHJva2UtZGFzaGFycmF5PSIzLjMwMDAwMDAwMDAwMDAwMDMgMy4zMDAwMDAwMDAwMDAwMDAzIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE5MC41LDE5OS41KXNjYWxlKDEuMSkiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iMTAiIGhlaWdodD0iMTgiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxN3B4OyBmb250LWZhbWlseTogJnF1b3Q7Q291cmllciBOZXcmcXVvdDs7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiAxMnB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7Ij4xPC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjUiIHk9IjE4IiBmaWxsPSIjMDAwMDAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjE3cHgiIGZvbnQtZmFtaWx5PSJDb3VyaWVyIE5ldyI+MTwvdGV4dD48L3N3aXRjaD48L2c+PHJlY3QgeD0iMjA3LjkiIHk9IjE5OS4xIiB3aWR0aD0iMjIiIGhlaWdodD0iMjIiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjEiIHN0cm9rZS1kYXNoYXJyYXk9IjMuMzAwMDAwMDAwMDAwMDAwMyAzLjMwMDAwMDAwMDAwMDAwMDMiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjEyLjUsMTk5LjUpc2NhbGUoMS4xKSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIxMCIgaGVpZ2h0PSIxOCIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDE3cHg7IGZvbnQtZmFtaWx5OiAmcXVvdDtDb3VyaWVyIE5ldyZxdW90OzsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDEycHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPjE8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iNSIgeT0iMTgiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTdweCIgZm9udC1mYW1pbHk9IkNvdXJpZXIgTmV3Ij4xPC90ZXh0Pjwvc3dpdGNoPjwvZz48cmVjdCB4PSIyMjkuOSIgeT0iMTk5LjEiIHdpZHRoPSIyMiIgaGVpZ2h0PSIyMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuMSIgc3Ryb2tlLWRhc2hhcnJheT0iMy4zMDAwMDAwMDAwMDAwMDAzIDMuMzAwMDAwMDAwMDAwMDAwMyIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMzQuNSwxOTkuNSlzY2FsZSgxLjEpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjEwIiBoZWlnaHQ9IjE4IiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTdweDsgZm9udC1mYW1pbHk6ICZxdW90O0NvdXJpZXIgTmV3JnF1b3Q7OyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMTJweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0OyI+MTwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSI1IiB5PSIxOCIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxN3B4IiBmb250LWZhbWlseT0iQ291cmllciBOZXciPjE8L3RleHQ+PC9zd2l0Y2g+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDExLjUsMTk5LjUpc2NhbGUoMS4xKSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIxNyIgaGVpZ2h0PSIxOCIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDE3cHg7IGZvbnQtZmFtaWx5OiAmcXVvdDtDb3VyaWVyIE5ldyZxdW90OzsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDE4cHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPjxzcGFuPuKLrzwvc3Bhbj48L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iOSIgeT0iMTgiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTdweCIgZm9udC1mYW1pbHk9IkNvdXJpZXIgTmV3Ij5bTm90IHN1cHBvcnRlZCBieSB2aWV3ZXJdPC90ZXh0Pjwvc3dpdGNoPjwvZz48cmVjdCB4PSI5Ny45IiB5PSIxOTkuMSIgd2lkdGg9IjIyIiBoZWlnaHQ9IjIyIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4xIiBzdHJva2UtZGFzaGFycmF5PSIzLjMwMDAwMDAwMDAwMDAwMDMgMy4zMDAwMDAwMDAwMDAwMDAzIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwMi41LDE5OS41KXNjYWxlKDEuMSkiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iMTAiIGhlaWdodD0iMTgiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxN3B4OyBmb250LWZhbWlseTogJnF1b3Q7Q291cmllciBOZXcmcXVvdDs7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiAxMnB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7Ij4xPC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjUiIHk9IjE4IiBmaWxsPSIjMDAwMDAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjE3cHgiIGZvbnQtZmFtaWx5PSJDb3VyaWVyIE5ldyI+MTwvdGV4dD48L3N3aXRjaD48L2c+PHJlY3QgeD0iMTE5LjkiIHk9IjE5OS4xIiB3aWR0aD0iMjIiIGhlaWdodD0iMjIiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjEiIHN0cm9rZS1kYXNoYXJyYXk9IjMuMzAwMDAwMDAwMDAwMDAwMyAzLjMwMDAwMDAwMDAwMDAwMDMiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTI0LjUsMTk5LjUpc2NhbGUoMS4xKSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIxMCIgaGVpZ2h0PSIxOCIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDE3cHg7IGZvbnQtZmFtaWx5OiAmcXVvdDtDb3VyaWVyIE5ldyZxdW90OzsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDEycHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPjE8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iNSIgeT0iMTgiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTdweCIgZm9udC1mYW1pbHk9IkNvdXJpZXIgTmV3Ij4xPC90ZXh0Pjwvc3dpdGNoPjwvZz48cmVjdCB4PSIxNDEuOSIgeT0iMTk5LjEiIHdpZHRoPSIyMiIgaGVpZ2h0PSIyMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuMSIgc3Ryb2tlLWRhc2hhcnJheT0iMy4zMDAwMDAwMDAwMDAwMDAzIDMuMzAwMDAwMDAwMDAwMDAwMyIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNDYuNSwxOTkuNSlzY2FsZSgxLjEpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjEwIiBoZWlnaHQ9IjE4IiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTdweDsgZm9udC1mYW1pbHk6ICZxdW90O0NvdXJpZXIgTmV3JnF1b3Q7OyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMTJweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0OyI+MTwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSI1IiB5PSIxOCIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxN3B4IiBmb250LWZhbWlseT0iQ291cmllciBOZXciPjE8L3RleHQ+PC9zd2l0Y2g+PC9nPjxwYXRoIGQ9Ik0gMjYyLjkgMTExLjEgTCAyNjIuOSA2OC42IiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4xIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSAyNjIuOSA2Mi44MyBMIDI2Ni43NSA3MC41MyBMIDI2Mi45IDY4LjYgTCAyNTkuMDUgNzAuNTMgWiIgZmlsbD0iIzAwMDAwMCIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuMSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIyOS41LDI3MS41KXNjYWxlKDEuMSkiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iNjAiIGhlaWdodD0iMTgiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxN3B4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogNjFweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0OyI+PGZvbnQgc3R5bGU9ImZvbnQtc2l6ZTogMTJweCI+56ym5Y+344OT44OD44OIPC9mb250PjwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSIzMCIgeT0iMTgiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTdweCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSI+W05vdCBzdXBwb3J0ZWQgYnkgdmlld2VyXTwvdGV4dD48L3N3aXRjaD48L2c+PHBhdGggZD0iTSAxNDEuOSAxMTEuMSBMIDEzNi40IDExMS4xIFEgMTMwLjkgMTExLjEgMTMwLjkgMTIyLjEgTCAxMzAuOSAyMjEuMSBRIDEzMC45IDIzMi4xIDEyNS40IDIzMi4xIEwgMTIyLjY1IDIzMi4xIFEgMTE5LjkgMjMyLjEgMTI1LjQgMjMyLjEgTCAxMjguMTUgMjMyLjEgUSAxMzAuOSAyMzIuMSAxMzAuOSAyNDMuMSBMIDEzMC45IDM0Mi4xIFEgMTMwLjkgMzUzLjEgMTM2LjQgMzUzLjEgTCAxNDEuOSAzNTMuMSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuMSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiB0cmFuc2Zvcm09InJvdGF0ZSgyNzAsMTMwLjksMjMyLjEpIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDY3LjUsMjQ2LjUpc2NhbGUoMS4xKSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIxMTQiIGhlaWdodD0iMTgiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxN3B4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMTE2cHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPjxzcGFuIHN0eWxlPSJmb250LXNpemU6IDEycHgiPjHjgYznhKHpmZDjgavntprjgYTjgabjgYTjgos8L3NwYW4+PC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjU3IiB5PSIxOCIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxN3B4IiBmb250LWZhbWlseT0iSGVsdmV0aWNhIj5bTm90IHN1cHBvcnRlZCBieSB2aWV3ZXJdPC90ZXh0Pjwvc3dpdGNoPjwvZz48cGF0aCBkPSJNIDI2Mi45IDI3MC42IEwgMjYyLjg1IDIyOC4xIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4xIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSAyNjIuODQgMjIyLjMzIEwgMjY2LjcgMjMwLjAyIEwgMjYyLjg1IDIyOC4xIEwgMjU5IDIzMC4wMyBaIiBmaWxsPSIjMDAwMDAwIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4xIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PC9nPjwvc3ZnPg==" class="fig"></p>
<p>このように、ある数値をよりビット幅の広いところにフィットさせようとしている場合、自分がいま扱っている値が符号なしなのか符号ありなのかを意識しておく必要があります。</p>
<div class="note">
<p>コラム: 符号拡張の不要な負数の表現</p>
<p>2の補数表現はコンピュータで広く使われている符号あり整数の表現方法ですが、正負の整数をビットのパターンにマップする方法を考えてみると、それだけが唯一のやり方というわけではありません。たとえば<span class="index" id="index75">マイナス2進数</span>というものを考えてみると、下の桁から(-2)<sup>0</sup>、(-2)<sup>1</sup>、(-2)<sup>2</sup>、⋯⋯を表していることになります。各桁が表す数について、4ビットの場合の比較表を以下に示します。</p>
<table class="notranslate">
<tbody>
<tr class="odd">
<td></td>
<td style="text-align: center;">4</td>
<td style="text-align: center;">3</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">1</td>
</tr>
<tr class="even">
<td>符号なし</td>
<td style="text-align: center;">8</td>
<td style="text-align: center;">4</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">1</td>
</tr>
<tr class="odd">
<td>2の補数</td>
<td style="text-align: center;">-8</td>
<td style="text-align: center;">4</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">1</td>
</tr>
<tr class="even">
<td>マイナス2進数</td>
<td style="text-align: center;">-8</td>
<td style="text-align: center;">4</td>
<td style="text-align: center;">-2</td>
<td style="text-align: center;">1</td>
</tr>
</tbody>
</table>
<p>4ビットのマイナス2進数では、次のように、-10〜5の計16個の整数を表すことができます。</p>
<table class="notranslate">
<tbody>
<tr class="odd">
<td style="text-align: center;">5</td>
<td style="text-align: center;">0b0101</td>
</tr>
<tr class="even">
<td style="text-align: center;">4</td>
<td style="text-align: center;">0b0100</td>
</tr>
<tr class="odd">
<td style="text-align: center;">3</td>
<td style="text-align: center;">0b0111</td>
</tr>
<tr class="even">
<td style="text-align: center;">2</td>
<td style="text-align: center;">0b0110</td>
</tr>
<tr class="odd">
<td style="text-align: center;">1</td>
<td style="text-align: center;">0b0001</td>
</tr>
<tr class="even">
<td style="text-align: center;">0</td>
<td style="text-align: center;">0b0000</td>
</tr>
<tr class="odd">
<td style="text-align: center;">-1</td>
<td style="text-align: center;">0b0011</td>
</tr>
<tr class="even">
<td style="text-align: center;">-2</td>
<td style="text-align: center;">0b0010</td>
</tr>
<tr class="odd">
<td style="text-align: center;">-3</td>
<td style="text-align: center;">0b1101</td>
</tr>
<tr class="even">
<td style="text-align: center;">-4</td>
<td style="text-align: center;">0b1100</td>
</tr>
<tr class="odd">
<td style="text-align: center;">-5</td>
<td style="text-align: center;">0b1111</td>
</tr>
<tr class="even">
<td style="text-align: center;">-6</td>
<td style="text-align: center;">0b1110</td>
</tr>
<tr class="odd">
<td style="text-align: center;">-7</td>
<td style="text-align: center;">0b1001</td>
</tr>
<tr class="even">
<td style="text-align: center;">-8</td>
<td style="text-align: center;">0b1000</td>
</tr>
<tr class="odd">
<td style="text-align: center;">-9</td>
<td style="text-align: center;">0b1011</td>
</tr>
<tr class="even">
<td style="text-align: center;">-10</td>
<td style="text-align: center;">0b1010</td>
</tr>
</tbody>
</table>
<p>マイナス2進数は、見るからに桁上がりなどの処理が大変で、表現可能な範囲の中央付近に0がこないという欠点がありますが、一方で符号ビットがいらないという面白い特徴があります。したがって、ある桁のマイナス2進数をより大きい桁数に拡張するときは、上位ビットは常に0で埋めて構いません。</p>
<p>このように、コンピュータ上での整数の表現は、2の補数表現に限らず様々な方法が考えられます。2の補数表現はその中で、ハードウェアで最も扱いやすい表現として、現存するほぼすべてのコンピュータで使われています。</p>
</div>
<h2 id="符号の反転"><a href="https://www.sigbus.info/compilerbook#%E7%AC%A6%E5%8F%B7%E3%81%AE%E5%8F%8D%E8%BB%A2" style="text-decoration: none; color: inherit;">符号の反転</a></h2>
<p>2の補数表現の詳細は、コンパイラ作成のために必ずしも必要な知識というわけではないのですが、いくつか2の補数表現に関する技を覚えておくと、ちょっとしたときにいろいろ便利です。ここでは数値の正負を反転する簡単な方法を説明します。</p>
<p>2の補数表現では、「全てのビットを反転して1を足す」という操作をすると、数値の正負が反転します。たとえば8ビット符号あり整数で、3から-3のビットパターンを求める手順は次のようになります。</p>
<ol>
<li>数値を2進数で表す。3の場合、0b0000_0011。</li>
<li>全ビットを反転する。この場合、0b1111_1100になる。</li>
<li>1を足す。この場合、0b1111_1101になる。これが-3のビットパターン。</li>
</ol>
<p>上記の方法を覚えておくと、負数のビットパターンを簡単に求めることができます。</p>
<p>また、符号ビットが立っているビットパターンを、同じ操作を行うことによって正の数にすることで、そのビットパターンが表している数値を簡単に求められることがあります。例えば0b1111_1101が何を表しているのか、単純に足し算で求めるのは面倒ですが、ビットを反転して1を足すと0b0000_0011になり、3の逆符号すなわち-3を表していたということが簡単にわかります。</p>
<p>上記のトリックが動く理由は割と単純です。ここまでに、2の補数表現の演算を数学的にきちんと定義をしていないので、やや曖昧な説明になりますが、アイデアは次の通りです。</p>
<p>全ビットを反転するというのは、-1すなわち全ビットが1のビットパターンから引くのと同じです。たとえば0b0011_0011というビットパターンは、次のようにして反転することができます。</p>
<pre class="notranslate"><code class="notranslate">  1111 1111
- 0011 0011
= 1100 1100</code></pre>
<p>つまり数値nを表すビットパターンを反転するのは、-1 - nを計算することと同じです。それに1を足すと、(-1 - n) + 1 = -nを計算しているということになり、nに対して-nを求めることができたということになるわけです。</p>
<div id="number_prefixes" class="note">
<p>コラム: リテラルの数の基数</p>
<p>Cの標準規格では数を8進、10進、16進のいずれかで書くことができます。普通に123のように数を書くと10進数、0x8040のように先頭に0xをつけて書くと16進数、0737のように先頭に0をつけて書くと8進数になります。</p>
<p>Cで8進数で数を書く機能なんて使ったことないよ、と思う読者も多いかもしれませんが、この文法においては単なる0も8進数表記ということになるので、どのCプログラマも実は8進数をとても頻繁に書いています。これはちょっとしたトリビアですが、よく考えてみると深いような深くないような理由があります。</p>
<p>そもそも0というのは数の記法としてやや特殊です。普通、1のような数は、10の桁や100の桁が0だからといって01や001のように書いたりしないわけですが、そのルールを0にそのまま適用すると空文字列になってしまいます。0を書きたい時に何も書かないというのでは実用上困るので、その場合は特別なルールとして0と書くことにしているわけですが、そうするとCの文法ではやや特殊なカテゴリということになってしまうわけです。</p>
</div>
<hr>
<h1 id="ポインタと文字列リテラル"><a href="https://www.sigbus.info/compilerbook#%E3%83%9D%E3%82%A4%E3%83%B3%E3%82%BF%E3%81%A8%E6%96%87%E5%AD%97%E5%88%97%E3%83%AA%E3%83%86%E3%83%A9%E3%83%AB" style="text-decoration: none; color: inherit;">ポインタと文字列リテラル</a></h1>
<p>ここまでの章で、それなりに意味のある計算ができる言語が出来上がりつつありますが、我々の言語ではまだ<code class="notranslate">Hello world</code>を表示することすらできません。そろそろ文字列を追加して、意味のあるメッセージをプログラムから出力できるようにしたいところです。</p>
<p>Cの文字列リテラルは、<code class="notranslate">char</code>型とグローバル変数、配列と密接に関係があります。例として以下の関数を考えてみてください。</p>
<div class="sourceCode" id="cb117"><pre class="sourceCode c notranslate"><code class="sourceCode c notranslate"><span id="cb117-1"><a href="https://www.sigbus.info/compilerbook#cb117-1"></a><span class="dt">int</span> main(<span class="dt">int</span> argc, <span class="dt">char</span> **argv) {</span>
<span id="cb117-2"><a href="https://www.sigbus.info/compilerbook#cb117-2"></a>  printf(<span class="st">"Hello, world!</span><span class="sc">\n</span><span class="st">"</span>);</span>
<span id="cb117-3"><a href="https://www.sigbus.info/compilerbook#cb117-3"></a>}</span></code></pre></div>
<p>上記のコードは、下のコードと同じようにコンパイルすることになります。ただし<code class="notranslate">msg</code>というのは他の識別子とは被らないユニークな識別子とします。</p>
<div class="sourceCode" id="cb118"><pre class="sourceCode c notranslate"><code class="sourceCode c notranslate"><span id="cb118-1"><a href="https://www.sigbus.info/compilerbook#cb118-1"></a><span class="dt">char</span> msg[<span class="dv">15</span>] = <span class="st">"Hello, world!</span><span class="sc">\n</span><span class="st">"</span>;</span>
<span id="cb118-2"><a href="https://www.sigbus.info/compilerbook#cb118-2"></a></span>
<span id="cb118-3"><a href="https://www.sigbus.info/compilerbook#cb118-3"></a><span class="dt">int</span> main(<span class="dt">int</span> argc, <span class="dt">char</span> **argv) {</span>
<span id="cb118-4"><a href="https://www.sigbus.info/compilerbook#cb118-4"></a>  printf(msg);</span>
<span id="cb118-5"><a href="https://www.sigbus.info/compilerbook#cb118-5"></a>}</span></code></pre></div>
<p>我々のコンパイラは、文字列リテラルをサポートするための機能がまだいくつか欠けています。文字列リテラルをサポートして、<code class="notranslate">printf</code>などでメッセージを表示できるように、この章では次の機能を順に実装していきましょう。</p>
<ol>
<li>単項<code class="notranslate">&amp;</code>と単項<code class="notranslate">*</code></li>
<li>ポインタ</li>
<li>配列</li>
<li>グローバル変数</li>
<li>char型</li>
<li>文字列リテラル</li>
</ol>
<p>また、上記の機能をテストするために必要な機能などもこの章で追加していきます。</p>
<h2 id="ステップ16-単項と単項"><a href="https://www.sigbus.info/compilerbook#%E3%82%B9%E3%83%86%E3%83%83%E3%83%9716-%E5%8D%98%E9%A0%85%E3%81%A8%E5%8D%98%E9%A0%85" style="text-decoration: none; color: inherit;">ステップ16: 単項&amp;と単項*</a></h2>
<p>このステップでは、ポインタを実装する最初のステップとして、アドレスを返す単項<code class="notranslate">&amp;</code>と、アドレスを参照する単項<code class="notranslate">*</code>を実装します。</p>
<p>これらの演算子は本来はポインタ型の値を返したり、ポインタ型の値を取ったりする演算子ですが、我々のコンパイラにはまだ整数以外の型がないので、ポインタ型は整数型で代用することにします。すなわち、<code class="notranslate">&amp;x</code>は変数<code class="notranslate">x</code>のアドレスを単なる整数として返します。また、<code class="notranslate">*x</code>は、<code class="notranslate">x</code>の値をアドレスとみなして、そのアドレスから値を読んでくるという演算ということになります。</p>
<p>そのような演算子を実装すると、次のようなコードが動くようになります。</p>
<div class="sourceCode" id="cb119"><pre class="sourceCode c notranslate"><code class="sourceCode c notranslate"><span id="cb119-1"><a href="https://www.sigbus.info/compilerbook#cb119-1"></a>x = <span class="dv">3</span>;</span>
<span id="cb119-2"><a href="https://www.sigbus.info/compilerbook#cb119-2"></a>y = &amp;x;</span>
<span id="cb119-3"><a href="https://www.sigbus.info/compilerbook#cb119-3"></a><span class="cf">return</span> *y; <span class="co">// 3を返す</span></span></code></pre></div>
<p>また、ローカル変数がメモリ上で連続して割り当てられているということを利用して、スタック上の変数にポインタ経由で間接的に無理やりアクセスすることもできます。以下のコードでは、スタック上の変数<code class="notranslate">y</code>の8バイト上に変数<code class="notranslate">x</code>があることを前提にしています。</p>
<div class="sourceCode" id="cb120"><pre class="sourceCode c notranslate"><code class="sourceCode c notranslate"><span id="cb120-1"><a href="https://www.sigbus.info/compilerbook#cb120-1"></a>x = <span class="dv">3</span>;</span>
<span id="cb120-2"><a href="https://www.sigbus.info/compilerbook#cb120-2"></a>y = <span class="dv">5</span>;</span>
<span id="cb120-3"><a href="https://www.sigbus.info/compilerbook#cb120-3"></a>z = &amp;y + <span class="dv">8</span>;</span>
<span id="cb120-4"><a href="https://www.sigbus.info/compilerbook#cb120-4"></a><span class="cf">return</span> *z; <span class="co">// 3を返す</span></span></code></pre></div>
<p>このようなポインタ型と整数型を区別しない実装では、例えば<code class="notranslate">*4</code>という式はアドレス4から値を読み出す式ということになってしまいますが、それはとりあえずよいということにしましょう。</p>
<p>実装は比較的簡単です。単項<code class="notranslate">&amp;</code>と単項<code class="notranslate">*</code>を追加した文法を以下に示します。この文法に従ってパーサに変更を加えて、単項<code class="notranslate">&amp;</code>と単項<code class="notranslate">*</code>をそれぞれ<code class="notranslate">ND_ADDR</code>と<code class="notranslate">ND_DEREF</code>という型のノードとして読み込むようにしてください。</p>
<div class="sourceCode" id="cb121"><pre class="sourceCode scheme notranslate"><code class="sourceCode scheme notranslate"><span id="cb121-1"><a href="https://www.sigbus.info/compilerbook#cb121-1"></a>unary <span class="op">=</span> <span class="st">"+"</span>? primary</span>
<span id="cb121-2"><a href="https://www.sigbus.info/compilerbook#cb121-2"></a>      | <span class="st">"-"</span>? primary</span>
<span id="cb121-3"><a href="https://www.sigbus.info/compilerbook#cb121-3"></a>      | <span class="st">"*"</span> unary</span>
<span id="cb121-4"><a href="https://www.sigbus.info/compilerbook#cb121-4"></a>      | <span class="st">"&amp;"</span> unary</span></code></pre></div>
<p>コードジェネレータに加える変更はごくわずかです。変更点を以下に示します。</p>
<div class="sourceCode" id="cb122"><pre class="sourceCode c notranslate"><code class="sourceCode c notranslate"><span id="cb122-1"><a href="https://www.sigbus.info/compilerbook#cb122-1"></a>  <span class="cf">case</span> ND_ADDR:</span>
<span id="cb122-2"><a href="https://www.sigbus.info/compilerbook#cb122-2"></a>    gen_lval(node-&gt;lhs);</span>
<span id="cb122-3"><a href="https://www.sigbus.info/compilerbook#cb122-3"></a>    <span class="cf">return</span>;</span>
<span id="cb122-4"><a href="https://www.sigbus.info/compilerbook#cb122-4"></a>  <span class="cf">case</span> ND_DEREF:</span>
<span id="cb122-5"><a href="https://www.sigbus.info/compilerbook#cb122-5"></a>    gen(node-&gt;lhs);</span>
<span id="cb122-6"><a href="https://www.sigbus.info/compilerbook#cb122-6"></a>    printf(<span class="st">"  pop rax</span><span class="sc">\n</span><span class="st">"</span>);</span>
<span id="cb122-7"><a href="https://www.sigbus.info/compilerbook#cb122-7"></a>    printf(<span class="st">"  mov rax, [rax]</span><span class="sc">\n</span><span class="st">"</span>);</span>
<span id="cb122-8"><a href="https://www.sigbus.info/compilerbook#cb122-8"></a>    printf(<span class="st">"  push rax</span><span class="sc">\n</span><span class="st">"</span>);</span>
<span id="cb122-9"><a href="https://www.sigbus.info/compilerbook#cb122-9"></a>    <span class="cf">return</span>;</span></code></pre></div>
<h2 id="ステップ17-暗黙の変数定義を廃止してintというキーワードを導入する"><a href="https://www.sigbus.info/compilerbook#%E3%82%B9%E3%83%86%E3%83%83%E3%83%9717-%E6%9A%97%E9%BB%99%E3%81%AE%E5%A4%89%E6%95%B0%E5%AE%9A%E7%BE%A9%E3%82%92%E5%BB%83%E6%AD%A2%E3%81%97%E3%81%A6int%E3%81%A8%E3%81%84%E3%81%86%E3%82%AD%E3%83%BC%E3%83%AF%E3%83%BC%E3%83%89%E3%82%92%E5%B0%8E%E5%85%A5%E3%81%99%E3%82%8B" style="text-decoration: none; color: inherit;">ステップ17: 暗黙の変数定義を廃止して、intというキーワードを導入する</a></h2>
<p>いままでは変数や関数の返り値はすべて暗黙のうちにintということになっていました。したがってわざわざ<code class="notranslate">int x;</code>というように変数をその型名と一緒に定義することはせず、新しい識別子はすべて新しい変数名だとみなしていました。今後はそのような仮定を置くことはできなくなります。そこで、まずその点を改造します。以下の機能を実装してください。</p>
<ul>
<li>新しい識別子を変数名とみなすのはやめて、定義されていない変数が現れたらエラーにしてください。</li>
<li><code class="notranslate">int x;</code>という形で変数を定義するようにしてください。<code class="notranslate">int x = 3;</code>といった初期化式などはサポートする必要はありません。同様に<code class="notranslate">int x, y;</code>といったものも必要ありません。なるべく単純なものだけを実装します。</li>
<li>関数はいままで<code class="notranslate">foo(x, y)</code>といった形で書いていましたが、これを<code class="notranslate">int foo(int x, int y)</code>といった形になるように改造します。現状、トップレベルは関数定義しかないはずなので、パーザはまず<code class="notranslate">int</code>を読み、そのあとは必ず関数名のはずなのでそれを読み、次に<code class="notranslate">int &lt;引数の名前&gt;</code>という列を読む、ということになります。これ以上難しい構文には対応する必要はないですし、「将来の拡張にそなえて」といった念のためになにかする必要もありません。単純に"int &lt;関数名&gt;(&lt;int &lt;変数名&gt;の繰り返しからなる引数リスト&gt;)"を読むために十分なだけのコードを書いてください。</li>
</ul>
<h2 id="ステップ18-ポインタ型を導入する"><a href="https://www.sigbus.info/compilerbook#%E3%82%B9%E3%83%86%E3%83%83%E3%83%9718-%E3%83%9D%E3%82%A4%E3%83%B3%E3%82%BF%E5%9E%8B%E3%82%92%E5%B0%8E%E5%85%A5%E3%81%99%E3%82%8B" style="text-decoration: none; color: inherit;">ステップ18: ポインタ型を導入する</a></h2>
<h3 id="ポインタを表す型を定義する"><a href="https://www.sigbus.info/compilerbook#%E3%83%9D%E3%82%A4%E3%83%B3%E3%82%BF%E3%82%92%E8%A1%A8%E3%81%99%E5%9E%8B%E3%82%92%E5%AE%9A%E7%BE%A9%E3%81%99%E3%82%8B" style="text-decoration: none; color: inherit;">ポインタを表す型を定義する</a></h3>
<p>このステップでは、いままでは型名に<code class="notranslate">int</code>しか許していなかったのを、<code class="notranslate">int</code>のあとに<code class="notranslate">*</code>が0個以上続く、というものを型名として許すことにします。すなわち<code class="notranslate">int *x</code>や<code class="notranslate">int ***x</code>といった定義を構文解析できるようにします。</p>
<p>「intへのポインタ」といった型はコンパイラの中で無論扱える必要があります。たとえば変数<code class="notranslate">x</code>がintへのポインタだとしたら、コンパイラは式<code class="notranslate">*x</code>はint型だとわからなければいけないわけです。「intへのポインタへのポインタへのポインタ」というように型はいくらでも複雑にできるので、これは固定のサイズの型だけで表すことはできません。</p>
<p>ではどうするかというと、ポインタを使います。今まで変数に対してマップを通して紐付けられている情報は、スタック上のベースポインタ（RBP）からのオフセットだけでした。これに変更を加えて、変数の型を持てるようにしてください。変数の型というのは、大雑把にいうと、次のような構造体になるはずです。</p>
<div class="sourceCode" id="cb123"><pre class="sourceCode c notranslate"><code class="sourceCode c notranslate"><span id="cb123-1"><a href="https://www.sigbus.info/compilerbook#cb123-1"></a><span class="kw">struct</span> Type {</span>
<span id="cb123-2"><a href="https://www.sigbus.info/compilerbook#cb123-2"></a>  <span class="kw">enum</span> { INT, PTR } ty;</span>
<span id="cb123-3"><a href="https://www.sigbus.info/compilerbook#cb123-3"></a>  <span class="kw">struct</span> Type *ptr_to;</span>
<span id="cb123-4"><a href="https://www.sigbus.info/compilerbook#cb123-4"></a>};</span></code></pre></div>
<p>ここで<code class="notranslate">ty</code>はint型か「～へのポインタ」型かという2つの値のどちらかを持つことができます。<code class="notranslate">ptr_to</code>は<code class="notranslate">ty</code>が「～へのポインタ」型であるときのみに意味のあるメンバーで、そのときには、「～」が指すTypeオブジェクトへのポインタを入れておきます。たとえば「intへのポインタ」なら、その型を表すデータ構造は内部的に次のようになるわけです。</p>
<figure>
<img src="data:image/svg+xml;base64,PCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIHdpZHRoPSIyOTdweCIgaGVpZ2h0PSI1NHB4IiB2aWV3Qm94PSItMC41IC0wLjUgMjk3IDU0IiBjb250ZW50PSImbHQ7bXhmaWxlIG1vZGlmaWVkPSZxdW90OzIwMTktMDUtMzBUMTI6Mzg6MDguNzMwWiZxdW90OyBob3N0PSZxdW90O3d3dy5kcmF3LmlvJnF1b3Q7IGFnZW50PSZxdW90O01vemlsbGEvNS4wIChNYWNpbnRvc2g7IEludGVsIE1hYyBPUyBYIDEwXzE0XzUpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS83NC4wLjM3MjkuMTY5IFNhZmFyaS81MzcuMzYmcXVvdDsgdmVyc2lvbj0mcXVvdDsxMC43LjEmcXVvdDsgZXRhZz0mcXVvdDstQlFfM042NjVUYlQtc3ktV0lMbyZxdW90OyB0eXBlPSZxdW90O2dvb2dsZSZxdW90OyZndDsmbHQ7ZGlhZ3JhbSBpZD0mcXVvdDt6NHdRMTFsc0QweXNpSUJDb2RUNSZxdW90OyZndDszVlpOajVzd0VQMDFYQkhnRU9EWVRkTDJVcWxTRG0xUGxRc09XRFVNTXM0QysrdHJZL05oU0tTbzJtNnJnb1E4YjJZODludUR3VUdIc3Z2QWNWMThnb3d3Si9DeXprRkhKd2oyeUpkUEJmUWFDR09rZ1p6VFRFUCtESnpwQ3pHZ1o5QXJ6VWhqQlFvQUptaHRneWxVRlVtRmhXSE9vYlhETHNEc3FqWE95UVk0cDVodDBTODBFNFZHNDlDYjhZK0U1c1ZZMmZlTXA4UmpzQUdhQW1mUUxpQjBjdENCQXdnOUtyc0RZWXE3a1JlZDkvNk9kMW9ZSjVWNEpDSFFDYytZWGMzZVBnT3RCT0ZtZWFJZjk4emhXbVZFcFhrT2Vtb0xLc2k1eHFueXRsSmtpUldpWk5MeTViQVJISDVPM0Nqa1FoazdBQU0reklZdW9icW55SVZuUDF3cUF5cXh3UFVsY2JOaXdnWHA3dTdhbjdpVVBVaWdKSUwzTXNRa3hJYjlzZjNDVWJsMlZqTXlVTEVRY2xRTm0vN0pwNWxuaXVYQXNIeWJjYlJodkJiOHU0RFhKdncrc1grQ3dPanRDTnh0Q0pRTisxKzNxNS84eFg0Tk4zUnZ1Q2FaUEIyTlNkZ1BhRTh6OERRQTBsRUFweStTSTh3VVdHWHYxRGtzOFpUaHBxR3BMWWdraHZkZmpYaUQ4VTBaYmppYXgyN3BQUGJHMGt0VDY3RS9EcGpuUkZqdDh3RDdDM0xERytTT0dDY01DL3BzVjd6RnVLa3dITEFMY2NPMXVQRkt0UWF1UENVbWJYbVdyMmRLUE5mZnljOVFaSjZyZVZIaXpyNGRzb3RvaWpaRmh1NllPSG1vWWZZUE5NemJ5di9QYUwzYnZNZUpHODJhaEwrbmUyVHBHc1RKcXNqZWM0TkZYN3lTN3RLY2YxTjArUHl2aDA2L0FBPT0mbHQ7L2RpYWdyYW0mZ3Q7Jmx0Oy9teGZpbGUmZ3Q7Ij48ZGVmcy8+PGc+PHJlY3QgeD0iNjEuMSIgeT0iMCIgd2lkdGg9IjkxIiBoZWlnaHQ9IjI2IiBmaWxsPSIjZjVmNWY1IiBzdHJva2U9IiM2NjY2NjYiIHN0cm9rZS13aWR0aD0iMS4zIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDgwLjUsNC41KXNjYWxlKDEuMykiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iMzkiIGhlaWdodD0iMTIiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxMnB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogcmdiKDUxLCA1MSwgNTEpOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMzlweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0OyI+UG9pbnRlcjwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSIyMCIgeT0iMTIiIGZpbGw9IiMzMzMzMzMiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTJweCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSI+UG9pbnRlcjwvdGV4dD48L3N3aXRjaD48L2c+PHJlY3QgeD0iNjEuMSIgeT0iMjYiIHdpZHRoPSI5MSIgaGVpZ2h0PSIyNiIgZmlsbD0iI2ZmZmZmZiIgc3Ryb2tlPSIjNjY2NjY2IiBzdHJva2Utd2lkdGg9IjEuMyIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg4NS41LDMwLjUpc2NhbGUoMS4zKSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIzMSIgaGVpZ2h0PSIxMiIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDEycHg7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiAzMXB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7Ij5wdHJfdG88L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iMTYiIHk9IjEyIiBmaWxsPSIjMDAwMDAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjEycHgiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EiPnB0cl90bzwvdGV4dD48L3N3aXRjaD48L2c+PHJlY3QgeD0iMjA0LjEiIHk9IjAiIHdpZHRoPSI5MSIgaGVpZ2h0PSIyNiIgZmlsbD0iI2Y1ZjVmNSIgc3Ryb2tlPSIjNjY2NjY2IiBzdHJva2Utd2lkdGg9IjEuMyIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNDAuNSw0LjUpc2NhbGUoMS4zKSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIxMyIgaGVpZ2h0PSIxMiIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDEycHg7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7IGNvbG9yOiByZ2IoNTEsIDUxLCA1MSk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiAxM3B4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7Ij5pbnQ8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iNyIgeT0iMTIiIGZpbGw9IiMzMzMzMzMiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTJweCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSI+aW50PC90ZXh0Pjwvc3dpdGNoPjwvZz48cGF0aCBkPSJNIDE1Mi4xIDM5IEwgMTY1LjI5IDM5IFEgMTc4LjI5IDM5IDE3OC4yOSAyNiBMIDE3OC4yOSAxOS40MSBRIDE3OC4yOSAxMi44MSAxODcuMTUgMTIuODEgTCAxOTYuMDEgMTIuODEiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjMiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDIwMi44MyAxMi44MSBMIDE5My43MyAxNy4zNiBMIDE5Ni4wMSAxMi44MSBMIDE5My43MyA4LjI2IFoiIGZpbGw9IiMwMDAwMDAiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjMiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDkuMSAxMi43MiBMIDUyLjY0IDEzLjE5IiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4zIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSA1OS40NiAxMy4yNiBMIDUwLjMxIDE3LjcxIEwgNTIuNjQgMTMuMTkgTCA1MC40MSA4LjYyIFoiIGZpbGw9IiMwMDAwMDAiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjMiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48L2c+PC9zdmc+" alt=""><figcaption>intへのポインタを表すデータ構造</figcaption>
</figure>
<p>「intへのポインタへのポインタ」なら次のようになります。</p>
<figure>
<img src="data:image/svg+xml;base64,PCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIHdpZHRoPSI0NDBweCIgaGVpZ2h0PSI1NHB4IiB2aWV3Qm94PSItMC41IC0wLjUgNDQwIDU0IiBjb250ZW50PSImbHQ7bXhmaWxlIG1vZGlmaWVkPSZxdW90OzIwMTktMDUtMzBUMTI6Mzc6MjIuMTI4WiZxdW90OyBob3N0PSZxdW90O3d3dy5kcmF3LmlvJnF1b3Q7IGFnZW50PSZxdW90O01vemlsbGEvNS4wIChNYWNpbnRvc2g7IEludGVsIE1hYyBPUyBYIDEwXzE0XzUpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS83NC4wLjM3MjkuMTY5IFNhZmFyaS81MzcuMzYmcXVvdDsgdmVyc2lvbj0mcXVvdDsxMC43LjEmcXVvdDsgZXRhZz0mcXVvdDtjdlhJT2R0TTYwQXFxMERQM0tUViZxdW90OyB0eXBlPSZxdW90O2dvb2dsZSZxdW90OyZndDsmbHQ7ZGlhZ3JhbSBpZD0mcXVvdDt2TDRjc3lKTVVxa1IyUUpCMjNsciZxdW90OyZndDs3VmROajVzd0VQMDFYQkhFNGV2WXphYnRwVktsSExvOVZTNU1nbFVIUjhaWnlQNzYydGdHSEJKdFdtVjNvMjBUQ1huZWVQeng1bmtNSGxwczIwOGM3OG92ckFEcXpZS2k5ZEM5TjV2RktKUlBCUncwRUtWSUF4dE9DZzJGQTdBaVQyREF3S0I3VWtEdGRCU01VVUYyTHBpenFvSmNPQmptbkRWdXR6V2o3cXc3dklFSnNNb3huYUxmU0NGS2phWlJNT0NmZ1d4S08zTVlHTThXMjg0R3FFdGNzR1lFb2FXSEZwd3hvVnZiZGdGVWNXZDUwWEVmejNqN2hYR294Q1VCTXgzd2lPbmU3TzBySTVVQWJwWW5EbmJQbk8yckFsUlk0S0c3cGlRQ1ZqdWNLMjhqa3l5eFVteXB0RUxackFWbnYzcHVGTEltbEM0WVpid2JEYTBqOWU5N2pqeHg5MU1SckJJalhQOGtibFlNWEVCN2R0ZGh6NlhVSUxBdENINlFYVXhBYXRpMzhvdm5nUi9PWlFJVC9kVGVaa2h0WWdMS1VWWnRDckVSMDZhZlp1QmJOZ3pscCtsSEUvcDNndjhRN05yc24yZjVKZGlNMzRqTitZVE5DWTlReUlOc1RLQS9XYk1jZ0xzT2tJNlNjZklrMVllcEFxdmlneW9aRXM4cHJtdVN1MlJEUzhURHFQMWQ1Y2lQakhYZm1wUjF4c0VhbGR6Wnc5Z1lSU2x6Q09zc0c2ZTNvL2JncEtwbWU1NkRveWlCK1FZTXRkSEZDUjNsS0RxUkk0dHhvRmlRUjNjUnB4Sm5adWhLeXFDWE1Ea1NURG83SlJnN29ONmRHV05jeW82SFRUTy9IMEkrc3lOVm9pT0ZhWW9tNDNZaTZ6bTVTSGZSUDFsRXcreFdxbWo4SHFyb2xNNjNLcVBKaEU1N1JONnJsRkZ3SzFKTy8xOWg5amlQcjdEa3hxNHdxUWxmSHRoNUVwdG41T29uUVlIai83c2JUY3JTVVdINGFqZGFkb0VNbnhQVmRRVnlNNm1mVDBwRjVtZVRIUDFwcWhQMzNTVTlmbm1KQWg4TmZuU2x2RXR6K05UVTNZZnZkYlQ4RFE9PSZsdDsvZGlhZ3JhbSZndDsmbHQ7L214ZmlsZSZndDsiPjxkZWZzLz48Zz48cmVjdCB4PSI2MS4xIiB5PSIwLjE5IiB3aWR0aD0iOTEiIGhlaWdodD0iMjYiIGZpbGw9IiNmNWY1ZjUiIHN0cm9rZT0iIzY2NjY2NiIgc3Ryb2tlLXdpZHRoPSIxLjMiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoODAuNSw0LjUpc2NhbGUoMS4zKSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIzOSIgaGVpZ2h0PSIxMiIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDEycHg7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7IGNvbG9yOiByZ2IoNTEsIDUxLCA1MSk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiAzOXB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7Ij5Qb2ludGVyPC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjIwIiB5PSIxMiIgZmlsbD0iIzMzMzMzMyIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxMnB4IiBmb250LWZhbWlseT0iSGVsdmV0aWNhIj5Qb2ludGVyPC90ZXh0Pjwvc3dpdGNoPjwvZz48cmVjdCB4PSI2MS4xIiB5PSIyNi4xOSIgd2lkdGg9IjkxIiBoZWlnaHQ9IjI2IiBmaWxsPSIjZmZmZmZmIiBzdHJva2U9IiM2NjY2NjYiIHN0cm9rZS13aWR0aD0iMS4zIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDg1LjUsMzAuNSlzY2FsZSgxLjMpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjMxIiBoZWlnaHQ9IjEyIiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTJweDsgZm9udC1mYW1pbHk6IEhlbHZldGljYTsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDMxcHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPnB0cl90bzwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSIxNiIgeT0iMTIiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTJweCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSI+cHRyX3RvPC90ZXh0Pjwvc3dpdGNoPjwvZz48cGF0aCBkPSJNIDE1Mi4yOSAzOS4xOSBMIDE2NS4yOSAzOS4xOSBRIDE3OC4yOSAzOS4xOSAxNzguMjkgMjYuMTkgTCAxNzguMjkgMTkuNjkgUSAxNzguMjkgMTMuMTkgMTg3LjE1IDEzLjE5IEwgMTk2LjAxIDEzLjE5IiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4zIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSAyMDIuODMgMTMuMTkgTCAxOTMuNzMgMTcuNzQgTCAxOTYuMDEgMTMuMTkgTCAxOTMuNzMgOC42NCBaIiBmaWxsPSIjMDAwMDAwIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4zIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHJlY3QgeD0iMjA0LjEiIHk9IjAuMTkiIHdpZHRoPSI5MSIgaGVpZ2h0PSIyNiIgZmlsbD0iI2Y1ZjVmNSIgc3Ryb2tlPSIjNjY2NjY2IiBzdHJva2Utd2lkdGg9IjEuMyIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMjMuNSw0LjUpc2NhbGUoMS4zKSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIzOSIgaGVpZ2h0PSIxMiIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDEycHg7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7IGNvbG9yOiByZ2IoNTEsIDUxLCA1MSk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiAzOXB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7Ij5Qb2ludGVyPC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjIwIiB5PSIxMiIgZmlsbD0iIzMzMzMzMyIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxMnB4IiBmb250LWZhbWlseT0iSGVsdmV0aWNhIj5Qb2ludGVyPC90ZXh0Pjwvc3dpdGNoPjwvZz48cmVjdCB4PSIyMDQuMSIgeT0iMjYuMTkiIHdpZHRoPSI5MSIgaGVpZ2h0PSIyNiIgZmlsbD0iI2ZmZmZmZiIgc3Ryb2tlPSIjNjY2NjY2IiBzdHJva2Utd2lkdGg9IjEuMyIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMjguNSwzMC41KXNjYWxlKDEuMykiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iMzEiIGhlaWdodD0iMTIiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxMnB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMzFweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0OyI+cHRyX3RvPC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjE2IiB5PSIxMiIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxMnB4IiBmb250LWZhbWlseT0iSGVsdmV0aWNhIj5wdHJfdG88L3RleHQ+PC9zd2l0Y2g+PC9nPjxyZWN0IHg9IjM0Ny4xIiB5PSIwLjE5IiB3aWR0aD0iOTEiIGhlaWdodD0iMjYiIGZpbGw9IiNmNWY1ZjUiIHN0cm9rZT0iIzY2NjY2NiIgc3Ryb2tlLXdpZHRoPSIxLjMiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzgzLjUsNC41KXNjYWxlKDEuMykiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iMTMiIGhlaWdodD0iMTIiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxMnB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogcmdiKDUxLCA1MSwgNTEpOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMTNweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0OyI+aW50PC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjciIHk9IjEyIiBmaWxsPSIjMzMzMzMzIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjEycHgiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EiPmludDwvdGV4dD48L3N3aXRjaD48L2c+PHBhdGggZD0iTSAyOTQuOTEgMzkuMTkgTCAzMDcuOTEgMzkuMTkgUSAzMjAuOTEgMzkuMTkgMzIwLjkxIDI2LjE5IEwgMzIwLjkxIDE5LjY5IFEgMzIwLjkxIDEzLjE5IDMyOS43OCAxMy4xOSBMIDMzOC42NCAxMy4xOSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuMyIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gMzQ1LjQ2IDEzLjE5IEwgMzM2LjM2IDE3Ljc0IEwgMzM4LjY0IDEzLjE5IEwgMzM2LjM2IDguNjQgWiIgZmlsbD0iIzAwMDAwMCIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuMyIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gOS4xIDEyLjkxIEwgNTIuNjQgMTMuMzgiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjMiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDU5LjQ2IDEzLjQ1IEwgNTAuMzEgMTcuOSBMIDUyLjY0IDEzLjM4IEwgNTAuNDEgOC44IFoiIGZpbGw9IiMwMDAwMDAiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjMiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48L2c+PC9zdmc+" alt=""><figcaption>intへのポインタのポインタを表すデータ構造</figcaption>
</figure>
<p>このようにすればコンパイラ内部でいくらでも難しい型を表すことができるというわけです。</p>
<h3 id="ポインタが指している値に代入する"><a href="https://www.sigbus.info/compilerbook#%E3%83%9D%E3%82%A4%E3%83%B3%E3%82%BF%E3%81%8C%E6%8C%87%E3%81%97%E3%81%A6%E3%81%84%E3%82%8B%E5%80%A4%E3%81%AB%E4%BB%A3%E5%85%A5%E3%81%99%E3%82%8B" style="text-decoration: none; color: inherit;">ポインタが指している値に代入する</a></h3>
<p>代入式の左辺が単純な変数名ではない式、たとえば<code class="notranslate">*p=3</code>のような式はどのようにコンパイルすればよいのでしょうか？ こういった式も、左辺が単純な変数のときと基本的な概念は変わりません。この場合には、<code class="notranslate">p</code>のアドレスが生成されるように、<code class="notranslate">*p</code>を左辺値としてコンパイルすればよいのです。</p>
<p><code class="notranslate">*p=3</code>を表す構文木をコンパイルするときは、再帰的にツリーを下りながらコード生成していくわけですが、まず最初に呼ばれるのは<code class="notranslate">*p</code>を左辺値としてコンパイルするためのコードジェネレータです。</p>
<p>そのコードジェネレータでは与えられた構文木の型に応じて分岐することになります。単純な変数では前述のとおりその変数のアドレスを出力するコードを出力することになるわけですが、ここではデリファレンス演算子が与えられているので、違った動作をする必要があります。デリファレンス演算子が与えられている場合、その中の構文木を「右辺値」としてコンパイルしてください。そうすると、それは何らかのアドレスを計算するコードにコンパイルされるはずです（そうでなければその結果をデリファレンスすることはできません）。そしてそのアドレスをそのままスタックに残しておけばよいというわけです。</p>
<p>この段階までが完成したら、次のような文をコンパイルできるようになるはずです。</p>
<div class="sourceCode" id="cb124"><pre class="sourceCode c notranslate"><code class="sourceCode c notranslate"><span id="cb124-1"><a href="https://www.sigbus.info/compilerbook#cb124-1"></a><span class="dt">int</span> x;</span>
<span id="cb124-2"><a href="https://www.sigbus.info/compilerbook#cb124-2"></a><span class="dt">int</span> *y;</span>
<span id="cb124-3"><a href="https://www.sigbus.info/compilerbook#cb124-3"></a>y = &amp;x;</span>
<span id="cb124-4"><a href="https://www.sigbus.info/compilerbook#cb124-4"></a>*y = <span class="dv">3</span>;</span>
<span id="cb124-5"><a href="https://www.sigbus.info/compilerbook#cb124-5"></a><span class="cf">return</span> x; <span class="co">// → 3</span></span></code></pre></div>
<h2 id="ステップ19-ポインタの加算と減算を実装する"><a href="https://www.sigbus.info/compilerbook#%E3%82%B9%E3%83%86%E3%83%83%E3%83%9719-%E3%83%9D%E3%82%A4%E3%83%B3%E3%82%BF%E3%81%AE%E5%8A%A0%E7%AE%97%E3%81%A8%E6%B8%9B%E7%AE%97%E3%82%92%E5%AE%9F%E8%A3%85%E3%81%99%E3%82%8B" style="text-decoration: none; color: inherit;">ステップ19: ポインタの加算と減算を実装する</a></h2>
<p>このステップでは、ポインタ型の値<code class="notranslate">p</code>に対して<code class="notranslate">p+1</code>や<code class="notranslate">p-5</code>のような式を書けるようにします。これはただの整数の加算と同じように見えますが、実際には結構異なる演算です。<code class="notranslate">p+1</code>は、<code class="notranslate">p</code>が持っているアドレスに1を足す、という意味ではなくて、<code class="notranslate">p</code>の次の要素を指すポインタにする、という意味なので、ポインタが指しているデータ型の幅を<code class="notranslate">p</code>に足してやらなければいけないわけです。たとえば<code class="notranslate">p</code>がintを指している場合、我々のABIでは、<code class="notranslate">p+1</code>はアドレスのバイト数としては4を足すことになります。一方で<code class="notranslate">p</code>がintへのポインタへのポインタである場合、<code class="notranslate">p+1</code>は8を足すことになります。</p>
<p>したがってポインタの加減算では、型のサイズを知る方法が必要になりますが、現状ではintなら4、ポインタなら8なので、そのように決め打ちでコードを書いてください。</p>
<p>この段階ではまだ連続してメモリをアロケートする方法がないので（我々のコンパイラにはまだ配列がない）、テストを書くのはちょっと大変です。ここは単に外部のコンパイラの助けを借りて、そちらのほうでmallocすることにして、自分のコンパイラの出力ではそのヘルパー関数を使ってテストを書くようにしてみてください。例えばこんな感じでテストできるでしょう。</p>
<div class="sourceCode" id="cb125"><pre class="sourceCode c notranslate"><code class="sourceCode c notranslate"><span id="cb125-1"><a href="https://www.sigbus.info/compilerbook#cb125-1"></a><span class="dt">int</span> *p;</span>
<span id="cb125-2"><a href="https://www.sigbus.info/compilerbook#cb125-2"></a>alloc4(&amp;p, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">8</span>);</span>
<span id="cb125-3"><a href="https://www.sigbus.info/compilerbook#cb125-3"></a><span class="dt">int</span> *q;</span>
<span id="cb125-4"><a href="https://www.sigbus.info/compilerbook#cb125-4"></a>q = p + <span class="dv">2</span>;</span>
<span id="cb125-5"><a href="https://www.sigbus.info/compilerbook#cb125-5"></a>*q;  <span class="co">// → 4</span></span>
<span id="cb125-6"><a href="https://www.sigbus.info/compilerbook#cb125-6"></a>q = p + <span class="dv">3</span>;</span>
<span id="cb125-7"><a href="https://www.sigbus.info/compilerbook#cb125-7"></a><span class="cf">return</span> *q;  <span class="co">// → 8</span></span></code></pre></div>
<div class="note">
<p>コラム: intやlongのサイズ</p>
<p>x86-64 System V ABIのような、intが32ビット、longとポインタが64ビットのデータモデルのことを、LP64といいます。これはlongとpointerが64ビットという意味です。同じx86-64上のABIでも、WindowsはLLP64、すなわちintやlongは32ビットで、long longとポインタが64ビットというデータモデルを採用しています。</p>
<p>LP64とLLP64はlongのサイズが異なっているのでABI互換性がありません。たとえばlongのメンバを含む構造体を作って、構造体全体をそのままファイルに書き出して、読み込むときはファイル上のデータをその構造体に直接キャストして扱っているといった場合、UnixとWindowsでファイルを相互に渡して読むことはできません。</p>
<p>Cの仕様では、intは「そのマシンで自然な整数のサイズ」（A "plain" int object has the natural size suggested by the architecture of the execution environmen）と定められています。そう言われると64ビットマシンではintを64ビットにしなければいけない感じがしますが、何が自然かというのは主観的な問題ですし、64ビットマシンでも普通は32ビット演算は自然に扱えるので、64ビットマシンでもintを32ビットにするというのはあながち間違ってはいません。それに現実的に考えると、intを64ビットにすると次のような問題が生じます。</p>
<ul>
<li>intに64ビットもの大きさが必要なケースは少ないので、intを64ビットにすると単にメモリが無駄になる</li>
<li>shortが16ビット、intとlongが64ビットということにすると、32ビット整数を表す型がなくなってしまう</li>
</ul>
<p>上記のような理由で、現存するほとんどの64ビットマシンではintは32ビットになっています。とはいえintが64ビットのILP64も存在はします。たとえば昔のCrayのスーパーコンピュータはILP64だったそうです。</p>
</div>
<h2 id="ステップ20-sizeof演算子"><a href="https://www.sigbus.info/compilerbook#%E3%82%B9%E3%83%86%E3%83%83%E3%83%9720-sizeof%E6%BC%94%E7%AE%97%E5%AD%90" style="text-decoration: none; color: inherit;">ステップ20: sizeof演算子</a></h2>
<p><code class="notranslate">sizeof</code>は、見た目は関数のようですが、文法的には単項の演算子です。Cではほとんどの演算子は記号ですが、文法的には演算子を記号にしなければいけない理由は特になく、実際に<code class="notranslate">sizeof</code>はその例外になっています。</p>
<p><code class="notranslate">sizeof</code>演算子の動作をちょっと復習してみましょう。<code class="notranslate">sizeof</code>は引数の式の型がメモリ上で何バイトなのかを返す演算子です。例えば我々のABIでは、<code class="notranslate">sizeof(x)</code>は、<code class="notranslate">x</code>が<code class="notranslate">int</code>ならば4、<code class="notranslate">x</code>がポインタなら8を返します。<code class="notranslate">sizeof</code>の引数には任意の式を書くことができて、例えば<code class="notranslate">sizeof(x+3)</code>は、<code class="notranslate">x+3</code>という式の型が全体としてintならば4、ポインタならば8を返すことになります。</p>
<p>我々のコンパイラにはまだ配列はありませんが、<code class="notranslate">sizeof(x)</code>は、<code class="notranslate">x</code>が配列ならば<code class="notranslate">x</code>全体のサイズをバイト数として返すことになります。例えば<code class="notranslate">x</code>が<code class="notranslate">int x[10]</code>というように定義されている場合、<code class="notranslate">sizeof(x)</code>は40を返します。<code class="notranslate">x</code>が<code class="notranslate">int x[5][10]</code>というように定義されている場合、<code class="notranslate">sizeof(x)</code>は200、<code class="notranslate">sizeof(x[0])</code>は40、<code class="notranslate">sizeof(x[0][0])</code>は4になります。</p>
<p><code class="notranslate">sizeof</code>演算子の引数は、型を知るために書かれているだけで、実際に実行される式ではありません。例えば<code class="notranslate">sizeof(x[3])</code>という式を書いても、<code class="notranslate">x[3]</code>へのアクセスは実際には発生しません。<code class="notranslate">x[3]</code>という式の型が全体として何であるかはコンパイル時にわかるので、<code class="notranslate">sizeof(x[3])</code>という式は、コンパイル時にその型のサイズに置き換えられることになります。したがって<code class="notranslate">x[3]</code>といった<code class="notranslate">sizeof</code>に与えられた具体的な式は実行時には存在しなくなっています。</p>
<p><code class="notranslate">sizeof</code>の動作を下に示します。</p>
<div class="sourceCode" id="cb126"><pre class="sourceCode c notranslate"><code class="sourceCode c notranslate"><span id="cb126-1"><a href="https://www.sigbus.info/compilerbook#cb126-1"></a><span class="dt">int</span> x;</span>
<span id="cb126-2"><a href="https://www.sigbus.info/compilerbook#cb126-2"></a><span class="dt">int</span> *y;</span>
<span id="cb126-3"><a href="https://www.sigbus.info/compilerbook#cb126-3"></a></span>
<span id="cb126-4"><a href="https://www.sigbus.info/compilerbook#cb126-4"></a><span class="kw">sizeof</span>(x); <span class="co">// 4</span></span>
<span id="cb126-5"><a href="https://www.sigbus.info/compilerbook#cb126-5"></a><span class="kw">sizeof</span>(y); <span class="co">// 8</span></span>
<span id="cb126-6"><a href="https://www.sigbus.info/compilerbook#cb126-6"></a></span>
<span id="cb126-7"><a href="https://www.sigbus.info/compilerbook#cb126-7"></a><span class="kw">sizeof</span>(x + <span class="dv">3</span>); <span class="co">// 4</span></span>
<span id="cb126-8"><a href="https://www.sigbus.info/compilerbook#cb126-8"></a><span class="kw">sizeof</span>(y + <span class="dv">3</span>); <span class="co">// 8</span></span>
<span id="cb126-9"><a href="https://www.sigbus.info/compilerbook#cb126-9"></a><span class="kw">sizeof</span>(*y);    <span class="co">// 4</span></span>
<span id="cb126-10"><a href="https://www.sigbus.info/compilerbook#cb126-10"></a></span>
<span id="cb126-11"><a href="https://www.sigbus.info/compilerbook#cb126-11"></a><span class="co">// sizeofに渡す式は何でもよい</span></span>
<span id="cb126-12"><a href="https://www.sigbus.info/compilerbook#cb126-12"></a><span class="kw">sizeof</span>(<span class="dv">1</span>); <span class="co">// 4</span></span>
<span id="cb126-13"><a href="https://www.sigbus.info/compilerbook#cb126-13"></a></span>
<span id="cb126-14"><a href="https://www.sigbus.info/compilerbook#cb126-14"></a><span class="co">// sizeofの結果は現在int型なのでsizeof(int)と同じ</span></span>
<span id="cb126-15"><a href="https://www.sigbus.info/compilerbook#cb126-15"></a><span class="kw">sizeof</span>(<span class="kw">sizeof</span>(<span class="dv">1</span>)); <span class="co">// 4</span></span></code></pre></div>
<p>さて、この<code class="notranslate">sizeof</code>演算子を実装してみましょう。<code class="notranslate">sizeof</code>演算子を実装するためには、トークナイザとパーサの両方に手を入れることになります。</p>
<p>まず、トークナイザに変更を加えて、<code class="notranslate">sizeof</code>というキーワードを<code class="notranslate">TK_SIZEOF</code>という型のトークンとして認識するようにしてください。</p>
<p>次にパーサに変更を加えて、<code class="notranslate">sizeof</code>を<code class="notranslate">int</code>型の定数に置き換えてしまいます。<code class="notranslate">sizeof</code>演算子を追加した文法を以下に示します。以下の文法において、<code class="notranslate">sizeof</code>は単項演算子で、単項プラスや単項マイナスと同じ優先順位を持つという定義になっています。これはCの文法と同じです。</p>
<div class="sourceCode" id="cb127"><pre class="sourceCode scheme notranslate"><code class="sourceCode scheme notranslate"><span id="cb127-1"><a href="https://www.sigbus.info/compilerbook#cb127-1"></a>unary <span class="op">=</span> <span class="st">"sizeof"</span> unary</span>
<span id="cb127-2"><a href="https://www.sigbus.info/compilerbook#cb127-2"></a>      | (<span class="st">"+"</span> | <span class="st">"-"</span>)? primary</span></code></pre></div>
<p>この文法では、<code class="notranslate">sizeof(x)</code>だけではなく<code class="notranslate">sizeof x</code>のような書き方も文法上許されることになりますが、実際のCでもそれは同じです。</p>
<p>パーサでは、<code class="notranslate">sizeof</code>演算子が出現したら、その引数になっている式を通常通りにパースして、その結果の構文木に紐づいている型が<code class="notranslate">int</code>ならば4、ポインタならば8という数に置き換えるようにしてください。パーサで定数に置き換えてしまうのでコード生成木には変更を加える必要はありません。</p>
<h2 id="ステップ21-配列を実装する"><a href="https://www.sigbus.info/compilerbook#%E3%82%B9%E3%83%86%E3%83%83%E3%83%9721-%E9%85%8D%E5%88%97%E3%82%92%E5%AE%9F%E8%A3%85%E3%81%99%E3%82%8B" style="text-decoration: none; color: inherit;">ステップ21: 配列を実装する</a></h2>
<h3 id="配列型を定義する"><a href="https://www.sigbus.info/compilerbook#%E9%85%8D%E5%88%97%E5%9E%8B%E3%82%92%E5%AE%9A%E7%BE%A9%E3%81%99%E3%82%8B" style="text-decoration: none; color: inherit;">配列型を定義する</a></h3>
<p>このステップでは配列を実装します。この段階まではレジスタに入る大きさのデータしか扱ってきていませんでしたが、今回初めてそれより大きなデータが登場します。</p>
<p>とはいえCの文法は配列については抑制的です。関数の引数として配列を渡したり、関数の返り値として配列を返したりすることはできません。そういう意図のコードを書くと、配列そのものが値渡しされるのではなく、その配列を指すポインタが自動的に作られてそれが渡されることになります。配列に配列を直接代入してコピーする、といったこともサポートされていません（memcpyを使わないといけない）。</p>
<p>したがって、レジスタに入らないデータを関数や変数の間でやり取りする必要はありません。1ワードより大きいメモリ領域をスタック上に割り当てる機能があれば十分です。</p>
<p>次のような変数定義を読み込めるようにしてください。</p>
<div class="sourceCode" id="cb128"><pre class="sourceCode c notranslate"><code class="sourceCode c notranslate"><span id="cb128-1"><a href="https://www.sigbus.info/compilerbook#cb128-1"></a><span class="dt">int</span> a[<span class="dv">10</span>];</span></code></pre></div>
<p>上記のaの型は配列であり、その配列は長さが10で、要素の型はintです。ポインタ型と同様、配列の型もいくらでも複雑にできるので、ステップ7と同じように、ptr_toで配列の要素の型は指し示すようにします。型を表す構造体は次のようになるはずです。</p>
<div class="sourceCode" id="cb129"><pre class="sourceCode c notranslate"><code class="sourceCode c notranslate"><span id="cb129-1"><a href="https://www.sigbus.info/compilerbook#cb129-1"></a><span class="kw">struct</span> Type {</span>
<span id="cb129-2"><a href="https://www.sigbus.info/compilerbook#cb129-2"></a>  <span class="kw">enum</span> { INT, PTR, ARRAY } ty;</span>
<span id="cb129-3"><a href="https://www.sigbus.info/compilerbook#cb129-3"></a>  <span class="kw">struct</span> Type *ptr_to;</span>
<span id="cb129-4"><a href="https://www.sigbus.info/compilerbook#cb129-4"></a>  <span class="dt">size_t</span> array_size;</span>
<span id="cb129-5"><a href="https://www.sigbus.info/compilerbook#cb129-5"></a>};</span></code></pre></div>
<p>ここで<code class="notranslate">array_size</code>は配列型のときにのみ意味のあるフィールドで、配列の要素数を持つ変数です。</p>
<p>ここまでできれば配列のための領域をスタックにアロケートするのは簡単にできるはずです。配列のバイト単位での大きさを求めるためには、配列の要素のバイト単位での大きさと配列の要素数をかければいいだけです。いままではすべての変数を1ワードとしてスタック領域を確保していたはずですが、それを変更して、配列は配列に必要な大きさを確保するようにしてください。</p>
<h3 id="配列からポインタへの暗黙の型変換を実装する"><a href="https://www.sigbus.info/compilerbook#%E9%85%8D%E5%88%97%E3%81%8B%E3%82%89%E3%83%9D%E3%82%A4%E3%83%B3%E3%82%BF%E3%81%B8%E3%81%AE%E6%9A%97%E9%BB%99%E3%81%AE%E5%9E%8B%E5%A4%89%E6%8F%9B%E3%82%92%E5%AE%9F%E8%A3%85%E3%81%99%E3%82%8B" style="text-decoration: none; color: inherit;">配列からポインタへの暗黙の型変換を実装する</a></h3>
<p>配列とポインタはよく組み合わせて使われるので、Cでは構文上、ポインタと配列をあまり区別せずともなんとなく動くようになっているのですが、それが裏目に出て、配列とポインタの関係がどうなっているのか、プログラマにとってわかりにくくなってしまっているようです。そこでここでは配列とポインタの関係について説明をします。</p>
<p>まずCにおいては配列とポインタは完全に別々の型です。</p>
<p>ポインタは（x86-64では）8バイトの値の型です。intに対して+や-といった演算子が定義されているように、ポインタに対しても+や-が（やや異なる形で）定義されています。ポインタにはそれに加えて、単項<code class="notranslate">*</code>演算子が定義されていて、それを使うことでポインタの指している先を参照することができます。単項<code class="notranslate">*</code>を除けばポインタにはそれほど特別なことはないといってよいでしょう。言ってみればポインタはintのような普通の型です。</p>
<p>一方で配列は何バイトにでもなりうる型です。ポインタとは異なり、配列に対しては演算子がほとんど定義されていません。定義されている演算子は、配列のサイズを返す<code class="notranslate">sizeof</code>演算子と、配列の先頭の要素のポインタを返す&amp;演算子だけです。それ以外、配列に対して適用できる演算子はありません。</p>
<p>ではなぜ<code class="notranslate">a[3]</code>のような式がコンパイルできるのでしょうか？ Cでは、<code class="notranslate">a[3]</code>は<code class="notranslate">*(a+3)</code>と等価であるものとして定義されています。配列に対して+演算子は定義されていないのではなかったのでしょうか？</p>
<p>ここで配列が暗黙のうちにポインタに変換される、という文法が効いてくることになります。<code class="notranslate">sizeof</code>か単項<code class="notranslate">&amp;</code>のオペランドとして使われるとき以外、配列は、その配列の先頭要素を指すポインタに暗黙のうちに変換されるということになっているのです。したがって、<code class="notranslate">*(a+3)</code>は、配列aの先頭要素を指すポインタに3を足したものをデリファレンスする、という式になり、それは結果的に配列の3番目の要素をアクセスするのと同じ意味になります。</p>
<p>Cにおいては配列アクセスのための<code class="notranslate">[]</code>演算子というものはありません。Cの<code class="notranslate">[]</code>は、ポインタ経由で配列の要素にアクセスするための簡便な記法にすぎないのです。</p>
<p>同様に、関数引数として配列を渡すとその配列の先頭要素へのポインタになったり、ポインタに対して配列を直接代入しているかのような書き方ができたりしますが、それも上記のような理由によります。</p>
<p>というわけで、コンパイラは、ほとんどの演算子の実装において、配列をポインタに型変換するということを行わなければなりません。これは実装するのはさほど難しくはないでしょう。<code class="notranslate">sizeof</code>と単項<code class="notranslate">&amp;</code>を実装している場合を除き、演算子のオペランドをパーズしたら、その型がTの配列だったらTへのポインタということにしてしまう、とすればよいはずです。コードジェネレータでは、配列型の値は、その値のアドレスをスタックにプッシュするというコードを生成すればよいはずです。</p>
<p>ここまで完成すれば、次のようなコードが動くようになるはずです。</p>
<div class="sourceCode" id="cb130"><pre class="sourceCode c notranslate"><code class="sourceCode c notranslate"><span id="cb130-1"><a href="https://www.sigbus.info/compilerbook#cb130-1"></a><span class="dt">int</span> a[<span class="dv">2</span>];</span>
<span id="cb130-2"><a href="https://www.sigbus.info/compilerbook#cb130-2"></a>*a = <span class="dv">1</span>;</span>
<span id="cb130-3"><a href="https://www.sigbus.info/compilerbook#cb130-3"></a>*(a + <span class="dv">1</span>) = <span class="dv">2</span>;</span>
<span id="cb130-4"><a href="https://www.sigbus.info/compilerbook#cb130-4"></a><span class="dt">int</span> *p;</span>
<span id="cb130-5"><a href="https://www.sigbus.info/compilerbook#cb130-5"></a>p = a;</span>
<span id="cb130-6"><a href="https://www.sigbus.info/compilerbook#cb130-6"></a><span class="cf">return</span> *p + *(p + <span class="dv">1</span>)  <span class="co">// → 3</span></span></code></pre></div>
<div id="language_lawyer" class="note">
<p>コラム: 言語弁護士</p>
<p>フォーマルな言語仕様をよく理解している人のことを、言語仕様を法律に見立てて、「<span class="index" id="index76">言語弁護士</span>」（language lawyer）ということがあります。プログラマの俗語辞典「ジャーゴン・ファイル」では、言語弁護士は次のように説明されています<a href="https://www.sigbus.info/compilerbook#fn6" class="footnote-ref" id="fnref6" role="doc-noteref"><sup>6</sup></a>。</p>
<ul>
<li>言語弁護士［名詞］: 経験豊富な、あるいはシニアなソフトウェアエンジニアのうち、1つ以上のプログラミング言語について、（ほぼ）すべての有益および奇妙な機能とその限界について精通している人物のこと。ある人物が言語弁護士かどうかは、質問に対して、200ページ以上のマニュアルに散らばった5つの文を示して「ここを見ればよかったのに」と答えられるかどうかで判別できる。</li>
</ul>
<p>Language lawyerという単語は、動詞として使ってlanguage lawyering（言語弁護士する）ということもあります。</p>
<p>熟練の言語弁護士は他のプログラマから一目置かれることが多いようです。筆者がGoogleのC++コンパイラチームで働いていた時には、チームに究極の言語弁護士というべき人がいて、C++でわからないことがあったときは、彼に訊いてみようという結論になることがよくありました（C++コンパイラを作っている人にもC++の仕様にはわからないところがたくさんあります）。実際、彼はメジャーなC++コンパイラのClangの主要な部分を実装した人で、C++仕様書の筆頭著者でもあり、C++に関して世界最高レベルに詳しい人物でしたが、その彼でも「C++はわかったと思ったらよくわからなくなる」と言っていたので、C++の言語仕様の巨大さと細部の複雑さは相当なものだなと思った記憶があります。</p>
<p>本書では、コンパイラの完成度が高まるまで、意図的にCの言語仕様の詳細に深入りしないようにしています。それには理由があります。仕様の存在するプログラミング言語を実装する場合、ある程度は言語弁護士になる必要があるものの、最初からあまり細かい点を気にしすぎるのは開発手法として望ましくないからです。絵を描くときに、一箇所だけを細かく描き込むのではなく、全体のラフなスケッチをまず完成させるように、プログラミング言語を実装している場合、最初はあまり言語弁護士しすぎないようにバランスを保ちつつ開発していく必要があります。</p>
</div>
<h2 id="ステップ22-配列の添字を実装する"><a href="https://www.sigbus.info/compilerbook#%E3%82%B9%E3%83%86%E3%83%83%E3%83%9722-%E9%85%8D%E5%88%97%E3%81%AE%E6%B7%BB%E5%AD%97%E3%82%92%E5%AE%9F%E8%A3%85%E3%81%99%E3%82%8B" style="text-decoration: none; color: inherit;">ステップ22: 配列の添字を実装する</a></h2>
<p>Cでは <code class="notranslate">x[y]</code>は<code class="notranslate">*(x+y)</code>と等価であるものとして定義されています。したがって添字の実装は比較的簡単です。単純に<code class="notranslate">x[y]</code>をパーザの中で<code class="notranslate">*(x+y)</code>として読み換えるようにしてください。たとえば<code class="notranslate">a[3]</code>は<code class="notranslate">*(a+3)</code>になります。</p>
<p>この文法では、<code class="notranslate">3[a]</code>は<code class="notranslate">*(3+a)</code>に展開されるので、<code class="notranslate">a[3]</code>が動くなら<code class="notranslate">3[a]</code>も動くはずですが、なんとCでは<code class="notranslate">3[a]</code>のような式は実際に合法です。試してみてください。</p>
<h2 id="ステップ23-グローバル変数を実装する"><a href="https://www.sigbus.info/compilerbook#%E3%82%B9%E3%83%86%E3%83%83%E3%83%9723-%E3%82%B0%E3%83%AD%E3%83%BC%E3%83%90%E3%83%AB%E5%A4%89%E6%95%B0%E3%82%92%E5%AE%9F%E8%A3%85%E3%81%99%E3%82%8B" style="text-decoration: none; color: inherit;">ステップ23: グローバル変数を実装する</a></h2>
<p>そろそろリテラルの文字列をプログラムに書けるようにしたいところです。Cではリテラルの文字列はcharの配列です。すでに配列は実装しているからよいのですが、リテラルの文字列はスタック上に存在している値ではない、という点が違います。文字列リテラルは、スタック上ではなく、メモリ上の固定の位置に存在しているわけです。したがって、文字列リテラルを実装するために、まずグローバル変数を足すことにします。</p>
<p>いままではトップレベルには関数定義しか許していなかったはずです。その文法を変更して、トップレベルにグローバル変数を書けるようにします。</p>
<p>変数定義は関数定義と見た目が似ているので構文解析はややトリッキーです。たとえば次の4つの定義を比べてみてください。</p>
<div class="sourceCode" id="cb131"><pre class="sourceCode c notranslate"><code class="sourceCode c notranslate"><span id="cb131-1"><a href="https://www.sigbus.info/compilerbook#cb131-1"></a><span class="dt">int</span> *foo;</span>
<span id="cb131-2"><a href="https://www.sigbus.info/compilerbook#cb131-2"></a><span class="dt">int</span> foo[<span class="dv">10</span>];</span>
<span id="cb131-3"><a href="https://www.sigbus.info/compilerbook#cb131-3"></a><span class="dt">int</span> *foo() {}</span>
<span id="cb131-4"><a href="https://www.sigbus.info/compilerbook#cb131-4"></a><span class="dt">int</span> foo() {}</span></code></pre></div>
<p>上の2つのfooは変数定義で、下の2つは関数定義ですが、その2つは、関数名あるいは変数名になる識別子まで到達して、その次のトークンを読んでみるまで区別がつきません。したがって、まず「型名の前半を読む」関数を呼び、そのあとに識別子が来ているはずなのでそれを読み、それからトークンを1つ先読みしてみる必要があります。先読みしたトークンが"("なら関数定義を読んでいた、ということになりますし、そうでなければ変数定義を読んでいた、ということになります。</p>
<p>パースしたグローバル変数の名前はマップにいれて、名前でルックアップできるようにしてください。変数名がローカル変数として解決できなかった場合に限り、グローバル変数として解決を試みます。これによりローカル変数が同名のグローバル変数を隠すという動きが自然に実装できます。</p>
<p>パーザでは、ローカル変数の参照とグローバル変数の参照は抽象構文木の別のノードに変換します。パースの段階で名前が解決できるので、その段階でタイプも分けてしまうというわけです。</p>
<p>いままではすべての変数がスタックにあったはずなので、変数の読み書きはRBP（ベースポインタ）からの相対で行なっていました。グローバル変数はスタック上にある値ではなく、メモリ上の固定の位置にある値なので、そのアドレスに直接アクセスするようにコンパイルします。<a href="https://godbolt.org/g/c9gyca">実際のgccの出力</a>を参考にしてみてください。</p>
<p>実装してみると、ローカル変数とグローバル変数がかなり異なるものであることにびっくりするはずです。見た目上区別することなく書くことができるのは、C言語がうまく抽象化しているからですね。ローカル変数とグローバル変数は、実は内部ではかなり違うように実装されているのです。</p>
<h2 id="ステップ24-文字型を実装する"><a href="https://www.sigbus.info/compilerbook#%E3%82%B9%E3%83%86%E3%83%83%E3%83%9724-%E6%96%87%E5%AD%97%E5%9E%8B%E3%82%92%E5%AE%9F%E8%A3%85%E3%81%99%E3%82%8B" style="text-decoration: none; color: inherit;">ステップ24: 文字型を実装する</a></h2>
<p>配列は1ワードより大きくなりうる型でしたが、文字は1ワードより小さな型です。みなさんは、このステップに至るまでに、型を表すオブジェクトを受け取って、その型のサイズのバイト数を返す関数を書く必要があったと思います。まずは文字という型を足し、そのあとにその関数に変更を加え、文字型に対して1を返すようにしてください。</p>
<p>このステップではリテラルの文字（シングルクオートでくくられた文字）を実装する必要はありません。一気に実装したくなる気持ちは抑えてなるべく小さな変更にとどめます。</p>
<p>したがってこのステップでは文字というのは本当にただの小さな整数型です。<code class="notranslate">movsx ecx, BYTE PTR [rax]</code>というようにすると、RAXが指しているアドレスから1バイトを読み込んでECXに入れることができます。符号拡張が不要な場合は<code class="notranslate">movzx ecx, BYTE PTR [rax]</code>というように<code class="notranslate">movzx</code>命令を使ってください。書き出す時には<code class="notranslate">mov [rax], cl</code>というように、ソースのレジスタとして8ビットレジスタを使います。</p>
<p><a href="https://godbolt.org/g/Fep9TQ">実際のコンパイラの出力</a>を参考にしてください。</p>
<p>このステップが実装できれば、次のようなコードが動くようになるはずです。</p>
<div class="sourceCode" id="cb132"><pre class="sourceCode c notranslate"><code class="sourceCode c notranslate"><span id="cb132-1"><a href="https://www.sigbus.info/compilerbook#cb132-1"></a><span class="dt">char</span> x[<span class="dv">3</span>];</span>
<span id="cb132-2"><a href="https://www.sigbus.info/compilerbook#cb132-2"></a>x[<span class="dv">0</span>] = -<span class="dv">1</span>;</span>
<span id="cb132-3"><a href="https://www.sigbus.info/compilerbook#cb132-3"></a>x[<span class="dv">1</span>] = <span class="dv">2</span>;</span>
<span id="cb132-4"><a href="https://www.sigbus.info/compilerbook#cb132-4"></a><span class="dt">int</span> y;</span>
<span id="cb132-5"><a href="https://www.sigbus.info/compilerbook#cb132-5"></a>y = <span class="dv">4</span>;</span>
<span id="cb132-6"><a href="https://www.sigbus.info/compilerbook#cb132-6"></a><span class="cf">return</span> x[<span class="dv">0</span>] + y;  <span class="co">// → 3</span></span></code></pre></div>
<div class="note">
<p>コラム: 8ビットレジスタと32ビットレジスタの違い</p>
<p>なぜ1バイトの値を読み込むときにmovsxやmovzxを使う必要があるのでしょうか？ 4バイトの値を読み込む時は、EAXのような下位32ビットのエイリアスのレジスタに普通のmovで読み込むだけでよかったので、charを読み込むときには、普通のmovでALにロードするだけでよさそうです。しかしそれではきちんと動きません。この謎の答えはx86-64の仕様にあります。</p>
<p>x86-64では、下位32ビットのエイリアスのレジスタに読み込むと上位32ビットは0にリセットされます。しかし、下位8ビットのエイリアスのレジスタに読み込むときには、上位56ビットは以前の値がそのまま入ったままになります。これは一貫していない仕様ですが、x86-64は歴史が長い命令セットなので、こういった不一致はいろいろなところに存在しています。</p>
<p>x86-64は8086という16ビットプロセッサから、32ビット、64ビットと進化してきたので、まずALがあり、EAXができて、そのあとRAXができました。つまりALにロードしたときは、EAXの上位24ビットはリセットしない（そのままになる）という仕様がもともと存在していて、それを64ビットに拡張したとき、EAXにロードしたときはRAXの上位32ビットはリセットする、という仕様を策定したはずです。なぜこういう一貫性を損なう仕様にしたかというと、きちんと理由があります。</p>
<p>現代のプロセッサでは命令の依存関係をみて、無関係の命令（前の命令の結果を使っていない命令）はどんどん並列に実行していくようになっています。ここで仮に上位32ビットをリセットしない、という命令セットにしたとして、単にゴミとして上位32ビットも存在しているけど最後まで無視して下位32ビットだけを使い続ける、といったプログラミングスタイルにすると、結局のところ無視される上位32ビットを生成した命令と、その後に続く、同じレジスタを使っている命令の間に偽の依存関係が生じてしまうことになります。上位32ビットを符号拡張してリセットする仕様にすると、以前の値は完全に上書きされるので、依存関係を断ち切ることができます。そのためにx86を64ビット化するときには、一貫性を損なうのは承知の上で高速化しやすい仕様に決めたのです。</p>
</div>
<h2 id="ステップ25-文字列リテラルを実装する"><a href="https://www.sigbus.info/compilerbook#%E3%82%B9%E3%83%86%E3%83%83%E3%83%9725-%E6%96%87%E5%AD%97%E5%88%97%E3%83%AA%E3%83%86%E3%83%A9%E3%83%AB%E3%82%92%E5%AE%9F%E8%A3%85%E3%81%99%E3%82%8B" style="text-decoration: none; color: inherit;">ステップ25: 文字列リテラルを実装する</a></h2>
<p>このステップではダブルクオートでくくられた文字列をパースしてコンパイルできるようにします。配列とグローバル変数、文字型という必要なパーツが揃ったので、比較的簡単に実装できると思います。</p>
<p>まずはトークナイザに手を入れて、ダブルクオートを見つけたら、次のダブルクオートまで読んで文字列トークンを作成するようにしてください。このステップではバックスラッシュによるエスケープなどは実装する必要はありません。ステップバイステップで行くのが重要なので、簡単に実装できそうに思えても、しないようにしてみてください。</p>
<p>文字列リテラルのデータを表すアセンブリのコードは、CPUに実行されるマシンのコードを生成している途中に出力することはできません。出力されるアセンブリでは、グローバルなデータと、コードは、混ぜずに書く必要があります。つまり、コードを出力するときには、コード中に出現していたすべての文字列リテラルをまず出力してしまいたいわけですが、そのために構文木をくだるのは面倒です。これをするためには、今までに見た文字列リテラルがすべて入っているベクタというのを用意して、パーザが文字列をみるたびにそれに単に足して行くようにするのが簡単でしょう。</p>
<p><a href="https://godbolt.org/g/gFB9CZ">実際のコンパイラの出力</a>を参考にしてください。</p>
<p>ここまでくると<code class="notranslate">printf</code>で文字列を出力することも可能になっているはずです。自分で作ったプログラミング言語を使って、テストコードのような自明なものではなく、もうちょっと凝ったプログラムを書いてみるよい機会です。たとえば8クイーン問題のソルバーなどは自作言語で書けるのではないでしょうか？ 人類はデジタルコンピュータの発明から、このレベルで簡単にコードが書けるプログラミング言語の開発まで、何十年もかかりました。それが数週間で実装できるのは人類の、そしてあなたの素晴らしい進歩です。</p>
<p>（可変長引数を取る関数を呼ぶときは、浮動小数点数の引数の個数をALに入れておく、ということになっています。我々のコンパイラにはまだ浮動小数点数がありません。したがって、関数を呼ぶ前に常にALに0をセットするようにしましょう。）</p>
<h2 id="ステップ26-入力をファイルから読む"><a href="https://www.sigbus.info/compilerbook#%E3%82%B9%E3%83%86%E3%83%83%E3%83%9726-%E5%85%A5%E5%8A%9B%E3%82%92%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%8B%E3%82%89%E8%AA%AD%E3%82%80" style="text-decoration: none; color: inherit;">ステップ26: 入力をファイルから読む</a></h2>
<p>ここまでは引数の文字列に直接Cコードを渡していましたが、次第に入力が長くなってきているので、そろそろ普通のCコンパイラのようにコマンドライン引数としてファイル名を取るように改造してみましょう。与えられたファイルを開いてその内容を読み、<code class="notranslate">'\0'</code>で終端された文字列を返す関数は、次のように簡潔に書くことができます。</p>
<div class="sourceCode" id="cb133"><pre class="sourceCode c notranslate"><code class="sourceCode c notranslate"><span id="cb133-1"><a href="https://www.sigbus.info/compilerbook#cb133-1"></a><span class="pp">#include </span><span class="im">&lt;errno.h&gt;</span></span>
<span id="cb133-2"><a href="https://www.sigbus.info/compilerbook#cb133-2"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></span>
<span id="cb133-3"><a href="https://www.sigbus.info/compilerbook#cb133-3"></a><span class="pp">#include </span><span class="im">&lt;string.h&gt;</span></span>
<span id="cb133-4"><a href="https://www.sigbus.info/compilerbook#cb133-4"></a></span>
<span id="cb133-5"><a href="https://www.sigbus.info/compilerbook#cb133-5"></a><span class="co">// 指定されたファイルの内容を返す</span></span>
<span id="cb133-6"><a href="https://www.sigbus.info/compilerbook#cb133-6"></a><span class="dt">char</span> *read_file(<span class="dt">char</span> *path) {</span>
<span id="cb133-7"><a href="https://www.sigbus.info/compilerbook#cb133-7"></a>  <span class="co">// ファイルを開く</span></span>
<span id="cb133-8"><a href="https://www.sigbus.info/compilerbook#cb133-8"></a>  <span class="dt">FILE</span> *fp = fopen(path, <span class="st">"r"</span>);</span>
<span id="cb133-9"><a href="https://www.sigbus.info/compilerbook#cb133-9"></a>  <span class="cf">if</span> (!fp)</span>
<span id="cb133-10"><a href="https://www.sigbus.info/compilerbook#cb133-10"></a>    error(<span class="st">"cannot open %s: %s"</span>, path, strerror(errno));</span>
<span id="cb133-11"><a href="https://www.sigbus.info/compilerbook#cb133-11"></a></span>
<span id="cb133-12"><a href="https://www.sigbus.info/compilerbook#cb133-12"></a>  <span class="co">// ファイルの長さを調べる</span></span>
<span id="cb133-13"><a href="https://www.sigbus.info/compilerbook#cb133-13"></a>  <span class="cf">if</span> (fseek(fp, <span class="dv">0</span>, SEEK_END) == -<span class="dv">1</span>)</span>
<span id="cb133-14"><a href="https://www.sigbus.info/compilerbook#cb133-14"></a>    error(<span class="st">"%s: fseek: %s"</span>, path, strerror(errno));</span>
<span id="cb133-15"><a href="https://www.sigbus.info/compilerbook#cb133-15"></a>  <span class="dt">size_t</span> size = ftell(fp);</span>
<span id="cb133-16"><a href="https://www.sigbus.info/compilerbook#cb133-16"></a>  <span class="cf">if</span> (fseek(fp, <span class="dv">0</span>, SEEK_SET) == -<span class="dv">1</span>)</span>
<span id="cb133-17"><a href="https://www.sigbus.info/compilerbook#cb133-17"></a>    error(<span class="st">"%s: fseek: %s"</span>, path, strerror(errno));</span>
<span id="cb133-18"><a href="https://www.sigbus.info/compilerbook#cb133-18"></a></span>
<span id="cb133-19"><a href="https://www.sigbus.info/compilerbook#cb133-19"></a>  <span class="co">// ファイル内容を読み込む</span></span>
<span id="cb133-20"><a href="https://www.sigbus.info/compilerbook#cb133-20"></a>  <span class="dt">char</span> *buf = calloc(<span class="dv">1</span>, size + <span class="dv">2</span>);</span>
<span id="cb133-21"><a href="https://www.sigbus.info/compilerbook#cb133-21"></a>  fread(buf, size, <span class="dv">1</span>, fp);</span>
<span id="cb133-22"><a href="https://www.sigbus.info/compilerbook#cb133-22"></a></span>
<span id="cb133-23"><a href="https://www.sigbus.info/compilerbook#cb133-23"></a>  <span class="co">// ファイルが必ず"\n\0"で終わっているようにする</span></span>
<span id="cb133-24"><a href="https://www.sigbus.info/compilerbook#cb133-24"></a>  <span class="cf">if</span> (size == <span class="dv">0</span> || buf[size - <span class="dv">1</span>] != <span class="ch">'\n'</span>)</span>
<span id="cb133-25"><a href="https://www.sigbus.info/compilerbook#cb133-25"></a>    buf[size++] = <span class="ch">'\n'</span>;</span>
<span id="cb133-26"><a href="https://www.sigbus.info/compilerbook#cb133-26"></a>  buf[size] = <span class="ch">'\0'</span>;</span>
<span id="cb133-27"><a href="https://www.sigbus.info/compilerbook#cb133-27"></a>  fclose(fp);</span>
<span id="cb133-28"><a href="https://www.sigbus.info/compilerbook#cb133-28"></a>  <span class="cf">return</span> buf;</span>
<span id="cb133-29"><a href="https://www.sigbus.info/compilerbook#cb133-29"></a>}</span></code></pre></div>
<p>コンパイラの実装の都合上、すべての行が改行文字で終わっているほうが、改行文字かEOFで終わっているデータよりも扱いやすいので、ファイルの最後のバイトが<code class="notranslate">\n</code>ではない場合、自動的に<code class="notranslate">\n</code>を追加することにしました。</p>
<p>厳密にいうと、この関数は、ランダムアクセスできない特殊なファイルが与えられた場合にはうまく動きません。例えば標準入力を表しているデバイスファイル<code class="notranslate">/dev/stdin</code>や名前付きパイプをファイル名として指定すると、<code class="notranslate">/dev/stdin: fseek: Illegal seek</code>といったエラーメッセージが表示されることが確認できるはずです。とはいえ実用上はこの関数で問題ないでしょう。この関数を使ってファイルの内容を読み込んで、それを入力として扱うようにコードを変更してください。</p>
<p>入力ファイルは普通は複数の行を含んでいるので、エラーメッセージを表示する関数も強化しておきましょう。エラーが発生したときに、入力ファイル名とエラーがある行の行番号、その行の内容を表示することにすると、エラーメッセージは次のようになります。</p>
<pre class="notranslate"><code class="notranslate">foo.c:10: x = y + + 5;
                  ^ 式ではありません</code></pre>
<p>このようなエラーメッセージを表示する関数は次のようになります。</p>
<div class="sourceCode" id="cb135"><pre class="sourceCode c notranslate"><code class="sourceCode c notranslate"><span id="cb135-1"><a href="https://www.sigbus.info/compilerbook#cb135-1"></a><span class="co">// 入力ファイル名</span></span>
<span id="cb135-2"><a href="https://www.sigbus.info/compilerbook#cb135-2"></a><span class="dt">char</span> *filename;</span>
<span id="cb135-3"><a href="https://www.sigbus.info/compilerbook#cb135-3"></a></span>
<span id="cb135-4"><a href="https://www.sigbus.info/compilerbook#cb135-4"></a><span class="co">// エラーの起きた場所を報告するための関数</span></span>
<span id="cb135-5"><a href="https://www.sigbus.info/compilerbook#cb135-5"></a><span class="co">// 下のようなフォーマットでエラーメッセージを表示する</span></span>
<span id="cb135-6"><a href="https://www.sigbus.info/compilerbook#cb135-6"></a><span class="co">//</span></span>
<span id="cb135-7"><a href="https://www.sigbus.info/compilerbook#cb135-7"></a><span class="co">// foo.c:10: x = y + + 5;</span></span>
<span id="cb135-8"><a href="https://www.sigbus.info/compilerbook#cb135-8"></a><span class="co">//                   ^ 式ではありません</span></span>
<span id="cb135-9"><a href="https://www.sigbus.info/compilerbook#cb135-9"></a><span class="dt">void</span> error_at(<span class="dt">char</span> *loc, <span class="dt">char</span> *msg) {</span>
<span id="cb135-10"><a href="https://www.sigbus.info/compilerbook#cb135-10"></a>  <span class="co">// locが含まれている行の開始地点と終了地点を取得</span></span>
<span id="cb135-11"><a href="https://www.sigbus.info/compilerbook#cb135-11"></a>  <span class="dt">char</span> *line = loc;</span>
<span id="cb135-12"><a href="https://www.sigbus.info/compilerbook#cb135-12"></a>  <span class="cf">while</span> (user_input &lt; line &amp;&amp; line[-<span class="dv">1</span>] != <span class="ch">'\n'</span>)</span>
<span id="cb135-13"><a href="https://www.sigbus.info/compilerbook#cb135-13"></a>    line--;</span>
<span id="cb135-14"><a href="https://www.sigbus.info/compilerbook#cb135-14"></a></span>
<span id="cb135-15"><a href="https://www.sigbus.info/compilerbook#cb135-15"></a>  <span class="dt">char</span> *end = loc;</span>
<span id="cb135-16"><a href="https://www.sigbus.info/compilerbook#cb135-16"></a>  <span class="cf">while</span> (*end != <span class="ch">'\n'</span>)</span>
<span id="cb135-17"><a href="https://www.sigbus.info/compilerbook#cb135-17"></a>    end++;</span>
<span id="cb135-18"><a href="https://www.sigbus.info/compilerbook#cb135-18"></a></span>
<span id="cb135-19"><a href="https://www.sigbus.info/compilerbook#cb135-19"></a>  <span class="co">// 見つかった行が全体の何行目なのかを調べる</span></span>
<span id="cb135-20"><a href="https://www.sigbus.info/compilerbook#cb135-20"></a>  <span class="dt">int</span> line_num = <span class="dv">1</span>;</span>
<span id="cb135-21"><a href="https://www.sigbus.info/compilerbook#cb135-21"></a>  <span class="cf">for</span> (<span class="dt">char</span> *p = user_input; p &lt; line; p++)</span>
<span id="cb135-22"><a href="https://www.sigbus.info/compilerbook#cb135-22"></a>    <span class="cf">if</span> (*p == <span class="ch">'\n'</span>)</span>
<span id="cb135-23"><a href="https://www.sigbus.info/compilerbook#cb135-23"></a>      line_num++;</span>
<span id="cb135-24"><a href="https://www.sigbus.info/compilerbook#cb135-24"></a></span>
<span id="cb135-25"><a href="https://www.sigbus.info/compilerbook#cb135-25"></a>  <span class="co">// 見つかった行を、ファイル名と行番号と一緒に表示</span></span>
<span id="cb135-26"><a href="https://www.sigbus.info/compilerbook#cb135-26"></a>  <span class="dt">int</span> indent = fprintf(stderr, <span class="st">"%s:%d: "</span>, filename, line_num);</span>
<span id="cb135-27"><a href="https://www.sigbus.info/compilerbook#cb135-27"></a>  fprintf(stderr, <span class="st">"%.*s</span><span class="sc">\n</span><span class="st">"</span>, (<span class="dt">int</span>)(end - line), line);</span>
<span id="cb135-28"><a href="https://www.sigbus.info/compilerbook#cb135-28"></a></span>
<span id="cb135-29"><a href="https://www.sigbus.info/compilerbook#cb135-29"></a>  <span class="co">// エラー箇所を"^"で指し示して、エラーメッセージを表示</span></span>
<span id="cb135-30"><a href="https://www.sigbus.info/compilerbook#cb135-30"></a>  <span class="dt">int</span> pos = loc - line + indent;</span>
<span id="cb135-31"><a href="https://www.sigbus.info/compilerbook#cb135-31"></a>  fprintf(stderr, <span class="st">"%*s"</span>, pos, <span class="st">""</span>); <span class="co">// pos個の空白を出力</span></span>
<span id="cb135-32"><a href="https://www.sigbus.info/compilerbook#cb135-32"></a>  fprintf(stderr, <span class="st">"^ %s</span><span class="sc">\n</span><span class="st">"</span>, msg);</span>
<span id="cb135-33"><a href="https://www.sigbus.info/compilerbook#cb135-33"></a>  exit(<span class="dv">1</span>);</span>
<span id="cb135-34"><a href="https://www.sigbus.info/compilerbook#cb135-34"></a>}</span></code></pre></div>
<p>このエラーメッセージ出力ルーチンは、かなり簡単な作りですが、そのわりに結構本格的な見た目のフォーマットでエラーを出力すると言えるのではないでしょうか。</p>
<div class="note">
<p>コラム: エラーリカバリ</p>
<p>入力のコードが文法的に間違っている場合、多くのコンパイラは、エラーのある個所を適当に読み飛ばして、それ以降のパースを続行しようとします。その目的は、1つだけではなくなるべく多くのエラーを見つけるためです。パーサのエラーから復帰してパースを続行する機能のことを「エラーリカバリ」といいます。</p>
<p>エラーリカバリは昔のコンパイラではとても重要な機能でした。1960年代や1970年代には、プログラマは計算機センターの大型のコンピュータをタイムシェアリングで利用していて、コンパイルしたいコードを持ち込んでからコンパイル結果が得られるまでに、場合によっては一晩待つ必要がありました。そのような環境では、指摘可能なエラーをできるだけ多く指摘することがコンパイラにとって重要な仕事の一つでした。昔に書かれたコンパイラの教科書では、エラーリカバリは構文解析における主要なトピックの一つになっています。</p>
<p>現在ではコンパイラを使った開発はもっとインタラクティブなので、エラーリカバリはそこまで重要なトピックではありません。我々が開発するコンパイラでは、最初のエラーメッセージを表示することしか行いません。現代では多くの場合はこれで十分でしょう。</p>
</div>
<h2 id="ステップ27-行コメントとブロックコメント"><a href="https://www.sigbus.info/compilerbook#%E3%82%B9%E3%83%86%E3%83%83%E3%83%9727-%E8%A1%8C%E3%82%B3%E3%83%A1%E3%83%B3%E3%83%88%E3%81%A8%E3%83%96%E3%83%AD%E3%83%83%E3%82%AF%E3%82%B3%E3%83%A1%E3%83%B3%E3%83%88" style="text-decoration: none; color: inherit;">ステップ27: 行コメントとブロックコメント</a></h2>
<p>我々のコンパイラも次第に進化してきて、本格的なコードが書けるようになってきました。こうなると欲しくなるのがコメントです。この章ではコメントを実装します。</p>
<p>Cには2種類のコメントがあります。一つのコメントは行コメントと呼ばれるもので、<code class="notranslate">//</code>から行末までがコメントになります。もう一つはブロックコメントと呼ばれるもので、<code class="notranslate">/*</code>が開始記号、<code class="notranslate">*/</code>が終了記号ということになっています。ブロックコメントの中の文字は、<code class="notranslate">*/</code>という2文字の並びを除いてすべて読み飛ばされます。</p>
<p>文法上、コメントは1個の空白文字と同じ扱いということになっています。したがってコメントは、トークナイザで空白文字と同じように読み飛ばすのが自然です。コメントを読み飛ばすコードを以下に示します。</p>
<div class="sourceCode" id="cb136"><pre class="sourceCode c notranslate"><code class="sourceCode c notranslate"><span id="cb136-1"><a href="https://www.sigbus.info/compilerbook#cb136-1"></a><span class="dt">void</span> tokenize() {</span>
<span id="cb136-2"><a href="https://www.sigbus.info/compilerbook#cb136-2"></a>  <span class="dt">char</span> *p = user_input;</span>
<span id="cb136-3"><a href="https://www.sigbus.info/compilerbook#cb136-3"></a></span>
<span id="cb136-4"><a href="https://www.sigbus.info/compilerbook#cb136-4"></a>  <span class="cf">while</span> (*p) {</span>
<span id="cb136-5"><a href="https://www.sigbus.info/compilerbook#cb136-5"></a>    <span class="co">// 空白文字をスキップ</span></span>
<span id="cb136-6"><a href="https://www.sigbus.info/compilerbook#cb136-6"></a>    <span class="cf">if</span> (isspace(*p)) {</span>
<span id="cb136-7"><a href="https://www.sigbus.info/compilerbook#cb136-7"></a>      p++;</span>
<span id="cb136-8"><a href="https://www.sigbus.info/compilerbook#cb136-8"></a>      <span class="cf">continue</span>;</span>
<span id="cb136-9"><a href="https://www.sigbus.info/compilerbook#cb136-9"></a>    }</span>
<span id="cb136-10"><a href="https://www.sigbus.info/compilerbook#cb136-10"></a></span>
<span id="cb136-11"><a href="https://www.sigbus.info/compilerbook#cb136-11"></a>    <span class="co">// 行コメントをスキップ</span></span>
<span id="cb136-12"><a href="https://www.sigbus.info/compilerbook#cb136-12"></a>    <span class="cf">if</span> (strncmp(p, <span class="st">"//"</span>, <span class="dv">2</span>) == <span class="dv">0</span>) {</span>
<span id="cb136-13"><a href="https://www.sigbus.info/compilerbook#cb136-13"></a>      p += <span class="dv">2</span>;</span>
<span id="cb136-14"><a href="https://www.sigbus.info/compilerbook#cb136-14"></a>      <span class="cf">while</span> (*p != <span class="ch">'\n'</span>)</span>
<span id="cb136-15"><a href="https://www.sigbus.info/compilerbook#cb136-15"></a>        p++;</span>
<span id="cb136-16"><a href="https://www.sigbus.info/compilerbook#cb136-16"></a>      <span class="cf">continue</span>;</span>
<span id="cb136-17"><a href="https://www.sigbus.info/compilerbook#cb136-17"></a>    }</span>
<span id="cb136-18"><a href="https://www.sigbus.info/compilerbook#cb136-18"></a></span>
<span id="cb136-19"><a href="https://www.sigbus.info/compilerbook#cb136-19"></a>    <span class="co">// ブロックコメントをスキップ</span></span>
<span id="cb136-20"><a href="https://www.sigbus.info/compilerbook#cb136-20"></a>    <span class="cf">if</span> (strncmp(p, <span class="st">"/*"</span>, <span class="dv">2</span>) == <span class="dv">0</span>) {</span>
<span id="cb136-21"><a href="https://www.sigbus.info/compilerbook#cb136-21"></a>      <span class="dt">char</span> *q = strstr(p + <span class="dv">2</span>, <span class="st">"*/"</span>);</span>
<span id="cb136-22"><a href="https://www.sigbus.info/compilerbook#cb136-22"></a>      <span class="cf">if</span> (!q)</span>
<span id="cb136-23"><a href="https://www.sigbus.info/compilerbook#cb136-23"></a>        error_at(p, <span class="st">"コメントが閉じられていません"</span>);</span>
<span id="cb136-24"><a href="https://www.sigbus.info/compilerbook#cb136-24"></a>      p = q + <span class="dv">2</span>;</span>
<span id="cb136-25"><a href="https://www.sigbus.info/compilerbook#cb136-25"></a>      <span class="cf">continue</span>;</span>
<span id="cb136-26"><a href="https://www.sigbus.info/compilerbook#cb136-26"></a>    }</span>
<span id="cb136-27"><a href="https://www.sigbus.info/compilerbook#cb136-27"></a>    ...</span></code></pre></div>
<p>ここではブロックコメントの終端を探すために、C標準ライブラリに入っている<code class="notranslate">strstr</code>関数を使いました。<code class="notranslate">strstr</code>は、文字列から文字列を探して、渡された文字列が見つかったときはその先頭へのポインタ、見つからなかったときにはNULLを返します。</p>
<div class="note">
<p>コラム: 行コメント</p>
<p>オリジナルのCにはブロックコメントしか存在しておらず、行コメントは、Cが開発されてほぼ30年後の1999年に正式に仕様に追加されました。当初の目論見ではこれは互換性を壊さない変更だったはずなのですが、実際には微妙なケースで、元々動いていたコードが別の意味になってしまうことがあります。</p>
<p>具体的に以下のコードは、ブロックコメントのみがサポートされていれば<code class="notranslate">a/b</code>として、行コメントがサポートされていれば<code class="notranslate">a</code>として読み込まれます。</p>
<div class="sourceCode" id="cb137"><pre class="sourceCode c notranslate"><code class="sourceCode c notranslate"><span id="cb137-1"><a href="https://www.sigbus.info/compilerbook#cb137-1"></a>a<span class="co">//*</span></span>
<span id="cb137-2"><a href="https://www.sigbus.info/compilerbook#cb137-2"></a><span class="co">// */ b</span></span></code></pre></div>
</div>
<div class="note">
<p>コラム: ブロックコメントとネスト</p>
<p>ブロックコメントは入れ子にすることはできません。<code class="notranslate">/*</code>はコメント中では特別な意味を持たないので、既存のブロックコメントをコメントアウトして</p>
<pre class="notranslate"><code class="notranslate">/* /* ... */ */</code></pre>
<p>のようにすると、最初の<code class="notranslate">*/</code>でコメントが終了することになり、2個めの<code class="notranslate">*/</code>で構文エラーが発生することになります。</p>
<p>ブロックコメントを含む可能性のある行をまとめてコメントアウトしたいときは、Cプリプロセッサを使って</p>
<pre class="notranslate"><code class="notranslate">#if 0
...
#endif</code></pre>
<p>のように<code class="notranslate">#if 0</code>でくくるという方法があります。</p>
</div>
<h2 id="ステップ28-テストをcで書き直す"><a href="https://www.sigbus.info/compilerbook#%E3%82%B9%E3%83%86%E3%83%83%E3%83%9728-%E3%83%86%E3%82%B9%E3%83%88%E3%82%92c%E3%81%A7%E6%9B%B8%E3%81%8D%E7%9B%B4%E3%81%99" style="text-decoration: none; color: inherit;">ステップ28: テストをCで書き直す</a></h2>
<p>このステップではテストを書き直して<code class="notranslate">make test</code>を高速化します。このステップに至ったころにはすでにシェルスクリプトに100個以上のテストが書かれていることでしょう。シェルスクリプトのテストではテスト1つにつき何個ものプロセスが起動されます。つまりテスト1つごとに自作コンパイラ、アセンブラ、リンカ、テストそのものを起動しています。</p>
<p>プロセスの起動というものは小さなプログラムでもそこまで速くありません。したがってそれを何百回も行うとなると、トータルでは無視できない時間がかかるようになってしまいます。おそらくみなさんのテストスクリプトも実行に数秒かかるようになっていると思います。</p>
<p>そもそもシェルスクリプトでテストを書いていたのは、そうしなければまともなテストができなかったからでした。電卓レベルの言語の段階では、<code class="notranslate">if</code>や<code class="notranslate">==</code>などがなかったので、計算結果が正しいかどうかその言語の中では検証できなかったのです。しかし今は検証できるようになりました。結果が正しいかどうかを比較して、間違っている場合は（文字列の）エラーメッセージを表示してexitする、ということが可能になっているのです。</p>
<p>そこで、このステップでは、シェルスクリプトで書いていたテストをCファイルに書き直してください。</p>
<h1 id="program"><a href="https://www.sigbus.info/compilerbook#program" style="text-decoration: none; color: inherit;">プログラムの実行イメージと初期化式</a></h1>
<p>さて、ここまでのステップで、我々のコンパイラは関数、グローバル変数、ローカル変数というプログラミングの主要な要素をすべてサポートするようになりました。また、読者の皆さんも、分割コンパイルとリンクについて学んだことで、プログラムを小分けにしてコンパイルして、最後にそれを1つのファイルにまとめる方法について理解することができたと思います。</p>
<p>この章では、OSが実行ファイルをどのように実行するのかについて説明します。この章を読むことにより、実行ファイルにどのようなデータが入っていて、main関数が呼ばれるまでに何が起こっているのかが理解できるようになります。</p>
<p>また、この章では、変数の初期化式、すなわち下のようなコードがどのようにコンパイルされるのかについて説明を行い、初期化式のサポートを我々のコンパイラに追加します。</p>
<div class="sourceCode" id="cb140"><pre class="sourceCode c notranslate"><code class="sourceCode c notranslate"><span id="cb140-1"><a href="https://www.sigbus.info/compilerbook#cb140-1"></a><span class="dt">int</span> x = <span class="dv">3</span>;</span>
<span id="cb140-2"><a href="https://www.sigbus.info/compilerbook#cb140-2"></a><span class="dt">int</span> y[<span class="dv">3</span>] = {<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>};</span>
<span id="cb140-3"><a href="https://www.sigbus.info/compilerbook#cb140-3"></a><span class="dt">char</span> *msg1 = <span class="st">"foo"</span>;</span>
<span id="cb140-4"><a href="https://www.sigbus.info/compilerbook#cb140-4"></a><span class="dt">char</span> msg2[] = <span class="st">"bar"</span>;</span></code></pre></div>
<p>初期化式をサポートするためには、意外かもしれませんが、プログラムがmainに到るまでにどのように動いているのかという知識が欠かせないのです。</p>
<p>なお、この章では、1つの実行ファイルにすべてのコードやデータがまとめて入っている単純な実行形式について説明します。そのような実行形式のファイルのことを「スタティックリンク」された実行ファイルといいます。スタティックリンクに対して、1つのプログラムの断片が複数のファイルに分かれて入っていて、実行時にそれらがメモリ上で結合されて実行される「ダイナミックリンク」という実行形式も広く使われていますが、それについては章を分けて説明することにします。まずは基本的なモデルであるスタティックリンクについてしっかり理解してみましょう。</p>
<h2 id="実行ファイルの構造"><a href="https://www.sigbus.info/compilerbook#%E5%AE%9F%E8%A1%8C%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%AE%E6%A7%8B%E9%80%A0" style="text-decoration: none; color: inherit;">実行ファイルの構造</a></h2>
<p>実行ファイルは、ファイルヘッダと、1つ以上の「<span class="index" id="index77">セグメント</span>」（segment）と呼ばれる領域からできています。1つの実行ファイルには、普通は少なくとも2つのセグメントがあって、実行可能コードとデータが別々に入っています。実行可能コードが入っているセグメントのことを「<span class="index" id="index78">テキストセグメント</span>」（text segment）、それ以外のデータが入っているセグメントのことを「<span class="index" id="index79">データセグメント</span>」（data segment）といいます。実際の実行ファイルにはその他のセグメントも入っていますが、仕組みを理解するためには不要なのでここでは省略します。</p>
<p>なお、用語についてですが、テキストというのはテキストファイルのテキストと同じ単語ですが、意味が違うので注意してください。伝統的に低レイヤでは、機械語を表すデータのことを「テキスト」と呼びます。また、機械語というものは単なるバイト列に過ぎないわけで、テキストもデータの一種なのですが、「テキストとデータ」というときは、「データ」は「テキスト以外のデータ」を指すことがほとんどです。この章でも、データというときはテキスト以外のデータを意味します。</p>
<p>リンカの入力になるオブジェクトファイルには、テキストとデータが別々に入っています。リンカは、複数のオブジェクトファイルから読んできたテキストを連結して1つのテキストセグメントに配置し、同様に複数のオブジェクトファイルから読んできたデータを連結して1つのデータセグメントに配置します。</p>
<p>実行ファイルのファイルヘッダには、セグメントごとに、実行時に置かれるべきメモリの番地が書かれています。実行ファイルを実行するとき、OSの「<span class="index" id="index80">プログラムローダ</span>」（program loader）あるいは単に「<span class="index" id="index81">ローダ</span>」と呼ばれるプログラムが、その情報に従って実行ファイルからメモリ上にテキストとデータをコピーしてきます。</p>
<p>実行ファイルと、その実行ファイルをローダがメモリに読み込んだ状態の図を以下に示します。</p>
<figure>
<img src="data:image/svg+xml;base64,PCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIHdpZHRoPSI1NzRweCIgaGVpZ2h0PSI1NDVweCIgdmlld0JveD0iLTAuNSAtMC41IDU3NCA1NDUiPjxkZWZzLz48Zz48cmVjdCB4PSIwIiB5PSIyNjQiIHdpZHRoPSIxMzIiIGhlaWdodD0iMjc1IiBmaWxsPSIjZmZmZmZmIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4xIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxyZWN0IHg9IjI1MyIgeT0iMzMiIHdpZHRoPSIxMzIiIGhlaWdodD0iNTA2IiBmaWxsPSIjZjVmNWY1IiBzdHJva2U9IiM2NjY2NjYiIHN0cm9rZS13aWR0aD0iMS4xIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gMjUzIDE0MS45IFEgMjg2IDE0OS44MiAzMTkgMTQxLjkgUSAzNTIgMTMzLjk4IDM4NSAxNDEuOSBMIDM4NSAxNTUuMSBRIDM1MiAxNDcuMTggMzE5IDE1NS4xIFEgMjg2IDE2My4wMiAyNTMgMTU1LjEgTCAyNTMgMTQxLjkgWiIgZmlsbD0iI2ZmZmZmZiIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuMSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDM5NS41LDMyLjUpc2NhbGUoMS4xKSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIxMzciIGhlaWdodD0iMTIiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxMnB4OyBmb250LWZhbWlseTogJnF1b3Q7Q291cmllciBOZXcmcXVvdDs7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiAxMzhweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyBmb250LXdlaWdodDogYm9sZDsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7Ij43ZmZmIGZmZmYgZmZmZiBmZmZmPC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjY5IiB5PSIxMiIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxMnB4IiBmb250LWZhbWlseT0iQ291cmllciBOZXciIGZvbnQtd2VpZ2h0PSJib2xkIj43ZmZmIGZmZmYgZmZmZiBmZmZmPC90ZXh0Pjwvc3dpdGNoPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzOTUuNSw1MjUuNSlzY2FsZSgxLjEpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjEzNyIgaGVpZ2h0PSIxMiIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDEycHg7IGZvbnQtZmFtaWx5OiAmcXVvdDtDb3VyaWVyIE5ldyZxdW90OzsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDEzOHB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IGZvbnQtd2VpZ2h0OiBib2xkOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPjAwMDAgMDAwMCAwMDAwIDAwMDA8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iNjkiIHk9IjEyIiBmaWxsPSIjMDAwMDAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjEycHgiIGZvbnQtZmFtaWx5PSJDb3VyaWVyIE5ldyIgZm9udC13ZWlnaHQ9ImJvbGQiPjAwMDAgMDAwMCAwMDAwIDAwMDA8L3RleHQ+PC9zd2l0Y2g+PC9nPjxyZWN0IHg9IjAiIHk9IjI2NCIgd2lkdGg9IjEzMiIgaGVpZ2h0PSIzMyIgZmlsbD0iI2ZmZmZmZiIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuMSIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxOS41LDI3My41KXNjYWxlKDEuMSkiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iODQiIGhlaWdodD0iMTIiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxMnB4OyBmb250LWZhbWlseTogJnF1b3Q7Q291cmllciBOZXcmcXVvdDs7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiA4NXB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7Ij7jg5XjgqHjgqTjg6vjg5jjg4Pjg4A8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iNDIiIHk9IjEyIiBmaWxsPSIjMDAwMDAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjEycHgiIGZvbnQtZmFtaWx5PSJDb3VyaWVyIE5ldyI+44OV44Kh44Kk44Or44OY44OD44OAPC90ZXh0Pjwvc3dpdGNoPjwvZz48cmVjdCB4PSIwIiB5PSI0MTgiIHdpZHRoPSIxMzIiIGhlaWdodD0iMTIxIiBmaWxsPSIjZmZmZmZmIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4xIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDMyLjUsNDYzLjUpc2NhbGUoMS4xKSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSI2MCIgaGVpZ2h0PSIyNiIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDEycHg7IGZvbnQtZmFtaWx5OiAmcXVvdDtDb3VyaWVyIE5ldyZxdW90OzsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDYxcHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPuODhuOCreOCueODiDxiciAvPuOCu+OCsOODoeODs+ODiDxiciAvPjwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSIzMCIgeT0iMTkiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTJweCIgZm9udC1mYW1pbHk9IkNvdXJpZXIgTmV3Ij7jg4bjgq3jgrnjg4gmbHQ7YnImZ3Q744K744Kw44Oh44Oz44OIJmx0O2JyJmd0OzwvdGV4dD48L3N3aXRjaD48L2c+PHJlY3QgeD0iMCIgeT0iMjk3IiB3aWR0aD0iMTMyIiBoZWlnaHQ9IjEyMSIgZmlsbD0iI2ZmZmZmZiIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuMSIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzMi41LDM0Mi41KXNjYWxlKDEuMSkiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iNjAiIGhlaWdodD0iMjYiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxMnB4OyBmb250LWZhbWlseTogJnF1b3Q7Q291cmllciBOZXcmcXVvdDs7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiA2MXB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7Ij7jg4fjg7zjgr88YnIgLz7jgrvjgrDjg6Hjg7Pjg4g8YnIgLz48L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iMzAiIHk9IjE5IiBmaWxsPSIjMDAwMDAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjEycHgiIGZvbnQtZmFtaWx5PSJDb3VyaWVyIE5ldyI+44OH44O844K/Jmx0O2JyJmd0O+OCu+OCsOODoeODs+ODiCZsdDticiZndDs8L3RleHQ+PC9zd2l0Y2g+PC9nPjxyZWN0IHg9IjI1MyIgeT0iMzMiIHdpZHRoPSIxMzIiIGhlaWdodD0iNDQiIGZpbGw9IiNmZmZmZmYiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjEiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjc4LjUsNDcuNSlzY2FsZSgxLjEpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjcyIiBoZWlnaHQ9IjEyIiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTJweDsgZm9udC1mYW1pbHk6ICZxdW90O0NvdXJpZXIgTmV3JnF1b3Q7OyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogNzNweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0OyI+44K544K/44OD44Kv6aCY5Z+fPC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjM2IiB5PSIxMiIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxMnB4IiBmb250LWZhbWlseT0iQ291cmllciBOZXciPuOCueOCv+ODg+OCr+mgmOWfnzwvdGV4dD48L3N3aXRjaD48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzk1LjUsNDkyLjUpc2NhbGUoMS4xKSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIxMzciIGhlaWdodD0iMTIiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxMnB4OyBmb250LWZhbWlseTogJnF1b3Q7Q291cmllciBOZXcmcXVvdDs7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiAxMzhweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyBmb250LXdlaWdodDogYm9sZDsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7Ij4wMDAwIDAwMDAgMDAwNCAxMDAwPC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjY5IiB5PSIxMiIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxMnB4IiBmb250LWZhbWlseT0iQ291cmllciBOZXciIGZvbnQtd2VpZ2h0PSJib2xkIj4wMDAwIDAwMDAgMDAwNCAxMDAwPC90ZXh0Pjwvc3dpdGNoPjwvZz48cmVjdCB4PSIyNTMiIHk9IjM4NSIgd2lkdGg9IjEzMiIgaGVpZ2h0PSIxMjEiIGZpbGw9IiNmZmZmZmYiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjEiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjg1LjUsNDMwLjUpc2NhbGUoMS4xKSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSI2MCIgaGVpZ2h0PSIyNiIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDEycHg7IGZvbnQtZmFtaWx5OiAmcXVvdDtDb3VyaWVyIE5ldyZxdW90OzsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDYxcHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPuODhuOCreOCueODiDxiciAvPuOCu+OCsOODoeODs+ODiDxiciAvPjwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSIzMCIgeT0iMTkiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTJweCIgZm9udC1mYW1pbHk9IkNvdXJpZXIgTmV3Ij7jg4bjgq3jgrnjg4gmbHQ7YnImZ3Q744K744Kw44Oh44Oz44OIJmx0O2JyJmd0OzwvdGV4dD48L3N3aXRjaD48L2c+PHJlY3QgeD0iMjUzIiB5PSIyMjAiIHdpZHRoPSIxMzIiIGhlaWdodD0iMTIxIiBmaWxsPSIjZmZmZmZmIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4xIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI4NS41LDI2NS41KXNjYWxlKDEuMSkiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iNjAiIGhlaWdodD0iMjYiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxMnB4OyBmb250LWZhbWlseTogJnF1b3Q7Q291cmllciBOZXcmcXVvdDs7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiA2MXB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7Ij7jg4fjg7zjgr88YnIgLz7jgrvjgrDjg6Hjg7Pjg4g8YnIgLz48L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iMzAiIHk9IjE5IiBmaWxsPSIjMDAwMDAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjEycHgiIGZvbnQtZmFtaWx5PSJDb3VyaWVyIE5ldyI+44OH44O844K/Jmx0O2JyJmd0O+OCu+OCsOODoeODs+ODiCZsdDticiZndDs8L3RleHQ+PC9zd2l0Y2g+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDM5NS41LDMyNy41KXNjYWxlKDEuMSkiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iMTM3IiBoZWlnaHQ9IjEyIiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTJweDsgZm9udC1mYW1pbHk6ICZxdW90O0NvdXJpZXIgTmV3JnF1b3Q7OyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMTM4cHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgZm9udC13ZWlnaHQ6IGJvbGQ7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0OyI+MDAwMCAwMDAwIDAwMDUgMDAwMDwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSI2OSIgeT0iMTIiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTJweCIgZm9udC1mYW1pbHk9IkNvdXJpZXIgTmV3IiBmb250LXdlaWdodD0iYm9sZCI+MDAwMCAwMDAwIDAwMDUgMDAwMDwvdGV4dD48L3N3aXRjaD48L2c+PHBhdGggZD0iTSAxMzIgMjk3IEwgMjUzIDIyMCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuMSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gMTMyIDQxOCBMIDI1MS45IDM0Mi4xIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4xIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSAxMzIgNTM5IEwgMjUzIDUwNiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuMSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gMTMyIDQxOCBMIDI1MyAzODUiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNS41LDIzNC41KXNjYWxlKDEuMSkiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iNzIiIGhlaWdodD0iMTIiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxMnB4OyBmb250LWZhbWlseTogJnF1b3Q7Q291cmllciBOZXcmcXVvdDs7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiA3M3B4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7Ij7lrp/ooYzjg5XjgqHjgqTjg6s8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iMzYiIHk9IjEyIiBmaWxsPSIjMDAwMDAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjEycHgiIGZvbnQtZmFtaWx5PSJDb3VyaWVyIE5ldyI+5a6f6KGM44OV44Kh44Kk44OrPC90ZXh0Pjwvc3dpdGNoPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNzIuNSwzLjUpc2NhbGUoMS4xKSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSI4NCIgaGVpZ2h0PSIxMiIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDEycHg7IGZvbnQtZmFtaWx5OiAmcXVvdDtDb3VyaWVyIE5ldyZxdW90OzsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDg1cHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPuODoeODouODquOCpOODoeODvOOCuDwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSI0MiIgeT0iMTIiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTJweCIgZm9udC1mYW1pbHk9IkNvdXJpZXIgTmV3Ij7jg6Hjg6Ljg6rjgqTjg6Hjg7zjgrg8L3RleHQ+PC9zd2l0Y2g+PC9nPjwvZz48L3N2Zz4=" alt=""><figcaption>実行ファイルとメモリイメージ</figcaption>
</figure>
<p>この図の実行ファイルでは、テキストセグメントを0x41000に、データセグメントを0x50000にロードするという情報がファイルのヘッダに書かれていたと仮定しました。</p>
<p>ファイルヘッダには、何番地から実行を開始するべきかという情報も入っています。例えば0x41040から実行を開始するべきという情報が書かれていた場合、ローダは実行ファイルを上の図のようにメモリにロードしてから、スタックポインタを0x7fff_ffff_ffff_ffffにセットし、そのあと0x41040にジャンプしてユーザプログラムの実行をスタートすることになります。</p>
<h2 id="データセグメントの内容"><a href="https://www.sigbus.info/compilerbook#%E3%83%87%E3%83%BC%E3%82%BF%E3%82%BB%E3%82%B0%E3%83%A1%E3%83%B3%E3%83%88%E3%81%AE%E5%86%85%E5%AE%B9" style="text-decoration: none; color: inherit;">データセグメントの内容</a></h2>
<p>テキストセグメントの内容は明らかに機械語ですが、データセグメントには何が入っているのでしょうか？ その答えですが、データセグメントにはグローバル変数やリテラルの文字列などが入っています。</p>
<p>ローカル変数は、テキストセグメントにもデータセグメントにも直接は入っていません。ローカル変数は、プログラムが動的にスタック領域に作り上げるものなので、メモリ上に実行ファイルをロードした直後には特に存在していません。</p>
<p>Cの実行モデルでは、プログラムというものは、実行ファイルをほぼそのままメモリ上に読み込むだけで、main関数の実行を始められるようになっています。したがって、グローバル変数というものは、実行ファイルのデータセグメントからメモリにコピーするだけで適切な初期値がセットされているようにしておく必要があります。</p>
<p>この制限により、Cでは例えば下のような関数呼び出しを使う初期化式をグローバル変数に対して使うことができません。</p>
<div class="sourceCode" id="cb141"><pre class="sourceCode c notranslate"><code class="sourceCode c notranslate"><span id="cb141-1"><a href="https://www.sigbus.info/compilerbook#cb141-1"></a><span class="dt">int</span> foo = bar();</span></code></pre></div>
<p>上記のような動的な初期化を必要とするグローバル変数があった場合、main関数を実行するより前に誰かが上記の式を実行する必要があります。しかしCにはmainより前に起動される初期化メカニズムが存在しないので、そのような初期化は行えないのです。</p>
<p>つまり、グローバル変数というものはリンク時に値が完成して、実行ファイルにそのままのバイト列として入れられるものでなければいけません。そのような値は次の式に限られます。</p>
<ul>
<li>定数式</li>
<li>グローバル変数や関数のアドレス</li>
<li>グローバル変数や関数のアドレスに定数を足したもの</li>
</ul>
<p>リテラルの数や文字列のような定数式がそのまま固定の値としてテキストセグメントに設定できるのは自明でしょう。</p>
<p>グローバル変数や関数のアドレスは、普通はコンパイル時には決まりませんが、リンカが実行ファイルを完成させる時には普通は決まります。従って、ポインタ型のグローバル変数の値を別のグローバル変数のアドレスで初期化する<code class="notranslate">int *x = &amp;y;</code>のような定義は合法です。リンカは、プログラムのセグメントのレイアウトを自分で決めていて、関数やグローバル変数がロードされるアドレスも当然知っているので、<code class="notranslate">x</code>の内容をリンク時に埋められるというわけです。</p>
<p>また、ラベルのアドレスに定数を足すというのはリンカの機能でサポートされているので、<code class="notranslate">int *x = &amp;y + 3;</code>のような定義も合法です。</p>
<p>上記のパターン以外の式を初期化式に書くことはできません。例えばグローバル変数の（アドレスではなく）値を初期化式で使うことはできません。<code class="notranslate">ptrdiff_t x = &amp;y - &amp;z;</code>のように2つのグローバル変数のアドレスの差を取る式は、原理的にはリンク時に値を求められる式ですが、そのような2つのラベルの差を計算する操作はリンカでサポートされていないので、そのような式を初期化式に書くことはできません。グローバル変数の初期化式というものは、あくまで上記の限られたパターンのみ許されています。</p>
<p>グローバル変数の初期化式として書ける式の例をCで表現すると次のようになります。</p>
<div class="sourceCode" id="cb142"><pre class="sourceCode c notranslate"><code class="sourceCode c notranslate"><span id="cb142-1"><a href="https://www.sigbus.info/compilerbook#cb142-1"></a><span class="dt">int</span> a = <span class="dv">3</span>;</span>
<span id="cb142-2"><a href="https://www.sigbus.info/compilerbook#cb142-2"></a><span class="dt">char</span> b[] = <span class="st">"foobar"</span>;</span>
<span id="cb142-3"><a href="https://www.sigbus.info/compilerbook#cb142-3"></a><span class="dt">int</span> *c = &amp;a;</span>
<span id="cb142-4"><a href="https://www.sigbus.info/compilerbook#cb142-4"></a><span class="dt">char</span> *d = b + <span class="dv">3</span>;</span></code></pre></div>
<p>それぞれの式に対応するアセンブリは次のようになります。</p>
<div class="sourceCode" id="cb143"><pre class="sourceCode asm notranslate"><code class="sourceCode fasm notranslate"><span id="cb143-1"><a href="https://www.sigbus.info/compilerbook#cb143-1"></a><span class="fu">a:</span></span>
<span id="cb143-2"><a href="https://www.sigbus.info/compilerbook#cb143-2"></a>  .long <span class="dv">3</span></span>
<span id="cb143-3"><a href="https://www.sigbus.info/compilerbook#cb143-3"></a><span class="fu">b:</span></span>
<span id="cb143-4"><a href="https://www.sigbus.info/compilerbook#cb143-4"></a>  .<span class="dt">byte</span><span class="bn"> 0x66 </span>// <span class="st">'f'</span></span>
<span id="cb143-5"><a href="https://www.sigbus.info/compilerbook#cb143-5"></a>  .<span class="dt">byte</span><span class="bn"> 0x6f </span>// <span class="st">'o'</span></span>
<span id="cb143-6"><a href="https://www.sigbus.info/compilerbook#cb143-6"></a>  .<span class="dt">byte</span><span class="bn"> 0x6f </span>// <span class="st">'o'</span></span>
<span id="cb143-7"><a href="https://www.sigbus.info/compilerbook#cb143-7"></a>  .<span class="dt">byte</span><span class="bn"> 0x62 </span>// <span class="st">'b'</span></span>
<span id="cb143-8"><a href="https://www.sigbus.info/compilerbook#cb143-8"></a>  .<span class="dt">byte</span><span class="bn"> 0x61 </span>// <span class="st">'a'</span></span>
<span id="cb143-9"><a href="https://www.sigbus.info/compilerbook#cb143-9"></a>  .<span class="dt">byte</span><span class="bn"> 0x72 </span>// <span class="st">'r'</span></span>
<span id="cb143-10"><a href="https://www.sigbus.info/compilerbook#cb143-10"></a>  .<span class="dt">byte</span> <span class="dv">0</span>    // <span class="st">'\0'</span></span>
<span id="cb143-11"><a href="https://www.sigbus.info/compilerbook#cb143-11"></a><span class="fu">c:</span></span>
<span id="cb143-12"><a href="https://www.sigbus.info/compilerbook#cb143-12"></a>  .quad a</span>
<span id="cb143-13"><a href="https://www.sigbus.info/compilerbook#cb143-13"></a><span class="fu">d:</span></span>
<span id="cb143-14"><a href="https://www.sigbus.info/compilerbook#cb143-14"></a>  .quad b + <span class="dv">3</span></span></code></pre></div>
<p>連続する<code class="notranslate">.byte</code>は<code class="notranslate">.ascii</code>という記法を使って<code class="notranslate">.ascii "foobar\0"</code>のように書くこともできます。</p>
<div class="note">
<p>コラム: グローバル変数の動的な初期化</p>
<p>Cではグローバル変数の内容は静的に決まっている必要がありますが、C++ではグローバル変数を任意の式を使って初期化することができます。つまり、C++では、main関数が呼ばれるより前にグローバル変数の初期化式が実行されます。それは次のようなメカニズムで動いています。</p>
<ul>
<li>C++コンパイラが、グローバル変数の初期化式を関数にまとめて、その関数ポインタを<code class="notranslate">.init_array</code>と呼ばれる特別なセクションに出力する</li>
<li>リンカが複数の入力ファイルの<code class="notranslate">.init_array</code>セクションを連結して<code class="notranslate">.init_array</code>セグメントに出力する（したがって<code class="notranslate">.init_array</code>セグメントは関数ポインタの配列が入っていることになる）</li>
<li>ローダは、<code class="notranslate">main</code>に制御を移す前に、まず<code class="notranslate">.init_array</code>セグメントに入っている関数ポインタを順に実行する</li>
</ul>
<p>このように、コンパイラとリンカ、プログラムローダの共同作業によって、グローバル変数の動的な初期化が可能になっています。</p>
<p>C++と同じメカニズムを使うようにすれば、Cでもグローバル変数の動的な初期化をサポートできますが、そのような機能はあえてCの言語仕様から外されています。</p>
<p>C言語仕様のデザインチョイスでは、プログラムを書く側にとっては制限は多くなりますが、プログラムを実行する側では、貧弱なローダやローダのない環境（コンピュータの起動時にROMから直接実行されるコードなど）でも言語仕様を完全に満たすことができることになります。したがってこれは割り切りの問題であって、どちらが優れているという話ではありません。</p>
</div>
<h2 id="初期化式の文法"><a href="https://www.sigbus.info/compilerbook#%E5%88%9D%E6%9C%9F%E5%8C%96%E5%BC%8F%E3%81%AE%E6%96%87%E6%B3%95" style="text-decoration: none; color: inherit;">初期化式の文法</a></h2>
<p>初期化式は一見ただの代入式のように見えますが、実際は初期化式と代入式は文法的にかなり異なっていて、初期化式だけに許された特別な書き方というものがいくつかあります。ここでその特別な書き方をきちんと把握しておきましょう。</p>
<p>まず初期化式では配列を初期化することができます。たとえば次の式は、<code class="notranslate">x[0]</code>、<code class="notranslate">x[1]</code>、<code class="notranslate">x[2]</code>がそれぞれ0、1、2になるように<code class="notranslate">x</code>を初期化しています。</p>
<div class="sourceCode" id="cb144"><pre class="sourceCode c notranslate"><code class="sourceCode c notranslate"><span id="cb144-1"><a href="https://www.sigbus.info/compilerbook#cb144-1"></a><span class="dt">int</span> x[<span class="dv">3</span>] = {<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">2</span>};</span></code></pre></div>
<p>初期化式が与えられている場合、配列の長さは右辺の要素の数を見ればわかるので、配列の長さを省略することができます。例えば上の式と下の式は同じ意味になります。</p>
<div class="sourceCode" id="cb145"><pre class="sourceCode c notranslate"><code class="sourceCode c notranslate"><span id="cb145-1"><a href="https://www.sigbus.info/compilerbook#cb145-1"></a><span class="dt">int</span> x[] = {<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">2</span>};</span></code></pre></div>
<p>配列の長さが明示的に与えられていて、初期化式が一部分だけ与えらている場合、残りの要素は0で初期化しなければいけません。従って次の2つの式は同じ意味になります。</p>
<div class="sourceCode" id="cb146"><pre class="sourceCode c notranslate"><code class="sourceCode c notranslate"><span id="cb146-1"><a href="https://www.sigbus.info/compilerbook#cb146-1"></a><span class="dt">int</span> x[<span class="dv">5</span>] = {<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">0</span>, <span class="dv">0</span>};</span>
<span id="cb146-2"><a href="https://www.sigbus.info/compilerbook#cb146-2"></a><span class="dt">int</span> x[<span class="dv">5</span>] = {<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>};</span></code></pre></div>
<p>また、<code class="notranslate">char</code>の配列の初期化式だけの特別な文法として、リテラルの文字列を初期化式として使う次のような書き方が許されています。</p>
<div class="sourceCode" id="cb147"><pre class="sourceCode c notranslate"><code class="sourceCode c notranslate"><span id="cb147-1"><a href="https://www.sigbus.info/compilerbook#cb147-1"></a><span class="dt">char</span> msg[] = <span class="st">"foo"</span>;</span></code></pre></div>
<p>上記の式は次の式と同じ意味です。</p>
<div class="sourceCode" id="cb148"><pre class="sourceCode c notranslate"><code class="sourceCode c notranslate"><span id="cb148-1"><a href="https://www.sigbus.info/compilerbook#cb148-1"></a><span class="dt">char</span> msg[<span class="dv">4</span>] = {<span class="ch">'f'</span>, <span class="ch">'o'</span>, <span class="ch">'o'</span>, <span class="ch">'\0'</span>};</span></code></pre></div>
<h2 id="グローバル変数の初期化式"><a href="https://www.sigbus.info/compilerbook#%E3%82%B0%E3%83%AD%E3%83%BC%E3%83%90%E3%83%AB%E5%A4%89%E6%95%B0%E3%81%AE%E5%88%9D%E6%9C%9F%E5%8C%96%E5%BC%8F" style="text-decoration: none; color: inherit;">グローバル変数の初期化式</a></h2>
<p>グローバル変数の初期化式は、コンパイル時に計算する必要があります。計算結果は、単なるバイト列か、関数やグローバル変数のポインタのどちらかです。ポインタの場合、そのポインタのオフセットを表す整数を1つ持つことができます。</p>
<p>初期化式がまったく与えられていないグローバル変数は、全ビットが0になるように初期化する必要があります。これはCの文法でそう決まっています。</p>
<p>初期化式が上記の計算結果にならない場合はコンパイルエラーとして扱ってください。</p>
<h2 id="ローカル変数の初期化式"><a href="https://www.sigbus.info/compilerbook#%E3%83%AD%E3%83%BC%E3%82%AB%E3%83%AB%E5%A4%89%E6%95%B0%E3%81%AE%E5%88%9D%E6%9C%9F%E5%8C%96%E5%BC%8F" style="text-decoration: none; color: inherit;">ローカル変数の初期化式</a></h2>
<p>ローカル変数の初期化式は、グローバル変数の初期化式と見た目は同じですが、意味は大きく異なります。ローカル変数の初期化式というものは、その場で実行される式です。したがって、その内容はコンパイル時に決まっている必要はありません。</p>
<p>基本的に、<code class="notranslate">int x = 5;</code>といった文は、<code class="notranslate">int x; x = 5;</code>というように2つの文に分けて書いたのと同じようにコンパイルされます。</p>
<p><code class="notranslate">int x[] = {1, 2, foo()};</code>のような文は、次の文と同じようにコンパイルされます。</p>
<div class="sourceCode" id="cb149"><pre class="sourceCode c notranslate"><code class="sourceCode c notranslate"><span id="cb149-1"><a href="https://www.sigbus.info/compilerbook#cb149-1"></a><span class="dt">int</span> x[<span class="dv">3</span>];</span>
<span id="cb149-2"><a href="https://www.sigbus.info/compilerbook#cb149-2"></a>x[<span class="dv">0</span>] = <span class="dv">1</span>;</span>
<span id="cb149-3"><a href="https://www.sigbus.info/compilerbook#cb149-3"></a>x[<span class="dv">1</span>] = <span class="dv">2</span>;</span>
<span id="cb149-4"><a href="https://www.sigbus.info/compilerbook#cb149-4"></a>x[<span class="dv">2</span>] = foo();</span></code></pre></div>
<p>初期化式がまったく与えられていないローカル変数の内容は不定です。したがってそのような変数は初期化する必要がありません。</p>
<div class="note">
<p>コラム: ワードのサイズ</p>
<p>x86-64では「ワード」という用語は、16ビットのデータと64ビットのデータの両方を意味します。これはややこしい状態なのですが、そうなっているのには歴史的な事情があります。</p>
<p>本来「ワード」という用語は、コンピュータ上で自然に扱える最大の整数やアドレスのサイズのことを指します。64ビットプロセッサであるx86-64で64ビットのことを1ワードというのはここから来ています。</p>
<p>一方、16ビットのことを1ワードというのは、16ビットプロセッサの8086の用語から来ています。Intelのエンジニアたちが8086を32ビットに拡張して386プロセッサを作ったとき、「ワード」のサイズが変わることを避けるために、32ビットのことをダブルワード（double wordまたはdword）と呼ぶことにしました。同様に、386を64ビットに拡張したx86-64では、64ビットのことをクワッドワード（quad wordまたはqword）と呼ぶことにしました。この互換性のための配慮によって、ワードの2つの異なる意味が生じることになったのです。</p>
</div>
<h1 id="ステップ29以降-要加筆"><a href="https://www.sigbus.info/compilerbook#%E3%82%B9%E3%83%86%E3%83%83%E3%83%9729%E4%BB%A5%E9%99%8D-%E8%A6%81%E5%8A%A0%E7%AD%86" style="text-decoration: none; color: inherit;">ステップ29以降: [要加筆]</a></h1>
<h1 id="dynamic-linking"><a href="https://www.sigbus.info/compilerbook#dynamic-linking" style="text-decoration: none; color: inherit;">スタティックリンクとダイナミックリンク</a></h1>
<p>本書はここまでにスタティックリンクという機能だけを利用してきました。スタティックリンクというのは素直な実行モデルなので、そのモデルにフォーカスして説明を行うことにより、アセンブリコードや実行ファイルのメモリイメージなどをわかりやすく解説することができたのですが、実は一般的な実行ファイルを作成するときはスタティックリンクというのはそれほど広く使われていません。実際には、スタティックリンクではなくダイナミックリンクという機能が広く使われています。</p>
<p>この章ではスタティックリンクとダイナミックリンクについて説明します。</p>
<p>デフォルトではコンパイラやリンカはダイナミックリンクを行う実行ファイルを出力しようとします。読者のみなさんも、ここまでに<code class="notranslate">cc</code>に<code class="notranslate">-static</code>オプションを付け忘れると、次のようなエラーが出るのを見たことがあるかと思います（見たことがなければ、<code class="notranslate">-static</code>オプションを<code class="notranslate">Makefile</code>から取り除いた上で<code class="notranslate">make</code>を実行してみてください）。</p>
<pre class="shell notranslate"><code class="notranslate">$ cc -o tmp tmp.s
/usr/bin/ld: /tmp/ccaRuuub.o: relocation R_X86_64_32S against `.data' can not be used when making a PIE object; recompile with -fPIC
/usr/bin/ld: final link failed: Nonrepresentable section on output</code></pre>
<p>リンカはデフォルトでダイナミックリンクしようとしますが、ダイナミックリンクするためにはそうすることが可能なアセンブリコードをコンパイラから出力しなければいけません。9ccは今のところそのようなコードを出力しないので、<code class="notranslate">-static</code>を付け忘れると上のようなエラーが表示されます。この章を読むことにより、上記のエラーの意味がわかるようになり、エラーを解決するために何をしなければいけないのかがわかるようになるはずです。</p>
<h2 id="スタティックリンク"><a href="https://www.sigbus.info/compilerbook#%E3%82%B9%E3%82%BF%E3%83%86%E3%82%A3%E3%83%83%E3%82%AF%E3%83%AA%E3%83%B3%E3%82%AF" style="text-decoration: none; color: inherit;">スタティックリンク</a></h2>
<p>スタティックリンクされた実行ファイルは、実行時に他のファイルを必要としない、自己完結した実行ファイルです。例えば<code class="notranslate">printf</code>などの関数は、ユーザが書いた関数ではなく<code class="notranslate">libc</code>標準ライブラリに入っている関数ですが、スタティックリンクで実行ファイルを作成すると、<code class="notranslate">printf</code>のコードが<code class="notranslate">libc</code>から実行ファイルにコピーされることになります。スタティックリンクされたプログラムを実行するときは<code class="notranslate">libc</code>は必要ありません。なぜなら<code class="notranslate">libc</code>の中の必要なコードやデータは、すでに実行ファイルにコピーされているからです。</p>
<p>ここでは実際に、以下のシンプルなプログラム<code class="notranslate">hello.c</code>がどのようにスタティックリンクされた実行ファイルになるのかを見てみましょう。</p>
<div class="sourceCode" id="cb151"><pre class="sourceCode c notranslate"><code class="sourceCode c notranslate"><span id="cb151-1"><a href="https://www.sigbus.info/compilerbook#cb151-1"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></span>
<span id="cb151-2"><a href="https://www.sigbus.info/compilerbook#cb151-2"></a></span>
<span id="cb151-3"><a href="https://www.sigbus.info/compilerbook#cb151-3"></a><span class="dt">int</span> main() {</span>
<span id="cb151-4"><a href="https://www.sigbus.info/compilerbook#cb151-4"></a>  printf(<span class="st">"Hello world!</span><span class="sc">\n</span><span class="st">"</span>);</span>
<span id="cb151-5"><a href="https://www.sigbus.info/compilerbook#cb151-5"></a>}</span></code></pre></div>
<p>この<code class="notranslate">hello.c</code>ファイルをコンパイル、リンクして、<code class="notranslate">hello</code>というファイル名の実行ファイルに変換するためには、次のコマンドを入力します。</p>
<pre class="shell notranslate"><code class="notranslate">$ cc -c hello.c
$ cc -o hello hello.o</code></pre>
<p>上記のコマンドでは、1行目で<code class="notranslate">hello.c</code>をコンパイルしてオブジェクトファイル<code class="notranslate">hello.o</code>を作成し、2行目でそれをリンクして実行ファイルにしています。この2つのコマンドをまとめて<code class="notranslate">cc -o hello hello.c</code>と書くことも可能ですが、そのようにコンパイラを起動したときにも内部的には上記の2つのコマンドと同等のことが行われることになります。</p>
<p><code class="notranslate">hello.c</code>では<code class="notranslate">stdio.h</code>をインクルードしていますが、本書でここまで見てきたように、ヘッダファイルには関数本体のコードそのものは含まれていません。したがって、<code class="notranslate">hello.o</code>ファイルを作っているとき、コンパイラは<code class="notranslate">stdio.h</code>で宣言されている<code class="notranslate">printf</code>関数の存在とその型は知っていますが、<code class="notranslate">printf</code>の実際のコードについては何の知識も持っていません。したがって<code class="notranslate">printf</code>のコードが<code class="notranslate">hello.o</code>ファイルに含まれていることはありえません。実際には<code class="notranslate">hello.o</code>には<code class="notranslate">main</code>の定義だけが含まれていることになります。<code class="notranslate">hello.o</code>と、<code class="notranslate">printf</code>を含んでいるオブジェクトファイルとを組み合わせて実行ファイルを完成させるのはリンカの役割になります。</p>
<p>2行目で<code class="notranslate">cc</code>経由でリンカが起動されるとき、コマンドラインで渡された<code class="notranslate">hello.o</code>というファイルだけではなく、システム標準のライブラリのパス​<code class="notranslate">/usr/lib/x86_64-linux-gnu/libc.a</code>​もリンカに渡されます。<code class="notranslate">printf</code>関数はこの<code class="notranslate">libc.a</code>という関数に含まれています。<code class="notranslate">.a</code>というのは<code class="notranslate">.tar</code>や<code class="notranslate">.zip</code>と同じようなアーカイブファイルです。中身を少し覗いてみましょう。</p>
<pre class="shell notranslate"><code class="notranslate">$ ar t /usr/lib/x86_64-linux-gnu/libc.a
...
printf_size.o
fprintf.o
printf.o
snprintf.o
sprintf.o
...</code></pre>
<p><a href="https://github.com/rui314/musl/blob/master/src/stdio/printf.c">muslのprintf.c</a></p>
<p>アーカイブファイルには、</p>
<p>スタティックリンクされた実行ファイルの実行モデルは単純です。実行時にはメモリ上にはその実行ファイルしか存在しないので、実行ファイルの各セグメントはメモリ上の任意の位置にロードすることができます。リンク時に決まっているデフォルトのアドレスにロードしようとしたときに、ロードが失敗することはありません。実行ファイルがロードされる前にはメモリ上には何も置かれていないからです。従って、スタティックリンクでは、すべてのグローバル変数や関数のアドレスはリンク時に決めることができます。</p>
<p>スタティックリンクには以下の利点があります。</p>
<ul>
<li>単純でロードが速い</li>
<li>依存しているファイルがないので、実行ファイルをコピーするだけで動作する</li>
<li>微妙に動作の異なるバージョン違いのライブラリがあったとしても、スタティックリンクでコピーされるときにライブラリのコードとデータは固定されるので、どの環境でも同じ実行ファイルが同じように動作する</li>
</ul>
<p>スタティックリンクには以下の欠点があります。</p>
<ul>
<li>実行ファイルが使っているライブラリ関数やコードがコピーされるので、ディスクやメモリが多少無駄になる</li>
<li>ライブラリのバグが修正された場合、既存の実行ファイルにその変更を反映するためには再リンクが必要になる</li>
</ul>
<p>一方、ダイナミックリンクされた実行ファイルは、実行時に他の<code class="notranslate">.so</code>（Unixの場合）や<code class="notranslate">.dll</code>（Windowsの場合）といったファイルを必要とします。<code class="notranslate">.so</code>や<code class="notranslate">.dll</code>には<code class="notranslate">printf</code>などの関数のコードや<code class="notranslate">errno</code>のようなグローバル変数が入っています。<code class="notranslate">.so</code>や<code class="notranslate">.dll</code>などのファイルは、動的ライブラリや単にライブラリ、あるいはDSO（dynamic shared object）と呼ばれます。</p>
<h1 id="type"><a href="https://www.sigbus.info/compilerbook#type" style="text-decoration: none; color: inherit;">Cの型の構文</a></h1>
<p>Cの型の構文は不必要に複雑なことでよく知られています。Cの開発者Dennis Ritchieが共著者の書籍「<a href="https://www.amazon.co.jp/dp/4320026926">プログラミング言語C</a>」（通称「K&amp;R」）にも「C言語の宣言の構文、特に関数へのポインタが関係する宣言の構文は、酷評されることがあります」と書いてあります<a href="https://www.sigbus.info/compilerbook#fn7" class="footnote-ref" id="fnref7" role="doc-noteref"><sup>7</sup></a>。</p>
<p>このようにCの型の構文は、作者ですら暗に認めているような良くない設計なのですが、そうはいってもこの構文はルールさえ理解してしまえばそう難しいものでもありません。</p>
<p>この章ではCの型の構文の読み方を説明します。ステップ・バイ・ステップで理解を深めていくことにより、この章が終わる頃には、読者のみなさんは<code class="notranslate">void (*x)(int)</code>や<code class="notranslate">void (*signal(int, void (*)(int)))(int)</code>といった複雑な型を解読できるようになるはずです。</p>
<h2 id="型を表す図"><a href="https://www.sigbus.info/compilerbook#%E5%9E%8B%E3%82%92%E8%A1%A8%E3%81%99%E5%9B%B3" style="text-decoration: none; color: inherit;">型を表す図</a></h2>
<p>Cで表現可能な型そのものは比較的単純です。型の構文の複雑さと、型そのものの複雑さを分けて考えるために、構文はいったん横に置いておいて、型のことだけを考えてみましょう。</p>
<p>ポインタや配列といった複雑な型は、単純な型を矢印で繋いだ図で表現することができます。例えば次の図は、「intへのポインタのポインタ」を表している型の図です。</p>
<p><img src="data:image/svg+xml;base64,PCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIHdpZHRoPSI0NDBweCIgaGVpZ2h0PSI1NHB4IiB2aWV3Qm94PSItMC41IC0wLjUgNDQwIDU0IiBjb250ZW50PSImbHQ7bXhmaWxlIG1vZGlmaWVkPSZxdW90OzIwMTktMDUtMjhUMDk6MTE6MjEuMDA3WiZxdW90OyBob3N0PSZxdW90O3d3dy5kcmF3LmlvJnF1b3Q7IGFnZW50PSZxdW90O01vemlsbGEvNS4wIChNYWNpbnRvc2g7IEludGVsIE1hYyBPUyBYIDEwXzE0XzUpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS83NC4wLjM3MjkuMTY5IFNhZmFyaS81MzcuMzYmcXVvdDsgdmVyc2lvbj0mcXVvdDsxMC42LjkmcXVvdDsgZXRhZz0mcXVvdDtPdUJCMWFFbVMtSVdFT216eU15biZxdW90OyB0eXBlPSZxdW90O2dvb2dsZSZxdW90OyZndDsmbHQ7ZGlhZ3JhbSBpZD0mcXVvdDtMRzdKSHFBTTlTZkVQVGRZSURGeCZxdW90OyZndDs3VmRkYjVzd0ZQMDF2Q0xBZkQ2dWFiYTlUSnFVaDNWUGt3ZE9zT2JneURpRjlOZlB4amJZSWRHaUttdXF0a1FpdnNlKzJQZmM0MnZ3d0dMYmYyRndWMytqRlNKZUZGUzlCKzY5S0FyRElCWi9FamxvSkVnTGhXd1lyalEyQVN2OGhNeEFqZTV4aFZwbklLZVVjTHh6d1pJMkRTcTVnMEhHYU9jT1cxUGl6cnFER3pRRFZpVWtjL1FIcm5pdDBEd0pKdndyd3B1YWp4SHJuaTAwZ3pYUTFyQ2luUVdCcFFjV2pGS3VXdHQrZ1loa3ovQ2kvRDZmNlIwWHhsRERMM0dJbE1NakpIc2QyM2VLRzQ2WVhoNC9tSmdaM1RjVmttNkJCKzY2R25PMDJzRlM5bllpelFLcitaWUlLeFRObGpQNlorUkdJbXRNeUlJU3lvYW5nWFVpZitOSXF5Y2RMdWxCRzI3aDZoSzRYakZpSFBWbm93NUhMb1VLRWQwaXpnNWlpSEV3OUJzQlJxa0d1aW1kbVlacUs1UEdEMm9CYmNaSFR4eUxocWI1Tk9WZ1J2bU9zMStjWHB2eDg4eitGd2J6bDJNd25qRTQ0dzVWWXNOcUU1SGZ0RnRPd04wQWlJNmFNdndrVkFhSkJKdnFreXdOQWk4SmJGdGN1Z1NqSHZNSHEvMVQ1c1ZQdEhYZjZ6UU54c0VZallqc3dUWXNMMmxPYm9ObC9GUTRNZ1luUFMzZHN4STVLdUtRYlpDbU5yazRpVmFPa2hNNU1oaERCSEw4NkM3aVZPTDBERVBwbURReWxtdWprVGcrU3I0S1NMdlpWZXI0U1ZIaDUwa1d4cEc2RjBmYWk1MXU0RTZpS0pwTk1vaHM1T1FpM1NYdnNsaEc0SWJGTW4wTHhYTE80QXNXeTJ6R29Oa0liMVd3SUw2aFlQT1BzOGxzV3Z0c3lsN1oyUVNpeEErTElNNVNmVTljeVlBazhLM2U0bm5ubGxDaVB4NWE4bjZiYzZ1NFFKUC9VdGgxMWZKcWRKRFBTa1hoWi9hcnh2TVNINGJ1QzB0Ky9NYVNCWDVrS1NPL1V1cUZPWDA3cXVIVEp6aFkvZ1U9Jmx0Oy9kaWFncmFtJmd0OyZsdDsvbXhmaWxlJmd0OyI+PGRlZnMvPjxnPjxyZWN0IHg9IjYxLjEiIHk9IjAiIHdpZHRoPSI5MSIgaGVpZ2h0PSIyNiIgZmlsbD0iI2Y1ZjVmNSIgc3Ryb2tlPSIjNjY2NjY2IiBzdHJva2Utd2lkdGg9IjEuMyIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg4MS41LDQuNSlzY2FsZSgxLjMpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjM4IiBoZWlnaHQ9IjEyIiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTJweDsgZm9udC1mYW1pbHk6IEhlbHZldGljYTsgY29sb3I6IHJnYig1MSwgNTEsIDUxKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDQwcHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPlBvaW50ZXI8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iMTkiIHk9IjEyIiBmaWxsPSIjMzMzMzMzIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjEycHgiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EiPlBvaW50ZXI8L3RleHQ+PC9zd2l0Y2g+PC9nPjxyZWN0IHg9IjYxLjEiIHk9IjI2IiB3aWR0aD0iOTEiIGhlaWdodD0iMjYiIGZpbGw9IiNmZmZmZmYiIHN0cm9rZT0iIzY2NjY2NiIgc3Ryb2tlLXdpZHRoPSIxLjMiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoODYuNSwzMC41KXNjYWxlKDEuMykiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iMzAiIGhlaWdodD0iMTIiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxMnB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMzJweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0OyI+cHRyX3RvPC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjE1IiB5PSIxMiIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxMnB4IiBmb250LWZhbWlseT0iSGVsdmV0aWNhIj5wdHJfdG88L3RleHQ+PC9zd2l0Y2g+PC9nPjxwYXRoIGQ9Ik0gMTUyLjEgMzkgTCAxNjUuMSAzOSBRIDE3OC4xIDM5IDE3OC4xIDI2IEwgMTc4LjEgMTkuNSBRIDE3OC4xIDEzIDE4Ni45NiAxMyBMIDE5NS44MiAxMyIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuMyIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gMjAyLjY1IDEzIEwgMTkzLjU1IDE3LjU1IEwgMTk1LjgyIDEzIEwgMTkzLjU1IDguNDUgWiIgZmlsbD0iIzAwMDAwMCIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuMyIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxyZWN0IHg9IjIwNC4xIiB5PSIwIiB3aWR0aD0iOTEiIGhlaWdodD0iMjYiIGZpbGw9IiNmNWY1ZjUiIHN0cm9rZT0iIzY2NjY2NiIgc3Ryb2tlLXdpZHRoPSIxLjMiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjI0LjUsNC41KXNjYWxlKDEuMykiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iMzgiIGhlaWdodD0iMTIiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxMnB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogcmdiKDUxLCA1MSwgNTEpOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogNDBweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0OyI+UG9pbnRlcjwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSIxOSIgeT0iMTIiIGZpbGw9IiMzMzMzMzMiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTJweCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSI+UG9pbnRlcjwvdGV4dD48L3N3aXRjaD48L2c+PHJlY3QgeD0iMjA0LjEiIHk9IjI2IiB3aWR0aD0iOTEiIGhlaWdodD0iMjYiIGZpbGw9IiNmZmZmZmYiIHN0cm9rZT0iIzY2NjY2NiIgc3Ryb2tlLXdpZHRoPSIxLjMiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjI5LjUsMzAuNSlzY2FsZSgxLjMpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjMwIiBoZWlnaHQ9IjEyIiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTJweDsgZm9udC1mYW1pbHk6IEhlbHZldGljYTsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDMycHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPnB0cl90bzwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSIxNSIgeT0iMTIiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTJweCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSI+cHRyX3RvPC90ZXh0Pjwvc3dpdGNoPjwvZz48cmVjdCB4PSIzNDcuMSIgeT0iMCIgd2lkdGg9IjkxIiBoZWlnaHQ9IjI2IiBmaWxsPSIjZjVmNWY1IiBzdHJva2U9IiM2NjY2NjYiIHN0cm9rZS13aWR0aD0iMS4zIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDM4NC41LDQuNSlzY2FsZSgxLjMpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjEyIiBoZWlnaHQ9IjEyIiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTJweDsgZm9udC1mYW1pbHk6IEhlbHZldGljYTsgY29sb3I6IHJnYig1MSwgNTEsIDUxKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDE0cHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPmludDwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSI2IiB5PSIxMiIgZmlsbD0iIzMzMzMzMyIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxMnB4IiBmb250LWZhbWlseT0iSGVsdmV0aWNhIj5pbnQ8L3RleHQ+PC9zd2l0Y2g+PC9nPjxwYXRoIGQ9Ik0gMjk1LjEgMzkgTCAzMDguMSAzOSBRIDMyMS4xIDM5IDMyMS4xIDI2IEwgMzIxLjEgMTkuNSBRIDMyMS4xIDEzIDMyOS45NiAxMyBMIDMzOC44MiAxMyIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuMyIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gMzQ1LjY1IDEzIEwgMzM2LjU1IDE3LjU1IEwgMzM4LjgyIDEzIEwgMzM2LjU1IDguNDUgWiIgZmlsbD0iIzAwMDAwMCIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuMyIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gOS4xIDEyLjcyIEwgNTIuNjQgMTMuMTkiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjMiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDU5LjQ2IDEzLjI2IEwgNTAuMzEgMTcuNzEgTCA1Mi42NCAxMy4xOSBMIDUwLjQxIDguNjIgWiIgZmlsbD0iIzAwMDAwMCIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuMyIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjwvZz48L3N2Zz4=" class="fig"></p>
<p>日本語では矢印の終点から始点に向かって「intのポインタのポインタ」と読み上げることになります。英語では逆にa pointer to a pointer to an intと矢印の向きに沿って読み上げることになります。</p>
<p>変数<code class="notranslate">x</code>が上記の図の型を持っているとしましょう。「<code class="notranslate">x</code>の型は何か？」という質問に対する最も簡潔な答えは「ポインタです」ということになります。最初の矢印が指している型はポインタ型だからです。<code class="notranslate">x</code>はまずはポインタなのであって、<code class="notranslate">int</code>などの型ではないことに注意してください。「そのポインタが指している型は何か？」という質問にも「ポインタです」と答えることになります。矢印を1つ辿ったところにあるのもポインタ型だからです。最後に「そのポインタが指している型は何か？」という質問には「intです」と答えることになります。</p>
<p>次の図は「intへのポインタの配列」を表しています。配列の長さは20です。実際のコンパイラでも、配列の長さは、下の図のように配列を表す型のメンバとして表現されます。</p>
<p><img src="data:image/svg+xml;base64,PCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIHdpZHRoPSI0NDBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSItMC41IC0wLjUgNDQwIDgwIiBjb250ZW50PSImbHQ7bXhmaWxlIG1vZGlmaWVkPSZxdW90OzIwMTktMDUtMjhUMDk6MTE6MzQuNTYyWiZxdW90OyBob3N0PSZxdW90O3d3dy5kcmF3LmlvJnF1b3Q7IGFnZW50PSZxdW90O01vemlsbGEvNS4wIChNYWNpbnRvc2g7IEludGVsIE1hYyBPUyBYIDEwXzE0XzUpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS83NC4wLjM3MjkuMTY5IFNhZmFyaS81MzcuMzYmcXVvdDsgdmVyc2lvbj0mcXVvdDsxMC42LjkmcXVvdDsgZXRhZz0mcXVvdDtRUWxSSHZnaVpsMmJPTUpaVEQ1MiZxdW90OyB0eXBlPSZxdW90O2dvb2dsZSZxdW90OyZndDsmbHQ7ZGlhZ3JhbSBpZD0mcXVvdDtfUDh1b0QyOEw1Q1BucjdXbDZwRyZxdW90OyZndDszVmpCanBzd0VQMGFyaEZnSU1reG0wM2JTNlZLT1hSN1dya3dBYXNPam95emtQMzYybUNEaVJNMXFqYlp6UklKUE04ZTQzbnpHRU04dE53Mlh6bmVGZDlaQnRRTC9hengwS01YaGtIZ1IvS2lrSU5HL05EdmtKeVRUR01Ec0NhdllBWnFkRTh5cUVZREJXTlVrTjBZVEZsWlFpcEdHT2FjMWVOaEcwYkhkOTNoSEJ4Z25XTHFvajlKSm9vT25jWCtnSDhEa2hlaWoxajNiTEVacklHcXdCbXJMUWl0UExUa2pJbXV0VzJXUUJWN2hwZk83OHVaM241aEhFcHhpVVBZT2J4Z3V0ZXhMVGpIQjcwNGNUQVJjN1l2TTFCT3ZvY2U2b0lJV085d3FucHJtV1NKRldKTHBSWElaaVU0KzlNem81QU5vWFRKS09QdGJHZ1RxMTgvMHVwSjJrTjVzRkpZZUhkSVhLOFh1SURtYk14Qno2VFVJTEF0Q0M1RDhvMkRJZC9JTHpMcHFZZGtUalZVV0hrMGZsakxKKytuSGhpV0RVM3lhY0tSUXpoV2hEK3p6VnR6ZnA3YnEzQVkzbzdEeU9IUTRRNHkrY0JxRStodlZxOEc0S0VGWkVmQk9IbVZPc05VZ1dXMlVLVkI0aW5GVlVYU01jSFFFUEZrdFgrcHZFeGliVDAyT2sydGNUQkdLU043c2czTFM1bURXMnNadnk0Y0ZjTW9QUlhiOHhSR09oS1k1NkNwalM5T29wV2orRVNPRE1hQllrRmV4b3M0bFRoOWh4K015QnYzR3VuTHRkRkk0aDhsdnd0SXU5bFY2bmdtZEt3MmREUlR4NE16VTZ1a1B2Q0x4QlU3NG1wbkJmNnBhNkxMOEExcll1SlF2aFA4V2JDN3FvZ3VnemVzaUZPSFFmTWdmRmJCb3VnZEJUdTdsdzNvZ28waytXQzdCZ3JqU1REM28ybWl6L0U0ejNIZ1Q2emUrZi90S0s1OGdxdnRLUE4zVWN2YnZucDhHSG5NL3BXM1N4VWczMkFuc2tiUDRxaytCODdFZG44eXY1WThUQUNXUGlpVXVlSnlJZUgrUy9FK3RrSDN3eUM2V2wyVzV2Q2wzREUvL09HQVZuOEImbHQ7L2RpYWdyYW0mZ3Q7Jmx0Oy9teGZpbGUmZ3Q7Ij48ZGVmcy8+PGc+PHJlY3QgeD0iNjEuMSIgeT0iMCIgd2lkdGg9IjkxIiBoZWlnaHQ9IjI2IiBmaWxsPSIjZjVmNWY1IiBzdHJva2U9IiM2NjY2NjYiIHN0cm9rZS13aWR0aD0iMS4zIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDg3LjUsNC41KXNjYWxlKDEuMykiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iMjgiIGhlaWdodD0iMTIiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxMnB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogcmdiKDUxLCA1MSwgNTEpOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMzBweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0OyI+QXJyYXk8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iMTQiIHk9IjEyIiBmaWxsPSIjMzMzMzMzIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjEycHgiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EiPkFycmF5PC90ZXh0Pjwvc3dpdGNoPjwvZz48cmVjdCB4PSI2MS4xIiB5PSIyNiIgd2lkdGg9IjkxIiBoZWlnaHQ9IjI2IiBmaWxsPSIjZmZmZmZmIiBzdHJva2U9IiM2NjY2NjYiIHN0cm9rZS13aWR0aD0iMS4zIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDc3LjUsMzAuNSlzY2FsZSgxLjMpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjQ0IiBoZWlnaHQ9IjEyIiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTJweDsgZm9udC1mYW1pbHk6IEhlbHZldGljYTsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDQ2cHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPmFycmF5X29mPC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjIyIiB5PSIxMiIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxMnB4IiBmb250LWZhbWlseT0iSGVsdmV0aWNhIj5hcnJheV9vZjwvdGV4dD48L3N3aXRjaD48L2c+PHBhdGggZD0iTSAxNTIuMSAzOSBMIDE2NS4xIDM5IFEgMTc4LjEgMzkgMTc4LjEgMjYgTCAxNzguMSAxOS41IFEgMTc4LjEgMTMgMTg2Ljk2IDEzIEwgMTk1LjgyIDEzIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4zIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSAyMDIuNjUgMTMgTCAxOTMuNTUgMTcuNTUgTCAxOTUuODIgMTMgTCAxOTMuNTUgOC40NSBaIiBmaWxsPSIjMDAwMDAwIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4zIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHJlY3QgeD0iMjA0LjEiIHk9IjAiIHdpZHRoPSI5MSIgaGVpZ2h0PSIyNiIgZmlsbD0iI2Y1ZjVmNSIgc3Ryb2tlPSIjNjY2NjY2IiBzdHJva2Utd2lkdGg9IjEuMyIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMjQuNSw0LjUpc2NhbGUoMS4zKSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIzOCIgaGVpZ2h0PSIxMiIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDEycHg7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7IGNvbG9yOiByZ2IoNTEsIDUxLCA1MSk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiA0MHB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7Ij5Qb2ludGVyPC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjE5IiB5PSIxMiIgZmlsbD0iIzMzMzMzMyIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxMnB4IiBmb250LWZhbWlseT0iSGVsdmV0aWNhIj5Qb2ludGVyPC90ZXh0Pjwvc3dpdGNoPjwvZz48cmVjdCB4PSIyMDQuMSIgeT0iMjYiIHdpZHRoPSI5MSIgaGVpZ2h0PSIyNiIgZmlsbD0iI2ZmZmZmZiIgc3Ryb2tlPSIjNjY2NjY2IiBzdHJva2Utd2lkdGg9IjEuMyIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMjkuNSwzMC41KXNjYWxlKDEuMykiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iMzAiIGhlaWdodD0iMTIiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxMnB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMzJweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0OyI+cHRyX3RvPC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjE1IiB5PSIxMiIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxMnB4IiBmb250LWZhbWlseT0iSGVsdmV0aWNhIj5wdHJfdG88L3RleHQ+PC9zd2l0Y2g+PC9nPjxyZWN0IHg9IjM0Ny4xIiB5PSIwIiB3aWR0aD0iOTEiIGhlaWdodD0iMjYiIGZpbGw9IiNmNWY1ZjUiIHN0cm9rZT0iIzY2NjY2NiIgc3Ryb2tlLXdpZHRoPSIxLjMiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzg0LjUsNC41KXNjYWxlKDEuMykiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxMnB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogcmdiKDUxLCA1MSwgNTEpOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMTRweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0OyI+aW50PC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjYiIHk9IjEyIiBmaWxsPSIjMzMzMzMzIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjEycHgiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EiPmludDwvdGV4dD48L3N3aXRjaD48L2c+PHBhdGggZD0iTSAyOTUuMSAzOSBMIDMwOC4xIDM5IFEgMzIxLjEgMzkgMzIxLjEgMjYgTCAzMjEuMSAxOS41IFEgMzIxLjEgMTMgMzI5Ljk2IDEzIEwgMzM4LjgyIDEzIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4zIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSAzNDUuNjUgMTMgTCAzMzYuNTUgMTcuNTUgTCAzMzguODIgMTMgTCAzMzYuNTUgOC40NSBaIiBmaWxsPSIjMDAwMDAwIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4zIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSA5LjEgMTMgTCAyMi4xIDEzIFEgMzUuMSAxMyA0NC4wNSAxMy4wOSBMIDUzLjAxIDEzLjE5IiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4zIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSA1OS44MyAxMy4xOSBMIDUwLjczIDE3Ljc0IEwgNTMuMDEgMTMuMTkgTCA1MC43MyA4LjY0IFoiIGZpbGw9IiMwMDAwMDAiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjMiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cmVjdCB4PSI2MS4xIiB5PSI1MiIgd2lkdGg9IjkxIiBoZWlnaHQ9IjI2IiBmaWxsPSIjZmZmZmZmIiBzdHJva2U9IiM2NjY2NjYiIHN0cm9rZS13aWR0aD0iMS4zIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDcyLjUsNTYuNSlzY2FsZSgxLjMpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjUyIiBoZWlnaHQ9IjEyIiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTJweDsgZm9udC1mYW1pbHk6IEhlbHZldGljYTsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDU0cHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPmxlbmd0aDogMjA8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iMjYiIHk9IjEyIiBmaWxsPSIjMDAwMDAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjEycHgiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EiPmxlbmd0aDogMjA8L3RleHQ+PC9zd2l0Y2g+PC9nPjwvZz48L3N2Zz4=" class="fig"></p>
<p>変数<code class="notranslate">x</code>が上記の図の型を持っている場合、<code class="notranslate">x</code>は長さ20の配列型で、その配列の要素はポインタで、そのポインタが指しているのは<code class="notranslate">int</code>ということになります。</p>
<p>関数の型も図で表すことができます。次の図は、intとintへのポインタの2つを引数に取って、voidへのポインタを返す関数の型を表しています。</p>
<p><img src="data:image/svg+xml;base64,PCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIHdpZHRoPSI0NDBweCIgaGVpZ2h0PSIxODRweCIgdmlld0JveD0iLTAuNSAtMC41IDQ0MCAxODQiIGNvbnRlbnQ9IiZsdDtteGZpbGUgbW9kaWZpZWQ9JnF1b3Q7MjAxOS0wNS0yOFQwOToxMTo0OC4wNjJaJnF1b3Q7IGhvc3Q9JnF1b3Q7d3d3LmRyYXcuaW8mcXVvdDsgYWdlbnQ9JnF1b3Q7TW96aWxsYS81LjAgKE1hY2ludG9zaDsgSW50ZWwgTWFjIE9TIFggMTBfMTRfNSkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzc0LjAuMzcyOS4xNjkgU2FmYXJpLzUzNy4zNiZxdW90OyB2ZXJzaW9uPSZxdW90OzEwLjYuOSZxdW90OyBldGFnPSZxdW90OzBhN1d5WnFheF9IUGljcU5FSWhCJnF1b3Q7IHR5cGU9JnF1b3Q7Z29vZ2xlJnF1b3Q7Jmd0OyZsdDtkaWFncmFtIGlkPSZxdW90O0E4NFNUbDVwdUdvbUlvZTRQN2RoJnF1b3Q7Jmd0OzdWblJidHNnRlAyYXZGbzJHRHM4cm1tN3ZVeWExSWQxVHhXemFZeEdURVJJay9UcmgyMndjVWlUck12cU5GMHFwZVlBRjNQdTRYSWhJemlaclQ5TE1pKytpcHp5RVFqejlRaGVqd0NJb2pEVy95cGtZNUFRaEEweWxTdzNXQWZjc1dkcUd4cDB5WEs2NkRWVVFuREY1bjB3RTJWSk05WERpSlJpMVcvMktIaC8xRG1aVWcrNHl3ajMwZThzVjBXRGpsSFk0VjhvbXhhcW5iR3BtUkhiMkFDTGd1Umk1VUR3WmdRblVnalZQTTNXRThvcjlpd3ZUYi9iRjJyYkY1TzBWTWQwQUUySEo4S1habTYzeXpJejc2WTJkc0pTTE11Y1ZuM0NFYnhhRlV6UnV6bkpxdHFWOXJIR0NqWGp1aFRweDRXUzRsZExUSVU4TXM0bmdndFpXNE9QcVBwcld6bzFTZjJwZW9oU09YanowYmg1WFNvVlhiODQ1YWdsVWt1UWlobFZjcU9iMkE2V2U2cytCSEdBdGZmU0tLNi9ZVk85Nmp5Ym1oNkY0MVJyaFJndFRkdUJPcnIxZzJGOE4vdlFZMTlTdFpUbGc5ck02YW1kOERMWi80UlVOQlNwc1VlcXh5VE45WEkyUmNwL2l0Vk5CMXpWZ0s0b2hHVFBXb2FFVjJDWmY2b0NoOFl6VGhZTGx2WHBwbXVtN3Azbkg1V1hBbVJLMTJ2anRMcXdzWVZTeit6ZUxUaTlxbUxYclM3WmZzMTBxam4wbkxVUVM1blJuckFVa1ZOcXFFVkh1OVR4RWRyaEk0dEp5b2xpVC8yWDJPVTRNOEkzd2ZUQXJXTGFZRzRWazhaeEVEdUtTZm9XbStrWkkyNUUyN1lMY05BWmlRSHVqNUxnT09ncXgyamNINlZoekJ1bDFseEwwVkV5Uko0TWE2dFVYblJ3QmZCQWNFM2VMQTRrbmdQbVNqNG84YTdpcXM4bkdvclAxT1B6U2VpNlMxWXpqTTlHemVQL3U1cGQwZTZ1bHA3WnJnWUJDaUljeG1saXZ0SFc5cU4zSjl4V1luc1MrdE5OVGdzemlOek5jbHVtWVFEZVlwUERuaXF0elVzTkNYNUF4a01sdWphQit0QXhJYkxuZnljbzRETUxDZ0R2VFVtUlRrbjNyTllUSmI0SXZWSGlhejNpSmw1RWtwbDEzdnRJdlB3RGJUcllPdmN2YVdwQy9kWCt2Z2dkTG5ENjl5NGY4bXlXREpiTlJ2NGx6U1VjenBMQkRtZVJmOTF3NlptWWR6Z2JVTTcrWFlOSC9lVm5ZbVpOdTVsWWRHNjNqb2ZPWittSnptZkpnV0hDdmNPY01CbnpiMjArb0RMQkRtWENNMU1tR0cvZmh3TjlMSEFUK2xkSzBkdWswcjEyVDZpOVkrNnNEaW5wdEtwd0ZRRE9UQURiL2tjeER0Sy85NzluTnRwcjl0WHUxOFh1Wit1bWVmZnJQN3o1RFE9PSZsdDsvZGlhZ3JhbSZndDsmbHQ7L214ZmlsZSZndDsiPjxkZWZzLz48Zz48cmVjdCB4PSI2MS4xIiB5PSItMC4wOSIgd2lkdGg9IjkxIiBoZWlnaHQ9IjI2IiBmaWxsPSIjZjVmNWY1IiBzdHJva2U9IiM2NjY2NjYiIHN0cm9rZS13aWR0aD0iMS4zIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDg5LjUsNC41KXNjYWxlKDEuMykiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iMjYiIGhlaWdodD0iMTIiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxMnB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogcmdiKDUxLCA1MSwgNTEpOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMjhweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0OyI+RnVuYzwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSIxMyIgeT0iMTIiIGZpbGw9IiMzMzMzMzMiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTJweCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSI+RnVuYzwvdGV4dD48L3N3aXRjaD48L2c+PHJlY3QgeD0iNjEuMSIgeT0iMjUuOTEiIHdpZHRoPSI5MSIgaGVpZ2h0PSIyNiIgZmlsbD0iI2ZmZmZmZiIgc3Ryb2tlPSIjNjY2NjY2IiBzdHJva2Utd2lkdGg9IjEuMyIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg2Ny41LDMwLjUpc2NhbGUoMS4zKSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSI2MCIgaGVpZ2h0PSIxMiIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDEycHg7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiA2MnB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7Ij5yZXR1cm5fdHlwZTwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSIzMCIgeT0iMTIiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTJweCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSI+cmV0dXJuX3R5cGU8L3RleHQ+PC9zd2l0Y2g+PC9nPjxwYXRoIGQ9Ik0gMTUyLjEgMzkgTCAxNjUuMSAzOSBRIDE3OC4xIDM5IDE3OC4xIDI2IEwgMTc4LjEgMTkuNSBRIDE3OC4xIDEzIDE4Ni45NiAxMyBMIDE5NS44MiAxMyIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuMyIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gMjAyLjY1IDEzIEwgMTkzLjU1IDE3LjU1IEwgMTk1LjgyIDEzIEwgMTkzLjU1IDguNDUgWiIgZmlsbD0iIzAwMDAwMCIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuMyIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxyZWN0IHg9IjIwNC4xIiB5PSItMC4wOSIgd2lkdGg9IjkxIiBoZWlnaHQ9IjI2IiBmaWxsPSIjZjVmNWY1IiBzdHJva2U9IiM2NjY2NjYiIHN0cm9rZS13aWR0aD0iMS4zIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIyNC41LDQuNSlzY2FsZSgxLjMpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjM4IiBoZWlnaHQ9IjEyIiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTJweDsgZm9udC1mYW1pbHk6IEhlbHZldGljYTsgY29sb3I6IHJnYig1MSwgNTEsIDUxKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDQwcHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPlBvaW50ZXI8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iMTkiIHk9IjEyIiBmaWxsPSIjMzMzMzMzIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjEycHgiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EiPlBvaW50ZXI8L3RleHQ+PC9zd2l0Y2g+PC9nPjxyZWN0IHg9IjIwNC4xIiB5PSIyNS45MSIgd2lkdGg9IjkxIiBoZWlnaHQ9IjI2IiBmaWxsPSIjZmZmZmZmIiBzdHJva2U9IiM2NjY2NjYiIHN0cm9rZS13aWR0aD0iMS4zIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIyOS41LDMwLjUpc2NhbGUoMS4zKSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIzMCIgaGVpZ2h0PSIxMiIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDEycHg7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiAzMnB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7Ij5wdHJfdG88L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iMTUiIHk9IjEyIiBmaWxsPSIjMDAwMDAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjEycHgiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EiPnB0cl90bzwvdGV4dD48L3N3aXRjaD48L2c+PHJlY3QgeD0iMzQ3LjEiIHk9Ii0wLjA5IiB3aWR0aD0iOTEiIGhlaWdodD0iMjYiIGZpbGw9IiNmNWY1ZjUiIHN0cm9rZT0iIzY2NjY2NiIgc3Ryb2tlLXdpZHRoPSIxLjMiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzc3LjUsNC41KXNjYWxlKDEuMykiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iMjIiIGhlaWdodD0iMTIiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxMnB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogcmdiKDUxLCA1MSwgNTEpOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMjRweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0OyI+dm9pZDwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSIxMSIgeT0iMTIiIGZpbGw9IiMzMzMzMzMiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTJweCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSI+dm9pZDwvdGV4dD48L3N3aXRjaD48L2c+PHBhdGggZD0iTSAyOTUuMSAzOSBMIDMwOC4xIDM5IFEgMzIxLjEgMzkgMzIxLjEgMjYgTCAzMjEuMSAxOS41IFEgMzIxLjEgMTMgMzI5Ljk2IDEzIEwgMzM4LjgyIDEzIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4zIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSAzNDUuNjUgMTMgTCAzMzYuNTUgMTcuNTUgTCAzMzguODIgMTMgTCAzMzYuNTUgOC40NSBaIiBmaWxsPSIjMDAwMDAwIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4zIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHJlY3QgeD0iMjA0LjEiIHk9Ijc3LjkxIiB3aWR0aD0iOTEiIGhlaWdodD0iMjYiIGZpbGw9IiNmNWY1ZjUiIHN0cm9rZT0iIzY2NjY2NiIgc3Ryb2tlLXdpZHRoPSIxLjMiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjQxLjUsODIuNSlzY2FsZSgxLjMpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjEyIiBoZWlnaHQ9IjEyIiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTJweDsgZm9udC1mYW1pbHk6IEhlbHZldGljYTsgY29sb3I6IHJnYig1MSwgNTEsIDUxKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDE0cHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPmludDwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSI2IiB5PSIxMiIgZmlsbD0iIzMzMzMzMyIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxMnB4IiBmb250LWZhbWlseT0iSGVsdmV0aWNhIj5pbnQ8L3RleHQ+PC9zd2l0Y2g+PC9nPjxwYXRoIGQ9Ik0gMTUyLjEgNjUgTCAxNjUuMSA2NSBRIDE3OC4xIDY1IDE3OC4xIDc4IEwgMTc4LjEgODQuNSBRIDE3OC4xIDkxIDE4Ni45NiA5MSBMIDE5NS44MiA5MSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuMyIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gMjAyLjY1IDkxIEwgMTkzLjU1IDk1LjU1IEwgMTk1LjgyIDkxIEwgMTkzLjU1IDg2LjQ1IFoiIGZpbGw9IiMwMDAwMDAiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjMiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cmVjdCB4PSI2MS4xIiB5PSI1MS45MSIgd2lkdGg9IjkxIiBoZWlnaHQ9IjI2IiBmaWxsPSIjZmZmZmZmIiBzdHJva2U9IiM2NjY2NjYiIHN0cm9rZS13aWR0aD0iMS4zIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDgwLjUsNTYuNSlzY2FsZSgxLjMpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjQwIiBoZWlnaHQ9IjEyIiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTJweDsgZm9udC1mYW1pbHk6IEhlbHZldGljYTsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDQycHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPnBhcmFtMTwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSIyMCIgeT0iMTIiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTJweCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSI+cGFyYW0xPC90ZXh0Pjwvc3dpdGNoPjwvZz48cmVjdCB4PSI2MS4xIiB5PSI3Ny45MSIgd2lkdGg9IjkxIiBoZWlnaHQ9IjI2IiBmaWxsPSIjZmZmZmZmIiBzdHJva2U9IiM2NjY2NjYiIHN0cm9rZS13aWR0aD0iMS4zIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDgwLjUsODIuNSlzY2FsZSgxLjMpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjQwIiBoZWlnaHQ9IjEyIiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTJweDsgZm9udC1mYW1pbHk6IEhlbHZldGljYTsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDQycHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPnBhcmFtMjwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSIyMCIgeT0iMTIiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTJweCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSI+cGFyYW0yPC90ZXh0Pjwvc3dpdGNoPjwvZz48cmVjdCB4PSIyMDQuMSIgeT0iMTI5LjkxIiB3aWR0aD0iOTEiIGhlaWdodD0iMjYiIGZpbGw9IiNmNWY1ZjUiIHN0cm9rZT0iIzY2NjY2NiIgc3Ryb2tlLXdpZHRoPSIxLjMiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjI0LjUsMTM0LjUpc2NhbGUoMS4zKSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIzOCIgaGVpZ2h0PSIxMiIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDEycHg7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7IGNvbG9yOiByZ2IoNTEsIDUxLCA1MSk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiA0MHB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7Ij5Qb2ludGVyPC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjE5IiB5PSIxMiIgZmlsbD0iIzMzMzMzMyIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxMnB4IiBmb250LWZhbWlseT0iSGVsdmV0aWNhIj5Qb2ludGVyPC90ZXh0Pjwvc3dpdGNoPjwvZz48cmVjdCB4PSIyMDQuMSIgeT0iMTU1LjkxIiB3aWR0aD0iOTEiIGhlaWdodD0iMjYiIGZpbGw9IiNmZmZmZmYiIHN0cm9rZT0iIzY2NjY2NiIgc3Ryb2tlLXdpZHRoPSIxLjMiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjI5LjUsMTYwLjUpc2NhbGUoMS4zKSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIzMCIgaGVpZ2h0PSIxMiIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDEycHg7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiAzMnB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7Ij5wdHJfdG88L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iMTUiIHk9IjEyIiBmaWxsPSIjMDAwMDAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjEycHgiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EiPnB0cl90bzwvdGV4dD48L3N3aXRjaD48L2c+PHJlY3QgeD0iMzQ3LjEiIHk9IjEyOS45MSIgd2lkdGg9IjkxIiBoZWlnaHQ9IjI2IiBmaWxsPSIjZjVmNWY1IiBzdHJva2U9IiM2NjY2NjYiIHN0cm9rZS13aWR0aD0iMS4zIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDM4NC41LDEzNC41KXNjYWxlKDEuMykiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxMnB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogcmdiKDUxLCA1MSwgNTEpOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMTRweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0OyI+aW50PC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjYiIHk9IjEyIiBmaWxsPSIjMzMzMzMzIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjEycHgiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EiPmludDwvdGV4dD48L3N3aXRjaD48L2c+PHBhdGggZD0iTSAyOTUuMSAxNjkgTCAzMDguMSAxNjkgUSAzMjEuMSAxNjkgMzIxLjEgMTU2IEwgMzIxLjEgMTQ5LjUgUSAzMjEuMSAxNDMgMzI5Ljk2IDE0MyBMIDMzOC44MiAxNDMiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjMiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDM0NS42NSAxNDMgTCAzMzYuNTUgMTQ3LjU1IEwgMzM4LjgyIDE0MyBMIDMzNi41NSAxMzguNDUgWiIgZmlsbD0iIzAwMDAwMCIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuMyIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gMTUyLjEgOTEgTCAxNjUuMSA5MSBRIDE3OC4xIDkxIDE3OC4xIDEwNCBMIDE3OC4xIDEzMCBRIDE3OC4xIDE0MyAxODYuOTYgMTQzIEwgMTk1LjgyIDE0MyIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuMyIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gMjAyLjY1IDE0MyBMIDE5My41NSAxNDcuNTUgTCAxOTUuODIgMTQzIEwgMTkzLjU1IDEzOC40NSBaIiBmaWxsPSIjMDAwMDAwIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4zIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSA5LjEgMTIuNzIgTCA1Mi44MiAxMi45NiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuMyIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gNTkuNjUgMTIuOTkgTCA1MC41MiAxNy40OSBMIDUyLjgyIDEyLjk2IEwgNTAuNTcgOC4zOSBaIiBmaWxsPSIjMDAwMDAwIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4zIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PC9nPjwvc3ZnPg==" class="fig"></p>
<p>最後にもっと複雑な例を挙げてみましょう。次の図は、intを引数に取って、intを返す関数へのポインタを返す関数へのポインタという型を表しています。言葉にすると複雑ですが、図にすると単に長いだけで、構造としては単純なことがわかると思います。</p>
<p><img src="data:image/svg+xml;base64,PCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIHdpZHRoPSI3MjZweCIgaGVpZ2h0PSIxMDZweCIgdmlld0JveD0iLTAuNSAtMC41IDcyNiAxMDYiIGNvbnRlbnQ9IiZsdDtteGZpbGUgbW9kaWZpZWQ9JnF1b3Q7MjAxOS0wNS0yOFQwOToxMTo1OS42MjFaJnF1b3Q7IGhvc3Q9JnF1b3Q7d3d3LmRyYXcuaW8mcXVvdDsgYWdlbnQ9JnF1b3Q7TW96aWxsYS81LjAgKE1hY2ludG9zaDsgSW50ZWwgTWFjIE9TIFggMTBfMTRfNSkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzc0LjAuMzcyOS4xNjkgU2FmYXJpLzUzNy4zNiZxdW90OyB2ZXJzaW9uPSZxdW90OzEwLjYuOSZxdW90OyBldGFnPSZxdW90O09NUjJJTjhkOXJpZkNybkQyTUxfJnF1b3Q7IHR5cGU9JnF1b3Q7Z29vZ2xlJnF1b3Q7Jmd0OyZsdDtkaWFncmFtIGlkPSZxdW90O0ozWDd5M04wNjd4UnQtVkp2M0QwJnF1b3Q7Jmd0OzdWbkxidU1nRlAyYWJDTURmaTZuYVR1ekdXbWtMcWF6cWhpYnh0WVFFeEhTSlAzNkFSdjhnS1IxcXphdkpwRVNjM2laYzgvbDR1c1Jtc3pXM3ptZTV6OVpSdWdJZXRsNmhLNUhFQUxnK2ZKUElSdU5lTkNya1Nrdk1vMjF3RjN4VEV4RGpTNkxqQ3g2RFFWalZCVHpQcGl5c2lTcDZHR1ljN2JxTjN0a3REL3JIRStKQTl5bG1Mcm83eUlUZVkzR2dkZmlQMGd4elVXellsMHp3NmF4QmhZNXp0aXFBNkdiRVpwd3hrUjlOVnRQQ0ZYc0dWN3FmcmM3YXBzYjQ2UVVRenJBdXNNVHBrdTl0dHRsbWVwN0V4dXpZTTZXWlVaVUgyK0VybFo1SWNqZEhLZXFkaVZ0TExGY3pLZ3NBWG01RUp6OWE0aFJ5R05CNllSUnhxdlIwR09ndmszTFRrMVlmVlFQVm9vT1huOGtybStYY0VIV081Y01HaUtsQkFtYkVjRTNzb251QUpIbTNxZ3Y4cE54SXEwWEFiLzZSWFgxcXJWc3BIdmtIYU1hQzJLdHBXa3pVVXUzdk5DTWIyY2ZPZXh6SXBhOGZCQ2JPZmxvSSt3bSsxTklEUTlGcXUrUTZqQkpNdW5PdWtqb1g3YTZhWUdyQ3BBVk9lUEZzNVFocGdvc3MyOXE0NUI0U3ZGaVVhUjl1c202RVBlZDZ6L0tTdU5BbDY3WDJtaFZZV01LcFZ6WmZiZlE2YVdLYmJlcVpQclZ5MUZyNkJscndaWThKVDFoQ2N5bnhOalBIMnpUanBHQ0xVWXlHQ2NVaStLcGZ4ZmJMS2RuK01VS09YRWpHUVF0eVNTd0w1bXdQMks5UGoxSWQwdXp4L1d0Y1dQZlVsVk5pek5TSmF5R2hrRmFDeHl0bVRIUGRmZDAyZlVPNWVqaHhkRmg1RHA2Y0dSKzdrdUJ0UEx3WVdJRmlpUVp0NVZ4RUwvVDY5SExzNFRlR082ZTVlTjJoTWdScFRRRW5oblRuV28wancvbDVQRUFKMy9GWlhlNDBkRTRTR3lUSFVpUDZHcjVmUjRCN1BncWZlQ3pWSjg0VnFwR0pmeXNZNkhMc0ZIRUhoekRQQXQzZHhyQkh3UTdxWjNHcFREYUk0WGdjb0pvZE5ROVFzQWoyeUZCWUI4NkU4djhRemRGNk8zdjRRQjh3ZVNLYjF0S2JvbGoveUFuQjNBKzJSV1gxZWhnckxycGxhOFE2cDNIWHFYcllIK3N1NG1HRXd6MkxvblJYa204SkF4YUpmVlNnOGNXN3hHd28zVGNDT1hOaVlIUUhnczVZMzFnekhlZi84ODlJeGpZQk52dlU4TDllZmlRYk1IWmUvaTI1SDkwWkI0ZWdGZVNnaSttNjRiNnZwVG1HSFRQU1c0TS80eWtvQ3kyYjNEcjV1MkxjSFR6SHc9PSZsdDsvZGlhZ3JhbSZndDsmbHQ7L214ZmlsZSZndDsiPjxkZWZzLz48Zz48cmVjdCB4PSIyMDQuMSIgeT0iLTAuMDkiIHdpZHRoPSI5MSIgaGVpZ2h0PSIyNiIgZmlsbD0iI2Y1ZjVmNSIgc3Ryb2tlPSIjNjY2NjY2IiBzdHJva2Utd2lkdGg9IjEuMyIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMzIuNSw0LjUpc2NhbGUoMS4zKSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIyNiIgaGVpZ2h0PSIxMiIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDEycHg7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7IGNvbG9yOiByZ2IoNTEsIDUxLCA1MSk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiAyOHB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7Ij5GdW5jPC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjEzIiB5PSIxMiIgZmlsbD0iIzMzMzMzMyIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxMnB4IiBmb250LWZhbWlseT0iSGVsdmV0aWNhIj5GdW5jPC90ZXh0Pjwvc3dpdGNoPjwvZz48cmVjdCB4PSIyMDQuMSIgeT0iMjUuOTEiIHdpZHRoPSI5MSIgaGVpZ2h0PSIyNiIgZmlsbD0iI2ZmZmZmZiIgc3Ryb2tlPSIjNjY2NjY2IiBzdHJva2Utd2lkdGg9IjEuMyIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMTAuNSwzMC41KXNjYWxlKDEuMykiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iNjAiIGhlaWdodD0iMTIiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxMnB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogNjJweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0OyI+cmV0dXJuX3R5cGU8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iMzAiIHk9IjEyIiBmaWxsPSIjMDAwMDAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjEycHgiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EiPnJldHVybl90eXBlPC90ZXh0Pjwvc3dpdGNoPjwvZz48cGF0aCBkPSJNIDI5NS4xIDM5IEwgMzA4LjEgMzkgUSAzMjEuMSAzOSAzMjEuMSAyNi42NSBMIDMyMS4xIDIwLjQ4IFEgMzIxLjEgMTQuMyAzMjkuOTYgMTQuMyBMIDMzOC44MiAxNC4zIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4zIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSAzNDUuNjUgMTQuMyBMIDMzNi41NSAxOC44NSBMIDMzOC44MiAxNC4zIEwgMzM2LjU1IDkuNzUgWiIgZmlsbD0iIzAwMDAwMCIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuMyIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxyZWN0IHg9IjM0Ny4xIiB5PSI3Ny45MSIgd2lkdGg9IjkxIiBoZWlnaHQ9IjI2IiBmaWxsPSIjZjVmNWY1IiBzdHJva2U9IiM2NjY2NjYiIHN0cm9rZS13aWR0aD0iMS4zIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDM4NC41LDgyLjUpc2NhbGUoMS4zKSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDEycHg7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7IGNvbG9yOiByZ2IoNTEsIDUxLCA1MSk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiAxNHB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7Ij5pbnQ8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iNiIgeT0iMTIiIGZpbGw9IiMzMzMzMzMiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTJweCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSI+aW50PC90ZXh0Pjwvc3dpdGNoPjwvZz48cGF0aCBkPSJNIDI5NS4xIDY1IEwgMzA4LjEgNjUgUSAzMjEuMSA2NSAzMjEuMSA3OCBMIDMyMS4xIDg0LjUgUSAzMjEuMSA5MSAzMjkuOTYgOTEgTCAzMzguODIgOTEiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjMiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDM0NS42NSA5MSBMIDMzNi41NSA5NS41NSBMIDMzOC44MiA5MSBMIDMzNi41NSA4Ni40NSBaIiBmaWxsPSIjMDAwMDAwIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4zIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHJlY3QgeD0iMjA0LjEiIHk9IjUxLjkxIiB3aWR0aD0iOTEiIGhlaWdodD0iMjYiIGZpbGw9IiNmZmZmZmYiIHN0cm9rZT0iIzY2NjY2NiIgc3Ryb2tlLXdpZHRoPSIxLjMiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjIzLjUsNTYuNSlzY2FsZSgxLjMpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjQwIiBoZWlnaHQ9IjEyIiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTJweDsgZm9udC1mYW1pbHk6IEhlbHZldGljYTsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDQycHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPnBhcmFtMTwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSIyMCIgeT0iMTIiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTJweCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSI+cGFyYW0xPC90ZXh0Pjwvc3dpdGNoPjwvZz48cGF0aCBkPSJNIDkuMSAxMi43MiBMIDUyLjgyIDEyLjk2IiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4zIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSA1OS42NSAxMi45OSBMIDUwLjUyIDE3LjQ5IEwgNTIuODIgMTIuOTYgTCA1MC41NyA4LjM5IFoiIGZpbGw9IiMwMDAwMDAiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjMiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cmVjdCB4PSI2MS4xIiB5PSIwIiB3aWR0aD0iOTEiIGhlaWdodD0iMjYiIGZpbGw9IiNmNWY1ZjUiIHN0cm9rZT0iIzY2NjY2NiIgc3Ryb2tlLXdpZHRoPSIxLjMiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoODEuNSw0LjUpc2NhbGUoMS4zKSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIzOCIgaGVpZ2h0PSIxMiIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDEycHg7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7IGNvbG9yOiByZ2IoNTEsIDUxLCA1MSk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiA0MHB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7Ij5Qb2ludGVyPC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjE5IiB5PSIxMiIgZmlsbD0iIzMzMzMzMyIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxMnB4IiBmb250LWZhbWlseT0iSGVsdmV0aWNhIj5Qb2ludGVyPC90ZXh0Pjwvc3dpdGNoPjwvZz48cmVjdCB4PSI2MS4xIiB5PSIyNiIgd2lkdGg9IjkxIiBoZWlnaHQ9IjI2IiBmaWxsPSIjZmZmZmZmIiBzdHJva2U9IiM2NjY2NjYiIHN0cm9rZS13aWR0aD0iMS4zIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDg2LjUsMzAuNSlzY2FsZSgxLjMpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjMwIiBoZWlnaHQ9IjEyIiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTJweDsgZm9udC1mYW1pbHk6IEhlbHZldGljYTsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDMycHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPnB0cl90bzwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSIxNSIgeT0iMTIiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTJweCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSI+cHRyX3RvPC90ZXh0Pjwvc3dpdGNoPjwvZz48cGF0aCBkPSJNIDE1Mi4xIDM5IEwgMTY1LjEgMzkgUSAxNzguMSAzOSAxNzguMSAyNiBMIDE3OC4xIDE5LjUgUSAxNzguMSAxMyAxODYuOTYgMTMgTCAxOTUuODIgMTMiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjMiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDIwMi42NSAxMyBMIDE5My41NSAxNy41NSBMIDE5NS44MiAxMyBMIDE5My41NSA4LjQ1IFoiIGZpbGw9IiMwMDAwMDAiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjMiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cmVjdCB4PSI0OTAuMSIgeT0iMC41NiIgd2lkdGg9IjkxIiBoZWlnaHQ9IjI2IiBmaWxsPSIjZjVmNWY1IiBzdHJva2U9IiM2NjY2NjYiIHN0cm9rZS13aWR0aD0iMS4zIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDUxOC41LDUuNSlzY2FsZSgxLjMpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjI2IiBoZWlnaHQ9IjEyIiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTJweDsgZm9udC1mYW1pbHk6IEhlbHZldGljYTsgY29sb3I6IHJnYig1MSwgNTEsIDUxKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDI4cHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPkZ1bmM8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iMTMiIHk9IjEyIiBmaWxsPSIjMzMzMzMzIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjEycHgiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EiPkZ1bmM8L3RleHQ+PC9zd2l0Y2g+PC9nPjxyZWN0IHg9IjQ5MC4xIiB5PSIyNi41NiIgd2lkdGg9IjkxIiBoZWlnaHQ9IjI2IiBmaWxsPSIjZmZmZmZmIiBzdHJva2U9IiM2NjY2NjYiIHN0cm9rZS13aWR0aD0iMS4zIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQ5Ni41LDMxLjUpc2NhbGUoMS4zKSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSI2MCIgaGVpZ2h0PSIxMiIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDEycHg7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiA2MnB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7Ij5yZXR1cm5fdHlwZTwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSIzMCIgeT0iMTIiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTJweCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSI+cmV0dXJuX3R5cGU8L3RleHQ+PC9zd2l0Y2g+PC9nPjxyZWN0IHg9IjM0Ny4xIiB5PSIwLjY1IiB3aWR0aD0iOTEiIGhlaWdodD0iMjYiIGZpbGw9IiNmNWY1ZjUiIHN0cm9rZT0iIzY2NjY2NiIgc3Ryb2tlLXdpZHRoPSIxLjMiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzY3LjUsNS41KXNjYWxlKDEuMykiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iMzgiIGhlaWdodD0iMTIiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxMnB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogcmdiKDUxLCA1MSwgNTEpOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogNDBweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0OyI+UG9pbnRlcjwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSIxOSIgeT0iMTIiIGZpbGw9IiMzMzMzMzMiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTJweCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSI+UG9pbnRlcjwvdGV4dD48L3N3aXRjaD48L2c+PHJlY3QgeD0iMzQ3LjEiIHk9IjI2LjY1IiB3aWR0aD0iOTEiIGhlaWdodD0iMjYiIGZpbGw9IiNmZmZmZmYiIHN0cm9rZT0iIzY2NjY2NiIgc3Ryb2tlLXdpZHRoPSIxLjMiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzcyLjUsMzEuNSlzY2FsZSgxLjMpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjMwIiBoZWlnaHQ9IjEyIiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTJweDsgZm9udC1mYW1pbHk6IEhlbHZldGljYTsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDMycHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPnB0cl90bzwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSIxNSIgeT0iMTIiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTJweCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSI+cHRyX3RvPC90ZXh0Pjwvc3dpdGNoPjwvZz48cGF0aCBkPSJNIDQzOC4xIDQwLjMgTCA0NTEuMSA0MC4zIFEgNDY0LjEgNDAuMyA0NjQuMSAyNy4zIEwgNDY0LjEgMjAuMTUgUSA0NjQuMSAxMyA0NzIuOTYgMTMgTCA0ODEuODIgMTMiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjMiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDQ4OC42NSAxMyBMIDQ3OS41NSAxNy41NSBMIDQ4MS44MiAxMyBMIDQ3OS41NSA4LjQ1IFoiIGZpbGw9IiMwMDAwMDAiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjMiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cmVjdCB4PSI2MzMuMSIgeT0iLTAuMDkiIHdpZHRoPSI5MSIgaGVpZ2h0PSIyNiIgZmlsbD0iI2Y1ZjVmNSIgc3Ryb2tlPSIjNjY2NjY2IiBzdHJva2Utd2lkdGg9IjEuMyIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg2NzAuNSw0LjUpc2NhbGUoMS4zKSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDEycHg7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7IGNvbG9yOiByZ2IoNTEsIDUxLCA1MSk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiAxNHB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7Ij5pbnQ8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iNiIgeT0iMTIiIGZpbGw9IiMzMzMzMzMiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTJweCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSI+aW50PC90ZXh0Pjwvc3dpdGNoPjwvZz48cGF0aCBkPSJNIDU4MS4xIDM5IEwgNTk0LjEgMzkgUSA2MDcuMSAzOSA2MDcuMSAyNiBMIDYwNy4xIDE5LjUgUSA2MDcuMSAxMyA2MTUuOTYgMTMgTCA2MjQuODIgMTMiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjMiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDYzMS42NSAxMyBMIDYyMi41NSAxNy41NSBMIDYyNC44MiAxMyBMIDYyMi41NSA4LjQ1IFoiIGZpbGw9IiMwMDAwMDAiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjMiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48L2c+PC9zdmc+" class="fig"></p>
<p>変数<code class="notranslate">x</code>が上記の図の型を持っている場合、<code class="notranslate">x</code>はポインタ型で、そのポインタが指しているのは関数で、その関数の引数の型は<code class="notranslate">int</code>で、返り値の型はポインタ型で、そのポインタが指しているのは関数で、その関数の返り値の型は<code class="notranslate">int</code>ということになります。</p>
<p>コンパイラの内部では、上記の図と同じ方法を使って型を表しています。つまり、ポインタや配列、関数が関連する複雑な型は、コンパイラ内部では上記の図と同じ順番で、単純な型の構造体をポインタで繋いだデータ構造として表現されています。したがってこの図こそが型の真の姿と言っても過言ではないでしょう。</p>
<h2 id="型を表す記法"><a href="https://www.sigbus.info/compilerbook#%E5%9E%8B%E3%82%92%E8%A1%A8%E3%81%99%E8%A8%98%E6%B3%95" style="text-decoration: none; color: inherit;">型を表す記法</a></h2>
<p>上記のように図で表すと型の意味はわかりやすくなりますが、型を理解するために毎回図を書くのは面倒です。この節では、図のわかりやすさを損なわずに、もっとコンパクトに書ける記法について考えてみましょう。</p>
<p>関数型が含まれていない限り、図の中で、全ての箱は枝分かれなしに数珠つなぎに配置されることになります。したがって、ポインタや配列しかない型であれば、図の中にある型の名前をそのまま左から右に書いていくことで、図を文字で表現することができるはずです。</p>
<p>具体的な表記について考えてみましょう。ポインタを表す箱は<code class="notranslate">*</code>という記号で表すことにします。また、長さnの配列を表す箱は<code class="notranslate">[n]</code>、intなどの組み込みの型を表す箱は型の名前を書くというルールにしましょう。そうすると、以下の図は、<code class="notranslate">* * int</code>という文字列で表すことができます。</p>
<p><img src="data:image/svg+xml;base64,PCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIHdpZHRoPSI0NDBweCIgaGVpZ2h0PSI1NHB4IiB2aWV3Qm94PSItMC41IC0wLjUgNDQwIDU0IiBjb250ZW50PSImbHQ7bXhmaWxlIG1vZGlmaWVkPSZxdW90OzIwMTktMDUtMjhUMDk6MTE6MjEuMDA3WiZxdW90OyBob3N0PSZxdW90O3d3dy5kcmF3LmlvJnF1b3Q7IGFnZW50PSZxdW90O01vemlsbGEvNS4wIChNYWNpbnRvc2g7IEludGVsIE1hYyBPUyBYIDEwXzE0XzUpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS83NC4wLjM3MjkuMTY5IFNhZmFyaS81MzcuMzYmcXVvdDsgdmVyc2lvbj0mcXVvdDsxMC42LjkmcXVvdDsgZXRhZz0mcXVvdDtPdUJCMWFFbVMtSVdFT216eU15biZxdW90OyB0eXBlPSZxdW90O2dvb2dsZSZxdW90OyZndDsmbHQ7ZGlhZ3JhbSBpZD0mcXVvdDtMRzdKSHFBTTlTZkVQVGRZSURGeCZxdW90OyZndDs3VmRkYjVzd0ZQMDF2Q0xBZkQ2dWFiYTlUSnFVaDNWUGt3ZE9zT2JneURpRjlOZlB4amJZSWRHaUttdXF0a1FpdnNlKzJQZmM0MnZ3d0dMYmYyRndWMytqRlNKZUZGUzlCKzY5S0FyRElCWi9FamxvSkVnTGhXd1lyalEyQVN2OGhNeEFqZTV4aFZwbklLZVVjTHh6d1pJMkRTcTVnMEhHYU9jT1cxUGl6cnFER3pRRFZpVWtjL1FIcm5pdDBEd0pKdndyd3B1YWp4SHJuaTAwZ3pYUTFyQ2luUVdCcFFjV2pGS3VXdHQrZ1loa3ovQ2kvRDZmNlIwWHhsRERMM0dJbE1NakpIc2QyM2VLRzQ2WVhoNC9tSmdaM1RjVmttNkJCKzY2R25PMDJzRlM5bllpelFLcitaWUlLeFRObGpQNlorUkdJbXRNeUlJU3lvYW5nWFVpZitOSXF5Y2RMdWxCRzI3aDZoSzRYakZpSFBWbm93NUhMb1VLRWQwaXpnNWlpSEV3OUJzQlJxa0d1aW1kbVlacUs1UEdEMm9CYmNaSFR4eUxocWI1Tk9WZ1J2bU9zMStjWHB2eDg4eitGd2J6bDJNd25qRTQ0dzVWWXNOcUU1SGZ0RnRPd04wQWlJNmFNdndrVkFhSkJKdnFreXdOQWk4SmJGdGN1Z1NqSHZNSHEvMVQ1c1ZQdEhYZjZ6UU54c0VZallqc3dUWXNMMmxPYm9ObC9GUTRNZ1luUFMzZHN4STVLdUtRYlpDbU5yazRpVmFPa2hNNU1oaERCSEw4NkM3aVZPTDBERVBwbURReWxtdWprVGcrU3I0S1NMdlpWZXI0U1ZIaDUwa1d4cEc2RjBmYWk1MXU0RTZpS0pwTk1vaHM1T1FpM1NYdnNsaEc0SWJGTW4wTHhYTE80QXNXeTJ6R29Oa0liMVd3SUw2aFlQT1BzOGxzV3Z0c3lsN1oyUVNpeEErTElNNVNmVTljeVlBazhLM2U0bm5ubGxDaVB4NWE4bjZiYzZ1NFFKUC9VdGgxMWZKcWRKRFBTa1hoWi9hcnh2TVNINGJ1QzB0Ky9NYVNCWDVrS1NPL1V1cUZPWDA3cXVIVEp6aFkvZ1U9Jmx0Oy9kaWFncmFtJmd0OyZsdDsvbXhmaWxlJmd0OyI+PGRlZnMvPjxnPjxyZWN0IHg9IjYxLjEiIHk9IjAiIHdpZHRoPSI5MSIgaGVpZ2h0PSIyNiIgZmlsbD0iI2Y1ZjVmNSIgc3Ryb2tlPSIjNjY2NjY2IiBzdHJva2Utd2lkdGg9IjEuMyIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg4MS41LDQuNSlzY2FsZSgxLjMpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjM4IiBoZWlnaHQ9IjEyIiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTJweDsgZm9udC1mYW1pbHk6IEhlbHZldGljYTsgY29sb3I6IHJnYig1MSwgNTEsIDUxKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDQwcHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPlBvaW50ZXI8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iMTkiIHk9IjEyIiBmaWxsPSIjMzMzMzMzIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjEycHgiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EiPlBvaW50ZXI8L3RleHQ+PC9zd2l0Y2g+PC9nPjxyZWN0IHg9IjYxLjEiIHk9IjI2IiB3aWR0aD0iOTEiIGhlaWdodD0iMjYiIGZpbGw9IiNmZmZmZmYiIHN0cm9rZT0iIzY2NjY2NiIgc3Ryb2tlLXdpZHRoPSIxLjMiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoODYuNSwzMC41KXNjYWxlKDEuMykiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iMzAiIGhlaWdodD0iMTIiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxMnB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMzJweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0OyI+cHRyX3RvPC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjE1IiB5PSIxMiIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxMnB4IiBmb250LWZhbWlseT0iSGVsdmV0aWNhIj5wdHJfdG88L3RleHQ+PC9zd2l0Y2g+PC9nPjxwYXRoIGQ9Ik0gMTUyLjEgMzkgTCAxNjUuMSAzOSBRIDE3OC4xIDM5IDE3OC4xIDI2IEwgMTc4LjEgMTkuNSBRIDE3OC4xIDEzIDE4Ni45NiAxMyBMIDE5NS44MiAxMyIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuMyIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gMjAyLjY1IDEzIEwgMTkzLjU1IDE3LjU1IEwgMTk1LjgyIDEzIEwgMTkzLjU1IDguNDUgWiIgZmlsbD0iIzAwMDAwMCIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuMyIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxyZWN0IHg9IjIwNC4xIiB5PSIwIiB3aWR0aD0iOTEiIGhlaWdodD0iMjYiIGZpbGw9IiNmNWY1ZjUiIHN0cm9rZT0iIzY2NjY2NiIgc3Ryb2tlLXdpZHRoPSIxLjMiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjI0LjUsNC41KXNjYWxlKDEuMykiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iMzgiIGhlaWdodD0iMTIiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxMnB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogcmdiKDUxLCA1MSwgNTEpOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogNDBweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0OyI+UG9pbnRlcjwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSIxOSIgeT0iMTIiIGZpbGw9IiMzMzMzMzMiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTJweCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSI+UG9pbnRlcjwvdGV4dD48L3N3aXRjaD48L2c+PHJlY3QgeD0iMjA0LjEiIHk9IjI2IiB3aWR0aD0iOTEiIGhlaWdodD0iMjYiIGZpbGw9IiNmZmZmZmYiIHN0cm9rZT0iIzY2NjY2NiIgc3Ryb2tlLXdpZHRoPSIxLjMiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjI5LjUsMzAuNSlzY2FsZSgxLjMpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjMwIiBoZWlnaHQ9IjEyIiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTJweDsgZm9udC1mYW1pbHk6IEhlbHZldGljYTsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDMycHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPnB0cl90bzwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSIxNSIgeT0iMTIiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTJweCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSI+cHRyX3RvPC90ZXh0Pjwvc3dpdGNoPjwvZz48cmVjdCB4PSIzNDcuMSIgeT0iMCIgd2lkdGg9IjkxIiBoZWlnaHQ9IjI2IiBmaWxsPSIjZjVmNWY1IiBzdHJva2U9IiM2NjY2NjYiIHN0cm9rZS13aWR0aD0iMS4zIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDM4NC41LDQuNSlzY2FsZSgxLjMpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjEyIiBoZWlnaHQ9IjEyIiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTJweDsgZm9udC1mYW1pbHk6IEhlbHZldGljYTsgY29sb3I6IHJnYig1MSwgNTEsIDUxKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDE0cHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPmludDwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSI2IiB5PSIxMiIgZmlsbD0iIzMzMzMzMyIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxMnB4IiBmb250LWZhbWlseT0iSGVsdmV0aWNhIj5pbnQ8L3RleHQ+PC9zd2l0Y2g+PC9nPjxwYXRoIGQ9Ik0gMjk1LjEgMzkgTCAzMDguMSAzOSBRIDMyMS4xIDM5IDMyMS4xIDI2IEwgMzIxLjEgMTkuNSBRIDMyMS4xIDEzIDMyOS45NiAxMyBMIDMzOC44MiAxMyIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuMyIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gMzQ1LjY1IDEzIEwgMzM2LjU1IDE3LjU1IEwgMzM4LjgyIDEzIEwgMzM2LjU1IDguNDUgWiIgZmlsbD0iIzAwMDAwMCIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuMyIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gOS4xIDEyLjcyIEwgNTIuNjQgMTMuMTkiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjMiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDU5LjQ2IDEzLjI2IEwgNTAuMzEgMTcuNzEgTCA1Mi42NCAxMy4xOSBMIDUwLjQxIDguNjIgWiIgZmlsbD0iIzAwMDAwMCIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuMyIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjwvZz48L3N2Zz4=" class="fig"></p>
<p>矢印の始点から順番にポインタ、ポインタ、intが登場しているので、<code class="notranslate">* * int</code>という表記になるというわけです。逆に<code class="notranslate">* * int</code>という表記が与えられた場合に、上の図を描くこともできます。つまりこのテキスト表現は、図と同じ情報をコンパクトにテキストで書き下すことができる記法というわけです。</p>
<p>下の図は<code class="notranslate">[20] * int</code>という文字列で表現できます。</p>
<p><img src="data:image/svg+xml;base64,PCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIHdpZHRoPSI0NDBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSItMC41IC0wLjUgNDQwIDgwIiBjb250ZW50PSImbHQ7bXhmaWxlIG1vZGlmaWVkPSZxdW90OzIwMTktMDUtMjhUMDk6MTE6MzQuNTYyWiZxdW90OyBob3N0PSZxdW90O3d3dy5kcmF3LmlvJnF1b3Q7IGFnZW50PSZxdW90O01vemlsbGEvNS4wIChNYWNpbnRvc2g7IEludGVsIE1hYyBPUyBYIDEwXzE0XzUpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS83NC4wLjM3MjkuMTY5IFNhZmFyaS81MzcuMzYmcXVvdDsgdmVyc2lvbj0mcXVvdDsxMC42LjkmcXVvdDsgZXRhZz0mcXVvdDtRUWxSSHZnaVpsMmJPTUpaVEQ1MiZxdW90OyB0eXBlPSZxdW90O2dvb2dsZSZxdW90OyZndDsmbHQ7ZGlhZ3JhbSBpZD0mcXVvdDtfUDh1b0QyOEw1Q1BucjdXbDZwRyZxdW90OyZndDszVmpCanBzd0VQMGFyaEZnSU1reG0wM2JTNlZLT1hSN1dya3dBYXNPam95emtQMzYybUNEaVJNMXFqYlp6UklKUE04ZTQzbnpHRU04dE53Mlh6bmVGZDlaQnRRTC9hengwS01YaGtIZ1IvS2lrSU5HL05EdmtKeVRUR01Ec0NhdllBWnFkRTh5cUVZREJXTlVrTjBZVEZsWlFpcEdHT2FjMWVOaEcwYkhkOTNoSEJ4Z25XTHFvajlKSm9vT25jWCtnSDhEa2hlaWoxajNiTEVacklHcXdCbXJMUWl0UExUa2pJbXV0VzJXUUJWN2hwZk83OHVaM241aEhFcHhpVVBZT2J4Z3V0ZXhMVGpIQjcwNGNUQVJjN1l2TTFCT3ZvY2U2b0lJV085d3FucHJtV1NKRldKTHBSWElaaVU0KzlNem81QU5vWFRKS09QdGJHZ1RxMTgvMHVwSjJrTjVzRkpZZUhkSVhLOFh1SURtYk14Qno2VFVJTEF0Q0M1RDhvMkRJZC9JTHpMcHFZZGtUalZVV0hrMGZsakxKKytuSGhpV0RVM3lhY0tSUXpoV2hEK3p6VnR6ZnA3YnEzQVkzbzdEeU9IUTRRNHkrY0JxRStodlZxOEc0S0VGWkVmQk9IbVZPc05VZ1dXMlVLVkI0aW5GVlVYU01jSFFFUEZrdFgrcHZFeGliVDAyT2sydGNUQkdLU043c2czTFM1bURXMnNadnk0Y0ZjTW9QUlhiOHhSR09oS1k1NkNwalM5T29wV2orRVNPRE1hQllrRmV4b3M0bFRoOWh4K015QnYzR3VuTHRkRkk0aDhsdnd0SXU5bFY2bmdtZEt3MmREUlR4NE16VTZ1a1B2Q0x4QlU3NG1wbkJmNnBhNkxMOEExcll1SlF2aFA4V2JDN3FvZ3VnemVzaUZPSFFmTWdmRmJCb3VnZEJUdTdsdzNvZ28waytXQzdCZ3JqU1REM28ybWl6L0U0ejNIZ1Q2emUrZi90S0s1OGdxdnRLUE4zVWN2YnZucDhHSG5NL3BXM1N4VWczMkFuc2tiUDRxaytCODdFZG44eXY1WThUQUNXUGlpVXVlSnlJZUgrUy9FK3RrSDN3eUM2V2wyVzV2Q2wzREUvL09HQVZuOEImbHQ7L2RpYWdyYW0mZ3Q7Jmx0Oy9teGZpbGUmZ3Q7Ij48ZGVmcy8+PGc+PHJlY3QgeD0iNjEuMSIgeT0iMCIgd2lkdGg9IjkxIiBoZWlnaHQ9IjI2IiBmaWxsPSIjZjVmNWY1IiBzdHJva2U9IiM2NjY2NjYiIHN0cm9rZS13aWR0aD0iMS4zIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDg3LjUsNC41KXNjYWxlKDEuMykiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iMjgiIGhlaWdodD0iMTIiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxMnB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogcmdiKDUxLCA1MSwgNTEpOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMzBweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0OyI+QXJyYXk8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iMTQiIHk9IjEyIiBmaWxsPSIjMzMzMzMzIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjEycHgiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EiPkFycmF5PC90ZXh0Pjwvc3dpdGNoPjwvZz48cmVjdCB4PSI2MS4xIiB5PSIyNiIgd2lkdGg9IjkxIiBoZWlnaHQ9IjI2IiBmaWxsPSIjZmZmZmZmIiBzdHJva2U9IiM2NjY2NjYiIHN0cm9rZS13aWR0aD0iMS4zIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDc3LjUsMzAuNSlzY2FsZSgxLjMpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjQ0IiBoZWlnaHQ9IjEyIiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTJweDsgZm9udC1mYW1pbHk6IEhlbHZldGljYTsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDQ2cHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPmFycmF5X29mPC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjIyIiB5PSIxMiIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxMnB4IiBmb250LWZhbWlseT0iSGVsdmV0aWNhIj5hcnJheV9vZjwvdGV4dD48L3N3aXRjaD48L2c+PHBhdGggZD0iTSAxNTIuMSAzOSBMIDE2NS4xIDM5IFEgMTc4LjEgMzkgMTc4LjEgMjYgTCAxNzguMSAxOS41IFEgMTc4LjEgMTMgMTg2Ljk2IDEzIEwgMTk1LjgyIDEzIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4zIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSAyMDIuNjUgMTMgTCAxOTMuNTUgMTcuNTUgTCAxOTUuODIgMTMgTCAxOTMuNTUgOC40NSBaIiBmaWxsPSIjMDAwMDAwIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4zIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHJlY3QgeD0iMjA0LjEiIHk9IjAiIHdpZHRoPSI5MSIgaGVpZ2h0PSIyNiIgZmlsbD0iI2Y1ZjVmNSIgc3Ryb2tlPSIjNjY2NjY2IiBzdHJva2Utd2lkdGg9IjEuMyIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMjQuNSw0LjUpc2NhbGUoMS4zKSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIzOCIgaGVpZ2h0PSIxMiIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDEycHg7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7IGNvbG9yOiByZ2IoNTEsIDUxLCA1MSk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiA0MHB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7Ij5Qb2ludGVyPC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjE5IiB5PSIxMiIgZmlsbD0iIzMzMzMzMyIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxMnB4IiBmb250LWZhbWlseT0iSGVsdmV0aWNhIj5Qb2ludGVyPC90ZXh0Pjwvc3dpdGNoPjwvZz48cmVjdCB4PSIyMDQuMSIgeT0iMjYiIHdpZHRoPSI5MSIgaGVpZ2h0PSIyNiIgZmlsbD0iI2ZmZmZmZiIgc3Ryb2tlPSIjNjY2NjY2IiBzdHJva2Utd2lkdGg9IjEuMyIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMjkuNSwzMC41KXNjYWxlKDEuMykiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iMzAiIGhlaWdodD0iMTIiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxMnB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMzJweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0OyI+cHRyX3RvPC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjE1IiB5PSIxMiIgZmlsbD0iIzAwMDAwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxMnB4IiBmb250LWZhbWlseT0iSGVsdmV0aWNhIj5wdHJfdG88L3RleHQ+PC9zd2l0Y2g+PC9nPjxyZWN0IHg9IjM0Ny4xIiB5PSIwIiB3aWR0aD0iOTEiIGhlaWdodD0iMjYiIGZpbGw9IiNmNWY1ZjUiIHN0cm9rZT0iIzY2NjY2NiIgc3Ryb2tlLXdpZHRoPSIxLjMiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzg0LjUsNC41KXNjYWxlKDEuMykiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxMnB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogcmdiKDUxLCA1MSwgNTEpOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMTRweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0OyI+aW50PC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjYiIHk9IjEyIiBmaWxsPSIjMzMzMzMzIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjEycHgiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EiPmludDwvdGV4dD48L3N3aXRjaD48L2c+PHBhdGggZD0iTSAyOTUuMSAzOSBMIDMwOC4xIDM5IFEgMzIxLjEgMzkgMzIxLjEgMjYgTCAzMjEuMSAxOS41IFEgMzIxLjEgMTMgMzI5Ljk2IDEzIEwgMzM4LjgyIDEzIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4zIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSAzNDUuNjUgMTMgTCAzMzYuNTUgMTcuNTUgTCAzMzguODIgMTMgTCAzMzYuNTUgOC40NSBaIiBmaWxsPSIjMDAwMDAwIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4zIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSA5LjEgMTMgTCAyMi4xIDEzIFEgMzUuMSAxMyA0NC4wNSAxMy4wOSBMIDUzLjAxIDEzLjE5IiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4zIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSA1OS44MyAxMy4xOSBMIDUwLjczIDE3Ljc0IEwgNTMuMDEgMTMuMTkgTCA1MC43MyA4LjY0IFoiIGZpbGw9IiMwMDAwMDAiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjMiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cmVjdCB4PSI2MS4xIiB5PSI1MiIgd2lkdGg9IjkxIiBoZWlnaHQ9IjI2IiBmaWxsPSIjZmZmZmZmIiBzdHJva2U9IiM2NjY2NjYiIHN0cm9rZS13aWR0aD0iMS4zIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDcyLjUsNTYuNSlzY2FsZSgxLjMpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjUyIiBoZWlnaHQ9IjEyIiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTJweDsgZm9udC1mYW1pbHk6IEhlbHZldGljYTsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDU0cHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPmxlbmd0aDogMjA8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iMjYiIHk9IjEyIiBmaWxsPSIjMDAwMDAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjEycHgiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EiPmxlbmd0aDogMjA8L3RleHQ+PC9zd2l0Y2g+PC9nPjwvZz48L3N2Zz4=" class="fig"></p>
<p>関数については、「<code class="notranslate">func(引数の型, ...) 返り値の型</code>」という書き方をすることにしましょう。例えば下の図で表される型は<code class="notranslate">func(int, * int) * void</code>という表記になります。読者のみなさんもこの表記と図が一致していることを確認してみてください。</p>
<p><img src="data:image/svg+xml;base64,PCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIHdpZHRoPSI0NDBweCIgaGVpZ2h0PSIxODRweCIgdmlld0JveD0iLTAuNSAtMC41IDQ0MCAxODQiIGNvbnRlbnQ9IiZsdDtteGZpbGUgbW9kaWZpZWQ9JnF1b3Q7MjAxOS0wNS0yOFQwOToxMTo0OC4wNjJaJnF1b3Q7IGhvc3Q9JnF1b3Q7d3d3LmRyYXcuaW8mcXVvdDsgYWdlbnQ9JnF1b3Q7TW96aWxsYS81LjAgKE1hY2ludG9zaDsgSW50ZWwgTWFjIE9TIFggMTBfMTRfNSkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzc0LjAuMzcyOS4xNjkgU2FmYXJpLzUzNy4zNiZxdW90OyB2ZXJzaW9uPSZxdW90OzEwLjYuOSZxdW90OyBldGFnPSZxdW90OzBhN1d5WnFheF9IUGljcU5FSWhCJnF1b3Q7IHR5cGU9JnF1b3Q7Z29vZ2xlJnF1b3Q7Jmd0OyZsdDtkaWFncmFtIGlkPSZxdW90O0E4NFNUbDVwdUdvbUlvZTRQN2RoJnF1b3Q7Jmd0OzdWblJidHNnRlAyYXZGbzJHRHM4cm1tN3ZVeWExSWQxVHhXemFZeEdURVJJay9UcmgyMndjVWlUck12cU5GMHFwZVlBRjNQdTRYSWhJemlaclQ5TE1pKytpcHp5RVFqejlRaGVqd0NJb2pEVy95cGtZNUFRaEEweWxTdzNXQWZjc1dkcUd4cDB5WEs2NkRWVVFuREY1bjB3RTJWSk05WERpSlJpMVcvMktIaC8xRG1aVWcrNHl3ajMwZThzVjBXRGpsSFk0VjhvbXhhcW5iR3BtUkhiMkFDTGd1Umk1VUR3WmdRblVnalZQTTNXRThvcjlpd3ZUYi9iRjJyYkY1TzBWTWQwQUUySEo4S1habTYzeXpJejc2WTJkc0pTTE11Y1ZuM0NFYnhhRlV6UnV6bkpxdHFWOXJIR0NqWGp1aFRweDRXUzRsZExUSVU4TXM0bmdndFpXNE9QcVBwcld6bzFTZjJwZW9oU09YanowYmg1WFNvVlhiODQ1YWdsVWt1UWlobFZjcU9iMkE2V2U2cytCSEdBdGZmU0tLNi9ZVk85Nmp5Ym1oNkY0MVJyaFJndFRkdUJPcnIxZzJGOE4vdlFZMTlTdFpUbGc5ck02YW1kOERMWi80UlVOQlNwc1VlcXh5VE45WEkyUmNwL2l0Vk5CMXpWZ0s0b2hHVFBXb2FFVjJDWmY2b0NoOFl6VGhZTGx2WHBwbXVtN3Azbkg1V1hBbVJLMTJ2anRMcXdzWVZTeit6ZUxUaTlxbUxYclM3WmZzMTBxam4wbkxVUVM1blJuckFVa1ZOcXFFVkh1OVR4RWRyaEk0dEp5b2xpVC8yWDJPVTRNOEkzd2ZUQXJXTGFZRzRWazhaeEVEdUtTZm9XbStrWkkyNUUyN1lMY05BWmlRSHVqNUxnT09ncXgyamNINlZoekJ1bDFseEwwVkV5Uko0TWE2dFVYblJ3QmZCQWNFM2VMQTRrbmdQbVNqNG84YTdpcXM4bkdvclAxT1B6U2VpNlMxWXpqTTlHemVQL3U1cGQwZTZ1bHA3WnJnWUJDaUljeG1saXZ0SFc5cU4zSjl4V1luc1MrdE5OVGdzemlOek5jbHVtWVFEZVlwUERuaXF0elVzTkNYNUF4a01sdWphQit0QXhJYkxuZnljbzRETUxDZ0R2VFVtUlRrbjNyTllUSmI0SXZWSGlhejNpSmw1RWtwbDEzdnRJdlB3RGJUcllPdmN2YVdwQy9kWCt2Z2dkTG5ENjl5NGY4bXlXREpiTlJ2NGx6U1VjenBMQkRtZVJmOTF3NlptWWR6Z2JVTTcrWFlOSC9lVm5ZbVpOdTVsWWRHNjNqb2ZPWittSnptZkpnV0hDdmNPY01CbnpiMjArb0RMQkRtWENNMU1tR0cvZmh3TjlMSEFUK2xkSzBkdWswcjEyVDZpOVkrNnNEaW5wdEtwd0ZRRE9UQURiL2tjeER0Sy85NzluTnRwcjl0WHUxOFh1Wit1bWVmZnJQN3o1RFE9PSZsdDsvZGlhZ3JhbSZndDsmbHQ7L214ZmlsZSZndDsiPjxkZWZzLz48Zz48cmVjdCB4PSI2MS4xIiB5PSItMC4wOSIgd2lkdGg9IjkxIiBoZWlnaHQ9IjI2IiBmaWxsPSIjZjVmNWY1IiBzdHJva2U9IiM2NjY2NjYiIHN0cm9rZS13aWR0aD0iMS4zIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDg5LjUsNC41KXNjYWxlKDEuMykiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iMjYiIGhlaWdodD0iMTIiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxMnB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogcmdiKDUxLCA1MSwgNTEpOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMjhweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0OyI+RnVuYzwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSIxMyIgeT0iMTIiIGZpbGw9IiMzMzMzMzMiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTJweCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSI+RnVuYzwvdGV4dD48L3N3aXRjaD48L2c+PHJlY3QgeD0iNjEuMSIgeT0iMjUuOTEiIHdpZHRoPSI5MSIgaGVpZ2h0PSIyNiIgZmlsbD0iI2ZmZmZmZiIgc3Ryb2tlPSIjNjY2NjY2IiBzdHJva2Utd2lkdGg9IjEuMyIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg2Ny41LDMwLjUpc2NhbGUoMS4zKSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSI2MCIgaGVpZ2h0PSIxMiIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDEycHg7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiA2MnB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7Ij5yZXR1cm5fdHlwZTwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSIzMCIgeT0iMTIiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTJweCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSI+cmV0dXJuX3R5cGU8L3RleHQ+PC9zd2l0Y2g+PC9nPjxwYXRoIGQ9Ik0gMTUyLjEgMzkgTCAxNjUuMSAzOSBRIDE3OC4xIDM5IDE3OC4xIDI2IEwgMTc4LjEgMTkuNSBRIDE3OC4xIDEzIDE4Ni45NiAxMyBMIDE5NS44MiAxMyIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuMyIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gMjAyLjY1IDEzIEwgMTkzLjU1IDE3LjU1IEwgMTk1LjgyIDEzIEwgMTkzLjU1IDguNDUgWiIgZmlsbD0iIzAwMDAwMCIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuMyIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxyZWN0IHg9IjIwNC4xIiB5PSItMC4wOSIgd2lkdGg9IjkxIiBoZWlnaHQ9IjI2IiBmaWxsPSIjZjVmNWY1IiBzdHJva2U9IiM2NjY2NjYiIHN0cm9rZS13aWR0aD0iMS4zIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIyNC41LDQuNSlzY2FsZSgxLjMpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjM4IiBoZWlnaHQ9IjEyIiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTJweDsgZm9udC1mYW1pbHk6IEhlbHZldGljYTsgY29sb3I6IHJnYig1MSwgNTEsIDUxKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDQwcHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPlBvaW50ZXI8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iMTkiIHk9IjEyIiBmaWxsPSIjMzMzMzMzIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjEycHgiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EiPlBvaW50ZXI8L3RleHQ+PC9zd2l0Y2g+PC9nPjxyZWN0IHg9IjIwNC4xIiB5PSIyNS45MSIgd2lkdGg9IjkxIiBoZWlnaHQ9IjI2IiBmaWxsPSIjZmZmZmZmIiBzdHJva2U9IiM2NjY2NjYiIHN0cm9rZS13aWR0aD0iMS4zIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIyOS41LDMwLjUpc2NhbGUoMS4zKSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIzMCIgaGVpZ2h0PSIxMiIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDEycHg7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiAzMnB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7Ij5wdHJfdG88L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iMTUiIHk9IjEyIiBmaWxsPSIjMDAwMDAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjEycHgiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EiPnB0cl90bzwvdGV4dD48L3N3aXRjaD48L2c+PHJlY3QgeD0iMzQ3LjEiIHk9Ii0wLjA5IiB3aWR0aD0iOTEiIGhlaWdodD0iMjYiIGZpbGw9IiNmNWY1ZjUiIHN0cm9rZT0iIzY2NjY2NiIgc3Ryb2tlLXdpZHRoPSIxLjMiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzc3LjUsNC41KXNjYWxlKDEuMykiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iMjIiIGhlaWdodD0iMTIiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxMnB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogcmdiKDUxLCA1MSwgNTEpOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMjRweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0OyI+dm9pZDwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSIxMSIgeT0iMTIiIGZpbGw9IiMzMzMzMzMiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTJweCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSI+dm9pZDwvdGV4dD48L3N3aXRjaD48L2c+PHBhdGggZD0iTSAyOTUuMSAzOSBMIDMwOC4xIDM5IFEgMzIxLjEgMzkgMzIxLjEgMjYgTCAzMjEuMSAxOS41IFEgMzIxLjEgMTMgMzI5Ljk2IDEzIEwgMzM4LjgyIDEzIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4zIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSAzNDUuNjUgMTMgTCAzMzYuNTUgMTcuNTUgTCAzMzguODIgMTMgTCAzMzYuNTUgOC40NSBaIiBmaWxsPSIjMDAwMDAwIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4zIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHJlY3QgeD0iMjA0LjEiIHk9Ijc3LjkxIiB3aWR0aD0iOTEiIGhlaWdodD0iMjYiIGZpbGw9IiNmNWY1ZjUiIHN0cm9rZT0iIzY2NjY2NiIgc3Ryb2tlLXdpZHRoPSIxLjMiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjQxLjUsODIuNSlzY2FsZSgxLjMpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjEyIiBoZWlnaHQ9IjEyIiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTJweDsgZm9udC1mYW1pbHk6IEhlbHZldGljYTsgY29sb3I6IHJnYig1MSwgNTEsIDUxKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDE0cHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPmludDwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSI2IiB5PSIxMiIgZmlsbD0iIzMzMzMzMyIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxMnB4IiBmb250LWZhbWlseT0iSGVsdmV0aWNhIj5pbnQ8L3RleHQ+PC9zd2l0Y2g+PC9nPjxwYXRoIGQ9Ik0gMTUyLjEgNjUgTCAxNjUuMSA2NSBRIDE3OC4xIDY1IDE3OC4xIDc4IEwgMTc4LjEgODQuNSBRIDE3OC4xIDkxIDE4Ni45NiA5MSBMIDE5NS44MiA5MSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuMyIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gMjAyLjY1IDkxIEwgMTkzLjU1IDk1LjU1IEwgMTk1LjgyIDkxIEwgMTkzLjU1IDg2LjQ1IFoiIGZpbGw9IiMwMDAwMDAiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjMiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cmVjdCB4PSI2MS4xIiB5PSI1MS45MSIgd2lkdGg9IjkxIiBoZWlnaHQ9IjI2IiBmaWxsPSIjZmZmZmZmIiBzdHJva2U9IiM2NjY2NjYiIHN0cm9rZS13aWR0aD0iMS4zIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDgwLjUsNTYuNSlzY2FsZSgxLjMpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjQwIiBoZWlnaHQ9IjEyIiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTJweDsgZm9udC1mYW1pbHk6IEhlbHZldGljYTsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDQycHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPnBhcmFtMTwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSIyMCIgeT0iMTIiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTJweCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSI+cGFyYW0xPC90ZXh0Pjwvc3dpdGNoPjwvZz48cmVjdCB4PSI2MS4xIiB5PSI3Ny45MSIgd2lkdGg9IjkxIiBoZWlnaHQ9IjI2IiBmaWxsPSIjZmZmZmZmIiBzdHJva2U9IiM2NjY2NjYiIHN0cm9rZS13aWR0aD0iMS4zIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDgwLjUsODIuNSlzY2FsZSgxLjMpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjQwIiBoZWlnaHQ9IjEyIiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTJweDsgZm9udC1mYW1pbHk6IEhlbHZldGljYTsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDQycHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPnBhcmFtMjwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSIyMCIgeT0iMTIiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTJweCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSI+cGFyYW0yPC90ZXh0Pjwvc3dpdGNoPjwvZz48cmVjdCB4PSIyMDQuMSIgeT0iMTI5LjkxIiB3aWR0aD0iOTEiIGhlaWdodD0iMjYiIGZpbGw9IiNmNWY1ZjUiIHN0cm9rZT0iIzY2NjY2NiIgc3Ryb2tlLXdpZHRoPSIxLjMiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjI0LjUsMTM0LjUpc2NhbGUoMS4zKSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIzOCIgaGVpZ2h0PSIxMiIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDEycHg7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7IGNvbG9yOiByZ2IoNTEsIDUxLCA1MSk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiA0MHB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7Ij5Qb2ludGVyPC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjE5IiB5PSIxMiIgZmlsbD0iIzMzMzMzMyIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxMnB4IiBmb250LWZhbWlseT0iSGVsdmV0aWNhIj5Qb2ludGVyPC90ZXh0Pjwvc3dpdGNoPjwvZz48cmVjdCB4PSIyMDQuMSIgeT0iMTU1LjkxIiB3aWR0aD0iOTEiIGhlaWdodD0iMjYiIGZpbGw9IiNmZmZmZmYiIHN0cm9rZT0iIzY2NjY2NiIgc3Ryb2tlLXdpZHRoPSIxLjMiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjI5LjUsMTYwLjUpc2NhbGUoMS4zKSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIzMCIgaGVpZ2h0PSIxMiIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDEycHg7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiAzMnB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7Ij5wdHJfdG88L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iMTUiIHk9IjEyIiBmaWxsPSIjMDAwMDAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjEycHgiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EiPnB0cl90bzwvdGV4dD48L3N3aXRjaD48L2c+PHJlY3QgeD0iMzQ3LjEiIHk9IjEyOS45MSIgd2lkdGg9IjkxIiBoZWlnaHQ9IjI2IiBmaWxsPSIjZjVmNWY1IiBzdHJva2U9IiM2NjY2NjYiIHN0cm9rZS13aWR0aD0iMS4zIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDM4NC41LDEzNC41KXNjYWxlKDEuMykiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxMnB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogcmdiKDUxLCA1MSwgNTEpOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogMTRweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0OyI+aW50PC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjYiIHk9IjEyIiBmaWxsPSIjMzMzMzMzIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjEycHgiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EiPmludDwvdGV4dD48L3N3aXRjaD48L2c+PHBhdGggZD0iTSAyOTUuMSAxNjkgTCAzMDguMSAxNjkgUSAzMjEuMSAxNjkgMzIxLjEgMTU2IEwgMzIxLjEgMTQ5LjUgUSAzMjEuMSAxNDMgMzI5Ljk2IDE0MyBMIDMzOC44MiAxNDMiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjMiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDM0NS42NSAxNDMgTCAzMzYuNTUgMTQ3LjU1IEwgMzM4LjgyIDE0MyBMIDMzNi41NSAxMzguNDUgWiIgZmlsbD0iIzAwMDAwMCIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuMyIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gMTUyLjEgOTEgTCAxNjUuMSA5MSBRIDE3OC4xIDkxIDE3OC4xIDEwNCBMIDE3OC4xIDEzMCBRIDE3OC4xIDE0MyAxODYuOTYgMTQzIEwgMTk1LjgyIDE0MyIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuMyIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gMjAyLjY1IDE0MyBMIDE5My41NSAxNDcuNTUgTCAxOTUuODIgMTQzIEwgMTkzLjU1IDEzOC40NSBaIiBmaWxsPSIjMDAwMDAwIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4zIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSA5LjEgMTIuNzIgTCA1Mi44MiAxMi45NiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuMyIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gNTkuNjUgMTIuOTkgTCA1MC41MiAxNy40OSBMIDUyLjgyIDEyLjk2IEwgNTAuNTcgOC4zOSBaIiBmaWxsPSIjMDAwMDAwIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4zIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PC9nPjwvc3ZnPg==" class="fig"></p>
<p>最後に、下の図が表している型は<code class="notranslate">* func(int) * func() int</code>です。</p>
<p><img src="data:image/svg+xml;base64,PCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIHdpZHRoPSI3MjZweCIgaGVpZ2h0PSIxMDZweCIgdmlld0JveD0iLTAuNSAtMC41IDcyNiAxMDYiIGNvbnRlbnQ9IiZsdDtteGZpbGUgbW9kaWZpZWQ9JnF1b3Q7MjAxOS0wNS0yOFQwOToxMTo1OS42MjFaJnF1b3Q7IGhvc3Q9JnF1b3Q7d3d3LmRyYXcuaW8mcXVvdDsgYWdlbnQ9JnF1b3Q7TW96aWxsYS81LjAgKE1hY2ludG9zaDsgSW50ZWwgTWFjIE9TIFggMTBfMTRfNSkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzc0LjAuMzcyOS4xNjkgU2FmYXJpLzUzNy4zNiZxdW90OyB2ZXJzaW9uPSZxdW90OzEwLjYuOSZxdW90OyBldGFnPSZxdW90O09NUjJJTjhkOXJpZkNybkQyTUxfJnF1b3Q7IHR5cGU9JnF1b3Q7Z29vZ2xlJnF1b3Q7Jmd0OyZsdDtkaWFncmFtIGlkPSZxdW90O0ozWDd5M04wNjd4UnQtVkp2M0QwJnF1b3Q7Jmd0OzdWbkxidU1nRlAyYWJDTURmaTZuYVR1ekdXbWtMcWF6cWhpYnh0WVFFeEhTSlAzNkFSdjhnS1IxcXphdkpwRVNjM2laYzgvbDR1c1Jtc3pXM3ptZTV6OVpSdWdJZXRsNmhLNUhFQUxnK2ZKUElSdU5lTkNya1Nrdk1vMjF3RjN4VEV4RGpTNkxqQ3g2RFFWalZCVHpQcGl5c2lTcDZHR1ljN2JxTjN0a3REL3JIRStKQTl5bG1Mcm83eUlUZVkzR2dkZmlQMGd4elVXellsMHp3NmF4QmhZNXp0aXFBNkdiRVpwd3hrUjlOVnRQQ0ZYc0dWN3FmcmM3YXBzYjQ2UVVRenJBdXNNVHBrdTl0dHRsbWVwN0V4dXpZTTZXWlVaVUgyK0VybFo1SWNqZEhLZXFkaVZ0TExGY3pLZ3NBWG01RUp6OWE0aFJ5R05CNllSUnhxdlIwR09ndmszTFRrMVlmVlFQVm9vT1huOGtybStYY0VIV081Y01HaUtsQkFtYkVjRTNzb251QUpIbTNxZ3Y4cE54SXEwWEFiLzZSWFgxcXJWc3BIdmtIYU1hQzJLdHBXa3pVVXUzdk5DTWIyY2ZPZXh6SXBhOGZCQ2JPZmxvSSt3bSsxTklEUTlGcXUrUTZqQkpNdW5PdWtqb1g3YTZhWUdyQ3BBVk9lUEZzNVFocGdvc3MyOXE0NUI0U3ZGaVVhUjl1c202RVBlZDZ6L0tTdU5BbDY3WDJtaFZZV01LcFZ6WmZiZlE2YVdLYmJlcVpQclZ5MUZyNkJscndaWThKVDFoQ2N5bnhOalBIMnpUanBHQ0xVWXlHQ2NVaStLcGZ4ZmJMS2RuK01VS09YRWpHUVF0eVNTd0w1bXdQMks5UGoxSWQwdXp4L1d0Y1dQZlVsVk5pek5TSmF5R2hrRmFDeHl0bVRIUGRmZDAyZlVPNWVqaHhkRmg1RHA2Y0dSKzdrdUJ0UEx3WVdJRmlpUVp0NVZ4RUwvVDY5SExzNFRlR082ZTVlTjJoTWdScFRRRW5oblRuV28wancvbDVQRUFKMy9GWlhlNDBkRTRTR3lUSFVpUDZHcjVmUjRCN1BncWZlQ3pWSjg0VnFwR0pmeXNZNkhMc0ZIRUhoekRQQXQzZHhyQkh3UTdxWjNHcFREYUk0WGdjb0pvZE5ROVFzQWoyeUZCWUI4NkU4djhRemRGNk8zdjRRQjh3ZVNLYjF0S2JvbGoveUFuQjNBKzJSV1gxZWhnckxycGxhOFE2cDNIWHFYcllIK3N1NG1HRXd6MkxvblJYa204SkF4YUpmVlNnOGNXN3hHd28zVGNDT1hOaVlIUUhnczVZMzFnekhlZi84ODlJeGpZQk52dlU4TDllZmlRYk1IWmUvaTI1SDkwWkI0ZWdGZVNnaSttNjRiNnZwVG1HSFRQU1c0TS80eWtvQ3kyYjNEcjV1MkxjSFR6SHc9PSZsdDsvZGlhZ3JhbSZndDsmbHQ7L214ZmlsZSZndDsiPjxkZWZzLz48Zz48cmVjdCB4PSIyMDQuMSIgeT0iLTAuMDkiIHdpZHRoPSI5MSIgaGVpZ2h0PSIyNiIgZmlsbD0iI2Y1ZjVmNSIgc3Ryb2tlPSIjNjY2NjY2IiBzdHJva2Utd2lkdGg9IjEuMyIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMzIuNSw0LjUpc2NhbGUoMS4zKSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIyNiIgaGVpZ2h0PSIxMiIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDEycHg7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7IGNvbG9yOiByZ2IoNTEsIDUxLCA1MSk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiAyOHB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7Ij5GdW5jPC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjEzIiB5PSIxMiIgZmlsbD0iIzMzMzMzMyIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxMnB4IiBmb250LWZhbWlseT0iSGVsdmV0aWNhIj5GdW5jPC90ZXh0Pjwvc3dpdGNoPjwvZz48cmVjdCB4PSIyMDQuMSIgeT0iMjUuOTEiIHdpZHRoPSI5MSIgaGVpZ2h0PSIyNiIgZmlsbD0iI2ZmZmZmZiIgc3Ryb2tlPSIjNjY2NjY2IiBzdHJva2Utd2lkdGg9IjEuMyIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMTAuNSwzMC41KXNjYWxlKDEuMykiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iNjAiIGhlaWdodD0iMTIiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxMnB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogcmdiKDAsIDAsIDApOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogNjJweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0OyI+cmV0dXJuX3R5cGU8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iMzAiIHk9IjEyIiBmaWxsPSIjMDAwMDAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjEycHgiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EiPnJldHVybl90eXBlPC90ZXh0Pjwvc3dpdGNoPjwvZz48cGF0aCBkPSJNIDI5NS4xIDM5IEwgMzA4LjEgMzkgUSAzMjEuMSAzOSAzMjEuMSAyNi42NSBMIDMyMS4xIDIwLjQ4IFEgMzIxLjEgMTQuMyAzMjkuOTYgMTQuMyBMIDMzOC44MiAxNC4zIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4zIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSAzNDUuNjUgMTQuMyBMIDMzNi41NSAxOC44NSBMIDMzOC44MiAxNC4zIEwgMzM2LjU1IDkuNzUgWiIgZmlsbD0iIzAwMDAwMCIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjEuMyIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxyZWN0IHg9IjM0Ny4xIiB5PSI3Ny45MSIgd2lkdGg9IjkxIiBoZWlnaHQ9IjI2IiBmaWxsPSIjZjVmNWY1IiBzdHJva2U9IiM2NjY2NjYiIHN0cm9rZS13aWR0aD0iMS4zIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDM4NC41LDgyLjUpc2NhbGUoMS4zKSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDEycHg7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7IGNvbG9yOiByZ2IoNTEsIDUxLCA1MSk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiAxNHB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7Ij5pbnQ8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iNiIgeT0iMTIiIGZpbGw9IiMzMzMzMzMiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTJweCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSI+aW50PC90ZXh0Pjwvc3dpdGNoPjwvZz48cGF0aCBkPSJNIDI5NS4xIDY1IEwgMzA4LjEgNjUgUSAzMjEuMSA2NSAzMjEuMSA3OCBMIDMyMS4xIDg0LjUgUSAzMjEuMSA5MSAzMjkuOTYgOTEgTCAzMzguODIgOTEiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjMiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDM0NS42NSA5MSBMIDMzNi41NSA5NS41NSBMIDMzOC44MiA5MSBMIDMzNi41NSA4Ni40NSBaIiBmaWxsPSIjMDAwMDAwIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4zIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHJlY3QgeD0iMjA0LjEiIHk9IjUxLjkxIiB3aWR0aD0iOTEiIGhlaWdodD0iMjYiIGZpbGw9IiNmZmZmZmYiIHN0cm9rZT0iIzY2NjY2NiIgc3Ryb2tlLXdpZHRoPSIxLjMiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjIzLjUsNTYuNSlzY2FsZSgxLjMpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjQwIiBoZWlnaHQ9IjEyIiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTJweDsgZm9udC1mYW1pbHk6IEhlbHZldGljYTsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDQycHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPnBhcmFtMTwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSIyMCIgeT0iMTIiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTJweCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSI+cGFyYW0xPC90ZXh0Pjwvc3dpdGNoPjwvZz48cGF0aCBkPSJNIDkuMSAxMi43MiBMIDUyLjgyIDEyLjk2IiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMS4zIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSA1OS42NSAxMi45OSBMIDUwLjUyIDE3LjQ5IEwgNTIuODIgMTIuOTYgTCA1MC41NyA4LjM5IFoiIGZpbGw9IiMwMDAwMDAiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjMiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cmVjdCB4PSI2MS4xIiB5PSIwIiB3aWR0aD0iOTEiIGhlaWdodD0iMjYiIGZpbGw9IiNmNWY1ZjUiIHN0cm9rZT0iIzY2NjY2NiIgc3Ryb2tlLXdpZHRoPSIxLjMiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoODEuNSw0LjUpc2NhbGUoMS4zKSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIzOCIgaGVpZ2h0PSIxMiIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDEycHg7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7IGNvbG9yOiByZ2IoNTEsIDUxLCA1MSk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiA0MHB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7Ij5Qb2ludGVyPC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjE5IiB5PSIxMiIgZmlsbD0iIzMzMzMzMyIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSIxMnB4IiBmb250LWZhbWlseT0iSGVsdmV0aWNhIj5Qb2ludGVyPC90ZXh0Pjwvc3dpdGNoPjwvZz48cmVjdCB4PSI2MS4xIiB5PSIyNiIgd2lkdGg9IjkxIiBoZWlnaHQ9IjI2IiBmaWxsPSIjZmZmZmZmIiBzdHJva2U9IiM2NjY2NjYiIHN0cm9rZS13aWR0aD0iMS4zIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDg2LjUsMzAuNSlzY2FsZSgxLjMpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjMwIiBoZWlnaHQ9IjEyIiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTJweDsgZm9udC1mYW1pbHk6IEhlbHZldGljYTsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDMycHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPnB0cl90bzwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSIxNSIgeT0iMTIiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTJweCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSI+cHRyX3RvPC90ZXh0Pjwvc3dpdGNoPjwvZz48cGF0aCBkPSJNIDE1Mi4xIDM5IEwgMTY1LjEgMzkgUSAxNzguMSAzOSAxNzguMSAyNiBMIDE3OC4xIDE5LjUgUSAxNzguMSAxMyAxODYuOTYgMTMgTCAxOTUuODIgMTMiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjMiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDIwMi42NSAxMyBMIDE5My41NSAxNy41NSBMIDE5NS44MiAxMyBMIDE5My41NSA4LjQ1IFoiIGZpbGw9IiMwMDAwMDAiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjMiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cmVjdCB4PSI0OTAuMSIgeT0iMC41NiIgd2lkdGg9IjkxIiBoZWlnaHQ9IjI2IiBmaWxsPSIjZjVmNWY1IiBzdHJva2U9IiM2NjY2NjYiIHN0cm9rZS13aWR0aD0iMS4zIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDUxOC41LDUuNSlzY2FsZSgxLjMpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjI2IiBoZWlnaHQ9IjEyIiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTJweDsgZm9udC1mYW1pbHk6IEhlbHZldGljYTsgY29sb3I6IHJnYig1MSwgNTEsIDUxKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDI4cHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPkZ1bmM8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iMTMiIHk9IjEyIiBmaWxsPSIjMzMzMzMzIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjEycHgiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EiPkZ1bmM8L3RleHQ+PC9zd2l0Y2g+PC9nPjxyZWN0IHg9IjQ5MC4xIiB5PSIyNi41NiIgd2lkdGg9IjkxIiBoZWlnaHQ9IjI2IiBmaWxsPSIjZmZmZmZmIiBzdHJva2U9IiM2NjY2NjYiIHN0cm9rZS13aWR0aD0iMS4zIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQ5Ni41LDMxLjUpc2NhbGUoMS4zKSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSI2MCIgaGVpZ2h0PSIxMiIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDEycHg7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7IGNvbG9yOiByZ2IoMCwgMCwgMCk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiA2MnB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7Ij5yZXR1cm5fdHlwZTwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSIzMCIgeT0iMTIiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTJweCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSI+cmV0dXJuX3R5cGU8L3RleHQ+PC9zd2l0Y2g+PC9nPjxyZWN0IHg9IjM0Ny4xIiB5PSIwLjY1IiB3aWR0aD0iOTEiIGhlaWdodD0iMjYiIGZpbGw9IiNmNWY1ZjUiIHN0cm9rZT0iIzY2NjY2NiIgc3Ryb2tlLXdpZHRoPSIxLjMiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzY3LjUsNS41KXNjYWxlKDEuMykiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7IiBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iMzgiIGhlaWdodD0iMTIiIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxMnB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogcmdiKDUxLCA1MSwgNTEpOyBsaW5lLWhlaWdodDogMS4yOyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB3aWR0aDogNDBweDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3ZlcmZsb3ctd3JhcDogbm9ybWFsOyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1hbGlnbjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjppbmhlcml0OyI+UG9pbnRlcjwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSIxOSIgeT0iMTIiIGZpbGw9IiMzMzMzMzMiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTJweCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSI+UG9pbnRlcjwvdGV4dD48L3N3aXRjaD48L2c+PHJlY3QgeD0iMzQ3LjEiIHk9IjI2LjY1IiB3aWR0aD0iOTEiIGhlaWdodD0iMjYiIGZpbGw9IiNmZmZmZmYiIHN0cm9rZT0iIzY2NjY2NiIgc3Ryb2tlLXdpZHRoPSIxLjMiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzcyLjUsMzEuNSlzY2FsZSgxLjMpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIgcG9pbnRlci1ldmVudHM9ImFsbCIgd2lkdGg9IjMwIiBoZWlnaHQ9IjEyIiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTJweDsgZm9udC1mYW1pbHk6IEhlbHZldGljYTsgY29sb3I6IHJnYigwLCAwLCAwKTsgbGluZS1oZWlnaHQ6IDEuMjsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IDMycHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93LXdyYXA6IG5vcm1hbDsgdGV4dC1hbGlnbjogY2VudGVyOyI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtYWxpZ246aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246aW5oZXJpdDsiPnB0cl90bzwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSIxNSIgeT0iMTIiIGZpbGw9IiMwMDAwMDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTJweCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSI+cHRyX3RvPC90ZXh0Pjwvc3dpdGNoPjwvZz48cGF0aCBkPSJNIDQzOC4xIDQwLjMgTCA0NTEuMSA0MC4zIFEgNDY0LjEgNDAuMyA0NjQuMSAyNy4zIEwgNDY0LjEgMjAuMTUgUSA0NjQuMSAxMyA0NzIuOTYgMTMgTCA0ODEuODIgMTMiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjMiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDQ4OC42NSAxMyBMIDQ3OS41NSAxNy41NSBMIDQ4MS44MiAxMyBMIDQ3OS41NSA4LjQ1IFoiIGZpbGw9IiMwMDAwMDAiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjMiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cmVjdCB4PSI2MzMuMSIgeT0iLTAuMDkiIHdpZHRoPSI5MSIgaGVpZ2h0PSIyNiIgZmlsbD0iI2Y1ZjVmNSIgc3Ryb2tlPSIjNjY2NjY2IiBzdHJva2Utd2lkdGg9IjEuMyIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg2NzAuNSw0LjUpc2NhbGUoMS4zKSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiIHBvaW50ZXItZXZlbnRzPSJhbGwiIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDEycHg7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7IGNvbG9yOiByZ2IoNTEsIDUxLCA1MSk7IGxpbmUtaGVpZ2h0OiAxLjI7IHZlcnRpY2FsLWFsaWduOiB0b3A7IHdpZHRoOiAxNHB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy13cmFwOiBub3JtYWw7IHRleHQtYWxpZ246IGNlbnRlcjsiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmluaGVyaXQ7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7Ij5pbnQ8L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iNiIgeT0iMTIiIGZpbGw9IiMzMzMzMzMiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtc2l6ZT0iMTJweCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSI+aW50PC90ZXh0Pjwvc3dpdGNoPjwvZz48cGF0aCBkPSJNIDU4MS4xIDM5IEwgNTk0LjEgMzkgUSA2MDcuMSAzOSA2MDcuMSAyNiBMIDYwNy4xIDE5LjUgUSA2MDcuMSAxMyA2MTUuOTYgMTMgTCA2MjQuODIgMTMiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjMiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDYzMS42NSAxMyBMIDYyMi41NSAxNy41NSBMIDYyNC44MiAxMyBMIDYyMi41NSA4LjQ1IFoiIGZpbGw9IiMwMDAwMDAiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjMiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48L2c+PC9zdmc+" class="fig"></p>
<p>ここまでに説明した記法は、おそらく型のテキスト表現としてはもっとも素直で簡単なものです。実際、プログラミング言語Goの型の構文は、ここで説明した記法とまったく同じです。GoはCを作った人たちが開発に参加している言語ですが、GoではCの反省点を生かして、型の構文はさりげなく改良されているのです<a href="https://www.sigbus.info/compilerbook#fn8" class="footnote-ref" id="fnref8" role="doc-noteref"><sup>8</sup></a>。</p>
<h2 id="cの型の読み方"><a href="https://www.sigbus.info/compilerbook#c%E3%81%AE%E5%9E%8B%E3%81%AE%E8%AA%AD%E3%81%BF%E6%96%B9" style="text-decoration: none; color: inherit;">Cの型の読み方</a></h2>
<p>この節では、上記で学んだ型の記法とCの型の記法を付き合わせて、Cの型を読み解く方法を学んでいきましょう。</p>
<p>Cの型は、先頭から次の4つの部分に分解することができます。</p>
<ol>
<li>ベースの型</li>
<li>ポインタを表すアスタリスク</li>
<li>識別子か、カッコでくくられたネストした型</li>
<li>関数や配列を表すカッコ</li>
</ol>
<p>たとえば<code class="notranslate">int x</code>は、ベースの型は<code class="notranslate">int</code>、ポインタを表すアスタリスクはなし、識別子は<code class="notranslate">x</code>、関数や配列のカッコはなし、という構成になっています。<code class="notranslate">unsigned int *x()</code>は、ベースの型は<code class="notranslate">unsigned int</code>、ポインタを表すアスタリスクは<code class="notranslate">*</code>、識別子は<code class="notranslate">x</code>、関数を表すカッコは<code class="notranslate">()</code>という構成です。<code class="notranslate">void **(*x)()</code>は、ベースの型は<code class="notranslate">void</code>、ポインタを表すアスタリスクは<code class="notranslate">**</code>、ネストした型は<code class="notranslate">*x</code>、関数を表すカッコは<code class="notranslate">()</code>、という構成です。</p>
<h3 id="ネストしていない型の読み方"><a href="https://www.sigbus.info/compilerbook#%E3%83%8D%E3%82%B9%E3%83%88%E3%81%97%E3%81%A6%E3%81%84%E3%81%AA%E3%81%84%E5%9E%8B%E3%81%AE%E8%AA%AD%E3%81%BF%E6%96%B9" style="text-decoration: none; color: inherit;">ネストしていない型の読み方</a></h3>
<p>ポインタの後に続くものがただの識別子の場合、型を解読するのは比較的簡単です。</p>
<p>関数や配列のカッコがない場合、型の表記とその意味は次のようになります。意味は上記で説明したGoと同じ記法で書くことにします。</p>
<table class="notranslate">
<thead>
<tr class="header">
<th>Cの型の表記</th>
<th>意味</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code class="notranslate">int x</code></td>
<td><code class="notranslate">int</code></td>
</tr>
<tr class="even">
<td><code class="notranslate">int *x</code></td>
<td><code class="notranslate">* int</code></td>
</tr>
<tr class="odd">
<td><code class="notranslate">int **x</code></td>
<td><code class="notranslate">* * int</code></td>
</tr>
</tbody>
</table>
<p>関数のカッコがある場合、ベースの型とポインタを表すアスタリスクは、返り値の型を表すことになります。以下に例を示します。</p>
<table class="notranslate">
<thead>
<tr class="header">
<th>Cの型の表記</th>
<th>意味</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code class="notranslate">int x()</code></td>
<td><code class="notranslate">func() int</code></td>
</tr>
<tr class="even">
<td><code class="notranslate">int *x()</code></td>
<td><code class="notranslate">func() * int</code></td>
</tr>
<tr class="odd">
<td><code class="notranslate">int **x(int)</code></td>
<td><code class="notranslate">func(int) * * int</code></td>
</tr>
</tbody>
</table>
<p>関数のカッコがないものとしてパースしたときの型、すなわち<code class="notranslate">int x</code>、<code class="notranslate">int *x</code>、<code class="notranslate">int **x</code>の型が、<code class="notranslate">func(...)</code>の後ろに続いているだけというのがわかると思います。</p>
<p>同様に、配列のカッコがある場合、「〜の配列」という意味になります。以下に例を示します。</p>
<table class="notranslate">
<thead>
<tr class="header">
<th>Cの型の表記</th>
<th>意味</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code class="notranslate">int x[5]</code></td>
<td><code class="notranslate">[5] int</code></td>
</tr>
<tr class="even">
<td><code class="notranslate">int *x[5]</code></td>
<td><code class="notranslate">[5] * int</code></td>
</tr>
<tr class="odd">
<td><code class="notranslate">int **x[4][5]</code></td>
<td><code class="notranslate">[4] [5] * * int</code></td>
</tr>
</tbody>
</table>
<p>例えば<code class="notranslate">int *x[5]</code>という型の場合、<code class="notranslate">x</code>の型は長さ5の配列で、その配列の要素はポインタで、そのポインタが指しているのは<code class="notranslate">int</code>です。関数の場合と同じように、配列のカッコのない場合の型が<code class="notranslate">[...]</code>の後ろに続く構成になるということがわかると思います。</p>
<h3 id="ネストしている型の読み方"><a href="https://www.sigbus.info/compilerbook#%E3%83%8D%E3%82%B9%E3%83%88%E3%81%97%E3%81%A6%E3%81%84%E3%82%8B%E5%9E%8B%E3%81%AE%E8%AA%AD%E3%81%BF%E6%96%B9" style="text-decoration: none; color: inherit;">ネストしている型の読み方</a></h3>
<p>ポインタの後に識別子ではなくカッコがある場合、そのカッコはネストした型を表しています。ネストした型がある場合、カッコの中の型と外の型を別々に構文解析して、後でそれを組み合わせることにより、全体の型を得ることができます。</p>
<p>例として、<code class="notranslate">int (*x)()</code>という宣言をパースしてみることにしましょう。</p>
<p><code class="notranslate">int (*x)()</code>は、最初のカッコ全体を1つの識別子（ここでは適当に<code class="notranslate">y</code>とします）のように考えて型を解釈すると、<code class="notranslate">int y()</code>という見た目になるので、カッコの外の型は<code class="notranslate">func() int</code>ということになります。一方、カッコの中の<code class="notranslate">*x</code>という型を考えてみると、これは<code class="notranslate">* ___</code>という型を表していることになります。カッコの中の型には<code class="notranslate">int</code>などのベースの型というものが書かれていないので、型としては完全ではないのですが、ここでは欠けているベースの部分を<code class="notranslate">___</code>という表記で表すことにしました。</p>
<p><code class="notranslate">int (*x)()</code>という型を、カッコの中と外を別々にパースすることで、2つの型<code class="notranslate">func() int</code>と<code class="notranslate">* ___</code>を得ることができました。全体としての型は、内側の型の欠けている部分<code class="notranslate">___</code>に外側の型をはめ込むとできあがります。この場合、<code class="notranslate">* func() int</code>が全体としての型になります。つまり<code class="notranslate">int (*x)()</code>という宣言では、<code class="notranslate">x</code>はポインタで、そのポインタが指している型は関数で、その関数の返り値は<code class="notranslate">int</code>ということになります。</p>
<p>もう一つ例を挙げてみましょう。<code class="notranslate">void (*x[20])(int)</code>は、最初のカッコを識別子とみなして考えると、<code class="notranslate">void y(int)</code>と同じパターンになるので、カッコの外は<code class="notranslate">func(int) void</code>という型を表しています。カッコの中の<code class="notranslate">*x[20]</code>は<code class="notranslate">[20] * ___</code>を表しています。この2つを組み合わせると<code class="notranslate">[20] * func(int) void</code>になります。つまり、<code class="notranslate">x</code>は長さ20の配列型で、その要素の型はポインタで、そのポインタが指しているのは<code class="notranslate">int</code>を取る関数で、その関数が返す型は<code class="notranslate">void</code>ということになります。</p>
<p>ここで説明した方法を使うと、どのような複雑な型でも読むことができます。一つ極端な例として、Unixの<code class="notranslate">signal</code>関数の型を読んでみることにしましょう。<code class="notranslate">signal</code>関数は一見なんなのかまったくわからない型で有名な関数です。以下に<code class="notranslate">signal</code>関数の宣言を示します。</p>
<div class="sourceCode" id="cb154"><pre class="sourceCode c notranslate"><code class="sourceCode c notranslate"><span id="cb154-1"><a href="https://www.sigbus.info/compilerbook#cb154-1"></a><span class="dt">void</span> (*signal(<span class="dt">int</span>, <span class="dt">void</span> (*)(<span class="dt">int</span>)))(<span class="dt">int</span>);</span></code></pre></div>
<p>このような複雑な型も、分解して読んでいくことで解読することが可能です。まずは最初のカッコの中と外を分けて考えることにしましょう。最初のカッコを識別子とみなして型を考えると、<code class="notranslate">void y(int)</code>と同じパターンになるので、カッコの外側は<code class="notranslate">func(int) void</code>という型を表していることになります。</p>
<p>カッコの中は<code class="notranslate">*signal(int, void (*)(int))</code>という型です。これはベースの型がなし、ポインタを表すアスタリスクが<code class="notranslate">*</code>、識別子が<code class="notranslate">signal</code>、関数を表すカッコが1組あって2つの引数が書かれている、という構成です。従って大まかな型としては<code class="notranslate">func(引数1, 引数2) * ___</code>になります。引数の型について考えてみると次のようになります。</p>
<ul>
<li>第一引数は<code class="notranslate">int</code>です。その型は単に<code class="notranslate">int</code>です。</li>
<li>第二引数は<code class="notranslate">void (*)(int)</code>です。これはベースの型が<code class="notranslate">void</code>、カッコでくくられたネストした型が<code class="notranslate">*</code>、関数を表すカッコが1組、という構成なので、最初のカッコを識別子とみなした場合の型は<code class="notranslate">func(int) void</code>です。カッコの中の<code class="notranslate">*</code>について考えてみると、ポインタを表すアスタリスクが1つあるので、その型は`* ___<code class="notranslate">です。結局のところ、第二引数の型はそれらの型が組み合わさった</code>* func(int) void`ということになります。</li>
</ul>
<p>上記の引数の型を<code class="notranslate">func</code>の引数の部分に入れると、<code class="notranslate">func(int, * func(int) void) * ___</code>という型になります。最後にそのカッコの中の型をカッコの外の型と組みわせると、最終的な結果である<code class="notranslate">func(int, * func(int) void) * func(int) void</code>という型になります。</p>
<p>つまり、<code class="notranslate">signal</code>は関数で、その関数は次の2つの引数を取ります。</p>
<ol>
<li><code class="notranslate">int</code></li>
<li><code class="notranslate">int</code>を取って<code class="notranslate">void</code>を返す関数へのポインタ</li>
</ol>
<p><code class="notranslate">signal</code>の返り値の型はポインタで、そのポインタは<code class="notranslate">int</code>を取って<code class="notranslate">void</code>を返す関数を指しています。</p>
<div class="note">
<p>コラム: Cの型の構文の意図</p>
<p>Cの型の構文は「使う時と同じように型を書くようにすればわかりやすいだろう」という考えのもとに設計されました。このデザイン方針では、例えば<code class="notranslate">int *x[20]</code>という宣言は、<code class="notranslate">*x[20]</code>という式を書くとその型が<code class="notranslate">int</code>になるように<code class="notranslate">x</code>の型を決めるということを意味していることになります。<code class="notranslate">int foo = *x[20]</code>で型が一致する<code class="notranslate">x</code>の型は何か？ という問題を解くのと同じとも言えます。</p>
<p><code class="notranslate">int *(*x[20])()</code>という宣言を、<code class="notranslate">int foo = *(*x[20])()</code>が型エラーにならないように<code class="notranslate">x</code>の型を決める問題と考えてみれば、<code class="notranslate">x</code>はまず配列でなければいけませんし、その配列の要素は<code class="notranslate">*</code>でデリファレンスしても大丈夫なはずで、そのポインタを関数呼び出ししているのでポインタの先は関数で、その返り値を<code class="notranslate">*</code>でデリファレンスしているのでそれはポインタを返す関数で、と考えることができます。</p>
<p>Cの型の構文はナンセンスな感じがしますが、デザインの方針としては筋は通っているのです。ただし、結局のところは悪いデザインになってしまったと言わざるを得ないのでしょうけど。</p>
</div>
<h2 id="練習問題"><a href="https://www.sigbus.info/compilerbook#%E7%B7%B4%E7%BF%92%E5%95%8F%E9%A1%8C" style="text-decoration: none; color: inherit;">練習問題</a></h2>
<table class="notranslate">
<thead>
<tr class="header">
<th>Cの型の表記</th>
<th>意味</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code class="notranslate">int x</code></td>
<td><code class="notranslate">int</code></td>
</tr>
<tr class="even">
<td><code class="notranslate">int *x</code></td>
<td><code class="notranslate">* int</code></td>
</tr>
<tr class="odd">
<td><code class="notranslate">int x[]</code></td>
<td><code class="notranslate">[] int</code></td>
</tr>
<tr class="even">
<td><code class="notranslate">int x()</code></td>
<td><code class="notranslate">func() int</code></td>
</tr>
<tr class="odd">
<td><code class="notranslate">int **x</code></td>
<td><code class="notranslate">* * int</code></td>
</tr>
<tr class="even">
<td><code class="notranslate">int (*x)[]</code></td>
<td><code class="notranslate">* [] int</code></td>
</tr>
<tr class="odd">
<td><code class="notranslate">int (*x)()</code></td>
<td><code class="notranslate">* func() int</code></td>
</tr>
<tr class="even">
<td><code class="notranslate">int *x[]</code></td>
<td><code class="notranslate">[] * int</code></td>
</tr>
<tr class="odd">
<td><code class="notranslate">int x[][]</code></td>
<td><code class="notranslate">[] [] int</code></td>
</tr>
<tr class="even">
<td><code class="notranslate">int *x()</code></td>
<td><code class="notranslate">func() * int</code></td>
</tr>
<tr class="odd">
<td><code class="notranslate">int ***x</code></td>
<td><code class="notranslate">* * * int</code></td>
</tr>
<tr class="even">
<td><code class="notranslate">int (**x)[]</code></td>
<td><code class="notranslate">* * [] int</code></td>
</tr>
<tr class="odd">
<td><code class="notranslate">int (**x)()</code></td>
<td><code class="notranslate">* * func() int</code></td>
</tr>
<tr class="even">
<td><code class="notranslate">int *(*x)[]</code></td>
<td><code class="notranslate">* [] * int</code></td>
</tr>
<tr class="odd">
<td><code class="notranslate">int (*x)[][]</code></td>
<td><code class="notranslate">* [] [] int</code></td>
</tr>
<tr class="even">
<td><code class="notranslate">int *(*x)()</code></td>
<td><code class="notranslate">* func() * int</code></td>
</tr>
<tr class="odd">
<td><code class="notranslate">int **x[]</code></td>
<td><code class="notranslate">[] * * Int</code></td>
</tr>
<tr class="even">
<td><code class="notranslate">int (*x[])[]</code></td>
<td><code class="notranslate">[] * [] int</code></td>
</tr>
<tr class="odd">
<td><code class="notranslate">int (*x[])()</code></td>
<td><code class="notranslate">[] * func() int</code></td>
</tr>
<tr class="even">
<td><code class="notranslate">int *x[][]</code></td>
<td><code class="notranslate">[] [] * int</code></td>
</tr>
<tr class="odd">
<td><code class="notranslate">int x[][][]</code></td>
<td><code class="notranslate">[] [] [] int</code></td>
</tr>
<tr class="even">
<td><code class="notranslate">int **x()</code></td>
<td><code class="notranslate">func() * * int</code></td>
</tr>
<tr class="odd">
<td><code class="notranslate">int (*x())[]</code></td>
<td><code class="notranslate">func() * [] int</code></td>
</tr>
<tr class="even">
<td><code class="notranslate">int (*x())()</code></td>
<td><code class="notranslate">func() * func() int</code></td>
</tr>
</tbody>
</table>
<h1 id="おわりに"><a href="https://www.sigbus.info/compilerbook#%E3%81%8A%E3%82%8F%E3%82%8A%E3%81%AB" style="text-decoration: none; color: inherit;">おわりに</a></h1>
<p>本書の本文は<a href="https://en.wikipedia.org/wiki/Markdown">Markdown</a>形式で記述しました。MarkdownからHTMLへの変換には<a href="https://pandoc.org/">Pandoc</a>、構文木の図の作成には<a href="https://www.graphviz.org/">Graphviz</a>、そのほかの図の作成には<a href="https://www.draw.io/">draw.io</a>を使用しました。</p>
<hr>
<h1 id="付録1x86-64命令セット-チートシート"><a href="https://www.sigbus.info/compilerbook#%E4%BB%98%E9%8C%B21x86-64%E5%91%BD%E4%BB%A4%E3%82%BB%E3%83%83%E3%83%88-%E3%83%81%E3%83%BC%E3%83%88%E3%82%B7%E3%83%BC%E3%83%88" style="text-decoration: none; color: inherit;">付録1：x86-64命令セット チートシート</a></h1>
<p>この章では、この本で製作するコンパイラで利用するx86-64命令セットの機能をまとめました。この章では簡潔に表現するために以下の省略記法を使いました。</p>
<ul>
<li><code class="notranslate">src</code>, <code class="notranslate">dst</code>: 同じサイズの2つの任意のレジスタ</li>
<li><code class="notranslate">r8</code>, <code class="notranslate">r16</code>, <code class="notranslate">r32</code>, <code class="notranslate">r64</code>: それぞれ8ビット、16ビット、32ビット、64ビットのレジスタ</li>
<li><code class="notranslate">imm</code>: 即値</li>
<li><code class="notranslate">reg1:reg2</code>: 2つのレジスタ<code class="notranslate">reg1</code>、<code class="notranslate">reg2</code>をそれぞれ上位ビットと下位ビットとして、128ビットのような1つのレジスタに入らない大きな数を表す場合の記法</li>
</ul>
<h3 id="整数レジスタの一覧"><a href="https://www.sigbus.info/compilerbook#%E6%95%B4%E6%95%B0%E3%83%AC%E3%82%B8%E3%82%B9%E3%82%BF%E3%81%AE%E4%B8%80%E8%A6%A7" style="text-decoration: none; color: inherit;">整数レジスタの一覧</a></h3>
<p>64ビット整数レジスタの一覧とそのエイリアスの名前を表にまとめました。</p>
<table class="notranslate">
<thead>
<tr class="header">
<th style="text-align: left;">64</th>
<th style="text-align: left;">32</th>
<th style="text-align: left;">16</th>
<th style="text-align: left;">8</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">RAX</td>
<td style="text-align: left;">EAX</td>
<td style="text-align: left;">AX</td>
<td style="text-align: left;">AL</td>
</tr>
<tr class="even">
<td style="text-align: left;">RDI</td>
<td style="text-align: left;">EDI</td>
<td style="text-align: left;">DI</td>
<td style="text-align: left;">DIL</td>
</tr>
<tr class="odd">
<td style="text-align: left;">RSI</td>
<td style="text-align: left;">ESI</td>
<td style="text-align: left;">SI</td>
<td style="text-align: left;">SIL</td>
</tr>
<tr class="even">
<td style="text-align: left;">RDX</td>
<td style="text-align: left;">EDX</td>
<td style="text-align: left;">DX</td>
<td style="text-align: left;">DL</td>
</tr>
<tr class="odd">
<td style="text-align: left;">RCX</td>
<td style="text-align: left;">ECX</td>
<td style="text-align: left;">CX</td>
<td style="text-align: left;">CL</td>
</tr>
<tr class="even">
<td style="text-align: left;">RBP</td>
<td style="text-align: left;">EBP</td>
<td style="text-align: left;">BP</td>
<td style="text-align: left;">BPL</td>
</tr>
<tr class="odd">
<td style="text-align: left;">RSP</td>
<td style="text-align: left;">ESP</td>
<td style="text-align: left;">SP</td>
<td style="text-align: left;">SPL</td>
</tr>
<tr class="even">
<td style="text-align: left;">RBX</td>
<td style="text-align: left;">EBX</td>
<td style="text-align: left;">BX</td>
<td style="text-align: left;">BL</td>
</tr>
<tr class="odd">
<td style="text-align: left;">R8</td>
<td style="text-align: left;">R8D</td>
<td style="text-align: left;">R8W</td>
<td style="text-align: left;">R8B</td>
</tr>
<tr class="even">
<td style="text-align: left;">R9</td>
<td style="text-align: left;">R9D</td>
<td style="text-align: left;">R9W</td>
<td style="text-align: left;">R9B</td>
</tr>
<tr class="odd">
<td style="text-align: left;">R10</td>
<td style="text-align: left;">R10D</td>
<td style="text-align: left;">R10W</td>
<td style="text-align: left;">R10B</td>
</tr>
<tr class="even">
<td style="text-align: left;">R11</td>
<td style="text-align: left;">R11D</td>
<td style="text-align: left;">R11W</td>
<td style="text-align: left;">R11B</td>
</tr>
<tr class="odd">
<td style="text-align: left;">R12</td>
<td style="text-align: left;">R12D</td>
<td style="text-align: left;">R12W</td>
<td style="text-align: left;">R12B</td>
</tr>
<tr class="even">
<td style="text-align: left;">R13</td>
<td style="text-align: left;">R13D</td>
<td style="text-align: left;">R13W</td>
<td style="text-align: left;">R13B</td>
</tr>
<tr class="odd">
<td style="text-align: left;">R14</td>
<td style="text-align: left;">R14D</td>
<td style="text-align: left;">R14W</td>
<td style="text-align: left;">R14B</td>
</tr>
<tr class="even">
<td style="text-align: left;">R15</td>
<td style="text-align: left;">R15D</td>
<td style="text-align: left;">R15W</td>
<td style="text-align: left;">R15B</td>
</tr>
</tbody>
</table>
<p>ABIにおける使い方は次の通りです。関数から戻る際に元の値に戻さなくてよいレジスタには✔をつけました。</p>
<table class="notranslate">
<thead>
<tr class="header">
<th>レジスタ</th>
<th>使い方</th>
<th style="text-align: right;"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>RAX</td>
<td>返り値 / 引数の数</td>
<td style="text-align: right;">✔</td>
</tr>
<tr class="even">
<td>RDI</td>
<td>第1引数</td>
<td style="text-align: right;">✔</td>
</tr>
<tr class="odd">
<td>RSI</td>
<td>第2引数</td>
<td style="text-align: right;">✔</td>
</tr>
<tr class="even">
<td>RDX</td>
<td>第3引数</td>
<td style="text-align: right;">✔</td>
</tr>
<tr class="odd">
<td>RCX</td>
<td>第4引数</td>
<td style="text-align: right;">✔</td>
</tr>
<tr class="even">
<td>RBP</td>
<td>ベースポインタ</td>
<td style="text-align: right;"></td>
</tr>
<tr class="odd">
<td>RSP</td>
<td>スタックポインタ</td>
<td style="text-align: right;"></td>
</tr>
<tr class="even">
<td>RBX</td>
<td>（特になし）</td>
<td style="text-align: right;"></td>
</tr>
<tr class="odd">
<td>R8</td>
<td>第5引数</td>
<td style="text-align: right;">✔</td>
</tr>
<tr class="even">
<td>R9</td>
<td>第6引数</td>
<td style="text-align: right;">✔</td>
</tr>
<tr class="odd">
<td>R10</td>
<td>（特になし）</td>
<td style="text-align: right;">✔</td>
</tr>
<tr class="even">
<td>R11</td>
<td>（特になし）</td>
<td style="text-align: right;">✔</td>
</tr>
<tr class="odd">
<td>R12</td>
<td>（特になし）</td>
<td style="text-align: right;"></td>
</tr>
<tr class="even">
<td>R13</td>
<td>（特になし）</td>
<td style="text-align: right;"></td>
</tr>
<tr class="odd">
<td>R14</td>
<td>（特になし）</td>
<td style="text-align: right;"></td>
</tr>
<tr class="even">
<td>R15</td>
<td>（特になし）</td>
<td style="text-align: right;"></td>
</tr>
</tbody>
</table>
<p>関数呼び出しを行うと きは、RSPが16の倍数になっている（16にアラインされている）状態で<code class="notranslate">call</code>命令を呼ぶ必要があります。この条件を満たさない関数呼び出しはABIに準拠しておらず、一部の関数がクラッシュすることがあります。</p>
<h3 id="メモリアクセス"><a href="https://www.sigbus.info/compilerbook#%E3%83%A1%E3%83%A2%E3%83%AA%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B9" style="text-decoration: none; color: inherit;">メモリアクセス</a></h3>
<table class="notranslate">
<tbody>
<tr class="odd">
<td style="text-align: left;">mov dst, [r64]</td>
<td>r64が差すアドレスからdstに値をロード</td>
</tr>
<tr class="even">
<td style="text-align: left;">mov [r64], src</td>
<td>srcの値をr64が差すアドレスにストア</td>
</tr>
<tr class="odd">
<td style="text-align: left;">push r64/imm</td>
<td>RSPを8減らして、r64/immをRSPにストア</td>
</tr>
<tr class="even">
<td style="text-align: left;">pop r64</td>
<td>RSPからr64にロードして、RSPを8増やす</td>
</tr>
</tbody>
</table>
<h3 id="関数呼び出し"><a href="https://www.sigbus.info/compilerbook#%E9%96%A2%E6%95%B0%E5%91%BC%E3%81%B3%E5%87%BA%E3%81%97" style="text-decoration: none; color: inherit;">関数呼び出し</a></h3>
<table class="notranslate">
<tbody>
<tr class="odd">
<td style="text-align: left;">call label</td>
<td>RIPをスタックにプッシュしてlabelにジャンプ</td>
</tr>
<tr class="even">
<td style="text-align: left;">call r64</td>
<td>RIPをスタックにプッシュしてr64のアドレスにジャンプ</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ret</td>
<td>スタックをポップしてそのアドレスにジャンプ</td>
</tr>
<tr class="even">
<td style="text-align: left;">leave</td>
<td><code class="notranslate">mov rsp, rbp</code>の後<code class="notranslate">pop rbp</code>と同等</td>
</tr>
</tbody>
</table>
<h3 id="条件分岐"><a href="https://www.sigbus.info/compilerbook#%E6%9D%A1%E4%BB%B6%E5%88%86%E5%B2%90" style="text-decoration: none; color: inherit;">条件分岐</a></h3>
<table style="width:82%;" class="notranslate">
<colgroup>
<col style="width: 33%">
<col style="width: 48%">
</colgroup>
<tbody>
<tr class="odd">
<td style="text-align: left;">cmp reg1, reg2/imm<br>
je label</td>
<td>reg1 == reg2/immならlabelにジャンプ</td>
</tr>
<tr class="even">
<td style="text-align: left;">cmp reg1, reg2/imm<br>
jne label</td>
<td>reg1 != reg2/immならlabelにジャンプ</td>
</tr>
<tr class="odd">
<td style="text-align: left;">cmp reg1, reg2/imm<br>
jl label</td>
<td>reg1 &lt; reg2ならlabelにジャンプ<br>
（符号ありでの比較）</td>
</tr>
<tr class="even">
<td style="text-align: left;">cmp reg1, reg2/imm<br>
jle label</td>
<td>reg1 &lt;= reg2ならlabelにジャンプ<br>
（符号ありでの比較）</td>
</tr>
</tbody>
</table>
<h3 id="条件代入"><a href="https://www.sigbus.info/compilerbook#%E6%9D%A1%E4%BB%B6%E4%BB%A3%E5%85%A5" style="text-decoration: none; color: inherit;">条件代入</a></h3>
<table class="notranslate">
<colgroup>
<col style="width: 36%">
<col style="width: 63%">
</colgroup>
<tbody>
<tr class="odd">
<td>cmp reg1, reg2/imm<br>
sete al<br>
movzb eax, al</td>
<td>RAX = (reg1 == reg2) ? 1 : 0</td>
</tr>
<tr class="even">
<td>cmp reg1, reg2/imm<br>
setne al<br>
movzb eax, al</td>
<td>RAX = (reg1 != reg2) ? 1 : 0</td>
</tr>
<tr class="odd">
<td>cmp reg1, reg2/imm<br>
setl al<br>
movzb eax, al<br>
</td>
<td>RAX = (reg1 &gt; reg2) ? 1 : 0<br>
（符号ありでの比較）</td>
</tr>
<tr class="even">
<td>cmp reg1, reg2/imm<br>
setle al<br>
movzb eax, al</td>
<td>RAX = (reg1 &gt;= reg2) ? 1 : 0<br>
（符号ありでの比較）</td>
</tr>
</tbody>
</table>
<h3 id="整数論理演算"><a href="https://www.sigbus.info/compilerbook#%E6%95%B4%E6%95%B0%E8%AB%96%E7%90%86%E6%BC%94%E7%AE%97" style="text-decoration: none; color: inherit;">整数・論理演算</a></h3>
<table class="notranslate">
<colgroup>
<col style="width: 31%">
<col style="width: 68%">
</colgroup>
<tbody>
<tr class="odd">
<td>add dst, src/imm</td>
<td>dst = dst + src/imm</td>
</tr>
<tr class="even">
<td>sub dst, src/imm</td>
<td>dst = dst - src/imm</td>
</tr>
<tr class="odd">
<td>mul src</td>
<td>RDX:RAX = RAX * src</td>
</tr>
<tr class="even">
<td>imul dst, src</td>
<td>dst = dst * src</td>
</tr>
<tr class="odd">
<td>div r32</td>
<td>EAX = EDX:EAX / r32<br>
EDX = EDX:EAX % r32</td>
</tr>
<tr class="even">
<td>div r64</td>
<td>RAX = RDX:RAX / r64<br>
RDX = RDX:RAX % r64</td>
</tr>
<tr class="odd">
<td>idiv r32/r64</td>
<td>divの符号ありバージョン</td>
</tr>
<tr class="even">
<td>cqo</td>
<td>RAXを128ビットに符号拡張して<br>
RDX:RAXにストア</td>
</tr>
<tr class="odd">
<td>and dst, src</td>
<td>dst = src &amp; dst</td>
</tr>
<tr class="even">
<td>or dst, src</td>
<td>dst = src | dst</td>
</tr>
<tr class="odd">
<td>xor dst, src</td>
<td>dst = src ^ dst</td>
</tr>
<tr class="even">
<td>neg dst</td>
<td>dst = -dst</td>
</tr>
<tr class="odd">
<td>not dst</td>
<td>dst = ~dst</td>
</tr>
<tr class="even">
<td>shl dst, imm/CL</td>
<td>immかCLレジスタの値だけdstを左シフトする（レジスタでシフト量を指定する場合、CLしか使えない）</td>
</tr>
<tr class="odd">
<td>shr dst, imm/CL</td>
<td>immかCLレジスタの値だけdstを論理右シフトする<br>
シフトインされてきた上位ビットはゼロクリアされる</td>
</tr>
<tr class="even">
<td>sar dst, imm/CL</td>
<td>immかCLレジスタの値だけdstを算術右シフトする<br>
シフトインされてきた上位ビットは、もともとのdstの符号ビットと同じになる</td>
</tr>
<tr class="odd">
<td>lea dst, [src]</td>
<td>[src]のアドレス計算を行うが、メモリアクセスは行わずアドレス計算の結果そのものをdstにストア</td>
</tr>
<tr class="even">
<td>movsb dst, r8</td>
<td>r8を符号拡張してdstにストア</td>
</tr>
<tr class="odd">
<td>movzb dst, r8</td>
<td>r8を符号拡張せずにdstにストア</td>
</tr>
<tr class="even">
<td>movsw dst, r16</td>
<td>r16を符号拡張してdstにストア</td>
</tr>
<tr class="odd">
<td>movzw dst, r16</td>
<td>r16を符号拡張せずにdstにストア</td>
</tr>
</tbody>
</table>
<hr>
<h1 id="付録2gitによるバージョン管理"><a href="https://www.sigbus.info/compilerbook#%E4%BB%98%E9%8C%B22git%E3%81%AB%E3%82%88%E3%82%8B%E3%83%90%E3%83%BC%E3%82%B8%E3%83%A7%E3%83%B3%E7%AE%A1%E7%90%86" style="text-decoration: none; color: inherit;">付録2：Gitによるバージョン管理</a></h1>
<p>GitはもともとLinuxカーネルのバージョン管理のために開発されました。Linuxカーネルは数千人の開発者からなる巨大なプロジェクトなので、そのための複雑なワークフローを満たすべく、Gitは豊富な機能を持っています。これらの機能は便利ではあるのですが、自分しかコミッターがいない個人開発ではGitの機能を使いこなす必要はありません。Gitをマスターするとなるとかなりたくさんのことを学ぶ必要がありますが、この本で覚えるべき事項はごくわずかです。Gitを使った開発が初めてだという人のために以下にチートシートを用意しました。</p>
<ul>
<li><p><code class="notranslate">git add ファイル名</code></p>
<p>新規作成したファイルをリポジトリに加える</p></li>
<li><p><code class="notranslate">git commit -A</code></p>
<p>作業ツリーに行ったすべての変更をまとめてコミットする（エディタが立ち上がるのでコミットメッセージを入力する）</p></li>
<li><p><code class="notranslate">git reset --hard</code></p>
<p>前回のコミット以降に作業ツリーに行った変更を全て取り消す</p></li>
<li><p><code class="notranslate">git log -p</code></p>
<p>過去のコミットを見る</p></li>
<li><p><code class="notranslate">git push</code></p>
<p>GitHubなどアップストリームにリポジトリをプッシュする</p></li>
</ul>
<h3 id="gitを使ったワークフロー"><a href="https://www.sigbus.info/compilerbook#git%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%9F%E3%83%AF%E3%83%BC%E3%82%AF%E3%83%95%E3%83%AD%E3%83%BC" style="text-decoration: none; color: inherit;">Gitを使ったワークフロー</a></h3>
<p>バージョン管理システムを初めて使う人のために、Gitとバージョン管理システムの概念について少し説明しておきましょう。</p>
<p>Gitは、ファイルの変更履歴が入ったデータベースの管理ツールです。そのデータベースのことをリポジトリといいます。GitHubなどからリポジトリをクローンすると、リポジトリがダウンロードされて、そのあとリポジトリから、デフォルトの最新の状態のディレクトリツリーが、現在のディレクトリ以下にすべて展開されます。</p>
<p>リポジトリから展開されたディレクトリツリーのことを「作業ツリー」といいます。皆さんには作業ツリーにあるソースファイルをエディタで編集したりコンパイルしてもらうわけですが、作業ツリー自体はリポジトリの一部分というわけではありません。作業ツリーはいわばzipファイルから展開されたファイルのようなもので、そちらにいくら変更を加えても、元々のリポジトリはそのままの状態で残っています。</p>
<p>自分が作業ツリーに対して行った変更は、キリの良いところで「コミット」という単位にまとめてリポジトリに書き戻します。これによりデータベースが更新され、そのあとまた別の変更点を作っていくことができるわけです。Gitを使う場合は、ファイルを変更してコミット、という繰り返しで開発を進めていくことになります。</p>
<h3 id="コミットするときの注意点"><a href="https://www.sigbus.info/compilerbook#%E3%82%B3%E3%83%9F%E3%83%83%E3%83%88%E3%81%99%E3%82%8B%E3%81%A8%E3%81%8D%E3%81%AE%E6%B3%A8%E6%84%8F%E7%82%B9" style="text-decoration: none; color: inherit;">コミットするときの注意点</a></h3>
<p>コミットメッセージは日本語でよいのできちんと書いてください。例えば「*と/を演算子として追加、ただし演算子の優先順位は処理しない」といった一行メッセージでよいです。</p>
<p>コミット単位はなるべく小さく分けてください。例えばコードを変更していると、ちょっとしたリファクタリングがしたくなるものですが、そういう場合はリファクタリングは別のコミットとしてコミットしてください。2つ以上の別々の機能を1つのコミットにまとめるのは望ましくありません。</p>
<p>Gitの高度な機能を使う必要はありません。たとえばブランチを使う必要はないはずです。</p>
<p>機能追加のコードは、その機能をテストするコードと必ず一緒にコミットするようにしてください。また、コミットするときは、まずテストを走らせてみて、既存機能が壊れていなくて、新しい機能もきちんと動いていることを確認してからコミットするようにしてください。別の言い方をすると、どの時点でのリポジトリをチェックアウトしてきても、コンパイルとテストは通る、ということを目指してもらいます。ただしうっかりテストが通らないものをコミットしてしまったときは、gitのコミットログを改変してまで修正する必要はありません。単に次のコミットで修正を入れてください。</p>
<h3 id="gitの内部構造"><a href="https://www.sigbus.info/compilerbook#git%E3%81%AE%E5%86%85%E9%83%A8%E6%A7%8B%E9%80%A0" style="text-decoration: none; color: inherit;">Gitの内部構造</a></h3>
<p>Gitのドキュメントを読んでいるとトリッキーな機能がたくさんあるのですが、Gitが原理的にどのようにデータを保存しているかというモデルを自分の中に構築しておくと、機能が理解しやすくなります。そこでここではGitの内部構造について解説します。</p>
<p>Gitは、ユーザープログラムとして実装されたファイルシステムの一種です。Gitのデータベースの構造はファイルシステムと大変よく似ているのです。ただし、通常のファイルシステムはファイル名を使ってファイルにアクセスするのに対して、Gitではファイルのハッシュ値を名前として使うところが異なります。</p>
<p>ファイルの内容によって名前が決まるこういった仕組みのことを、content-addressableな仕組みといいます。content-addressableなファイルシステムでは、名前が同じであれば内容は同一です。また、内容が異なっているファイルが同じ名前（同じハッシュ値）を持つことはできません。これは暗号的にセキュアなハッシュ関数を使うことにより保証されています。こういったファイルシステムでは、ファイルに別個に名前をつける必要がなく、名前が決まればファイルの内容も一意に決まるという性質があります。</p>
<p>コミットというのもGitの内部ではファイルになっています。そのファイルには、コミットメッセージのほかに、そのコミットに属するファイルのハッシュ値や、その一つ前のコミットのハッシュ値が書かれています。</p>
<p>Gitのファイルシステムからファイルを取り出すためには、自分の欲しいファイルのハッシュ値がわかっていなければなりません。</p>
<p>コミットファイルのハッシュ値がわからなければコミットファイルを取得できない、というのは鶏と卵の問題のような感じがしますが、実際には、リポジトリにはファイルシステムの他に、コミットファイルのハッシュ値とそれに対する名前の目録が入っているので、それを使ってコミットを見つけることができます。たとえばリポジトリには、"master"という名前（デフォルトで作業ツリーに展開される履歴）のコミットのハッシュ値は<code class="notranslate">da39a3ee5e...</code>である、といった情報が入っています。この情報を使うことで、Gitはmasterに属するファイルを作業ツリーに展開することができます。</p>
<p>「コミットを行う」というのが内部的にどうなっているかというと、変更があったファイルをGit内部のファイルシステムに追加し、それらのファイルのハッシュ値や一つ前のコミットのハッシュ値を含んだコミットファイルを同様に追加し、最後にそのコミットファイルのハッシュ値で目録を更新する、となっているわけです。</p>
<p>例えばmasterの最後のコミットをなかったことにするためには（やらないほうがよいですが）、masterが指しているコミットファイルを見て一つ前のコミットのハッシュ値を得て、そのハッシュ値でmasterを上書きすればよいわけです。「ブランチ」というのも、あるコミットを一つ前のコミットとして持っているコミットが2つ以上あって、その2つのコミットが目録に載っている、という話にすぎません。</p>
<p>こういったcontent-addressableなバージョン管理システムにはセキュリティ上の利点もあります。あるコミットの名前（コミットファイルのハッシュ値）には、そのコミットに属するすべてのファイルのハッシュ値と、その前のコミットファイルのハッシュ値が含まれています。その前のコミットファイルにはさらにその前のコミットファイルのハッシュが含まれているので、結局のところ最新のコミットにたどり着くすべてのコミットのハッシュ値が、最新のコミットのハッシュ値の計算に含まれていることになります。したがって、ハッシュ値を変えないままコミットの内容や履歴をこっそり改変することが原理的に不可能になっているのです。面白い性質ですね。</p>
<p>Gitの機能を学ぶ時には、このcontent-addressableなファイルシステムを常に念頭に置いてみてください。きっといろいろなことがわかりやすくなるはずです。</p>
<hr>
<h1 id="docker"><a href="https://www.sigbus.info/compilerbook#docker" style="text-decoration: none; color: inherit;">付録3：Dockerを使った開発環境の作成</a></h1>
<p>この付録では、Dockerを使って、macOS上でLinuxアプリケーションをビルドして実行する方法を説明します。</p>
<p>DockerはLinuxの仮想環境を提供するソフトウェアです。フル機能のVMでは、PCのハードウェアがエミュレートされてその上で通常のOSが動作するのに対して、Dockerでは、Linuxのシステムコール（だけ）が仮想環境内に対して直接提供されるという違いがあります。この違いにより、フル機能の仮想化と比較して、Dockerは起動が速く全体的に軽量という利点があります。Dockerはクラウドのコンピュータに対してアプリケーションをデプロイするときなどによく使われています。</p>
<p>Dockerを使ってmacOS上でLinuxアプリケーションを開発する場合、次の2つのシステム構成を考えることができます。</p>
<ol>
<li>Dockerの中の環境と外の環境を全く別のものとして考えて、Linuxのアプリケーションを開発するときは、すべての作業をDockerの中で行う構成</li>
<li>ソースコードの編集やgitの操作など、プラットフォームに依存しない通常の開発作業はDockerの外で行い、ビルドやテストのコマンドのみDockerの中で実行する構成</li>
</ol>
<p>前者の構成では、Macとは別にLinuxマシンを用意して開発を行うのと同じなので構成が単純ですが、Linux上での開発環境をエディタなども含めて用意しないといけないので、セットアップがやや煩雑です。一方で後者の構成では、Dockerの中で「暮らす」わけではないので環境のセットアップは凝る必要がありませんが、Dockerの中と外を使い分けるのがやや面倒です。</p>
<p>上記の2つの構成はどちらを選んでも構いませんが、本書では、Linux環境のセットアップ手順を説明することを避けるために、後者の構成を選択することにします。したがって、Linux環境の中で走らせたいコマンドだけを明示的にDockerの中で実行することになります。</p>
<h2 id="セットアップ手順"><a href="https://www.sigbus.info/compilerbook#%E3%82%BB%E3%83%83%E3%83%88%E3%82%A2%E3%83%83%E3%83%97%E6%89%8B%E9%A0%86" style="text-decoration: none; color: inherit;">セットアップ手順</a></h2>
<p>Dockerを使ったLinux開発環境をセットアップするためには、まず<a href="https://hub.docker.com/editions/community/docker-ce-desktop-mac">Docker Desktop for Mac</a>をダウンロードしてインストールしてください。その後、次のコマンドを実行すると、<code class="notranslate">compilerbook</code>という名前のDockerイメージを作成することができます。</p>
<pre class="shell notranslate"><code class="notranslate">$ docker build -t compilerbook https://www.sigbus.info/compilerbook/Dockerfile</code></pre>
<p>「Dockerイメージ」あるいは「イメージ」とは、Linux環境に必要なすべてのファイルと設定をまとめたものです。Dockerイメージを実際に起動したものは「Dockerコンテナ」あるいは単に「コンテナ」と呼ばれます（実行ファイルとプロセスの関係と同じです）。</p>
<p>コンテナを作成してその中でコマンドを実行するためには、<code class="notranslate">docker run</code>コマンドの引数としてイメージ名とコマンドを与えてください。以下は<code class="notranslate">ls /</code>コマンドを<code class="notranslate">compilerbook</code>のコンテナの中で実行する例です。</p>
<pre class="shell notranslate"><code class="notranslate">$ docker run --rm compilerbook ls /
bin
root
dev
etc
...</code></pre>
<p>コンテナはバックグラウンドで動作し続けるようにすることも可能ですが、我々の使い方ではインタラクティブな使い方しか必要ないので、<code class="notranslate">--rm</code>オプションを与えることで、コマンドが終了し次第コンテナも終了するようにしました。従って、上記のコマンドを入力するたびにコンテナが作成されて破棄されることになります。</p>
<h2 id="コンテナを使ったビルド"><a href="https://www.sigbus.info/compilerbook#%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%9F%E3%83%93%E3%83%AB%E3%83%89" style="text-decoration: none; color: inherit;">コンテナを使ったビルド</a></h2>
<p>コンテナの中で<code class="notranslate">make</code>を実行してソースファイルをコンパイルするためには、Dockerの外で編集しているソースファイルをコンテナから見えるようにする必要があります。</p>
<p><code class="notranslate">docker run</code>では、<code class="notranslate">-v &lt;source&gt;:&lt;dest&gt;</code>という形式のオプションを与えることで、外側の環境のパス<code class="notranslate">&lt;source&gt;</code>を、Dockerの中で<code class="notranslate">&lt;dest&gt;</code>として見えるようにすることができます。また、コマンドを実行するときのカレントディレクトリを<code class="notranslate">-w</code>オプションで指定することができます。これらのオプションを使うと、ソースファイルのあるディレクトリをカレントディレクトリにした上で<code class="notranslate">make</code>を実行することができます。</p>
<p>ホームディレクトリの<code class="notranslate">9cc</code>というサブディレクトリにソースファイルが置いてあるものとしましょう。そのディレクトリに対してコンテナ内から<code class="notranslate">make test</code>を実行するためには、次のコマンドを実行してください。</p>
<pre class="shell notranslate"><code class="notranslate">$ docker run --rm -v $HOME/9cc:/9cc -w /9cc compilerbook make test</code></pre>
<p>ビルドやテストのコマンドは、上記のようにして実行するようにしてください。</p>
<p>コンテナ内でシェルを起動してインタラクティブに使いたい場合は、以下のように<code class="notranslate">-it</code>オプションをつけて<code class="notranslate">docker run</code>を実行してください。</p>
<pre class="shell notranslate"><code class="notranslate">$ docker run --rm -it -v $HOME/9cc:/9cc compilerbook</code></pre>
<h2 id="コンテナに新たなアプリケーションを追加"><a href="https://www.sigbus.info/compilerbook#%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A%E3%81%AB%E6%96%B0%E3%81%9F%E3%81%AA%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%82%92%E8%BF%BD%E5%8A%A0" style="text-decoration: none; color: inherit;">コンテナに新たなアプリケーションを追加</a></h2>
<p>上記の手順で作成したDockerコンテナには一通りの開発ツールがインストールされていますが、追加のアプリケーションをインストールしたいこともあるでしょう。ここではその方法を説明します。</p>
<p>Dockerコンテナはテンポラリな存在です。コンテナを作ってその中のシェルからアプリケーションをインストールしても、そういった変更は元のイメージには書き戻されません。Dockerはこの性質によって、毎回アプリケーションが同じフレッシュな状態から起動することを保証しているのですが、イメージに変更を加えたいときはこの性質が仇となります。</p>
<p>コンテナに変更を加えた後それをイメージに書き戻したい場合は、明示的に<code class="notranslate">docker commit</code>コマンドを実行する必要があります。</p>
<p>例として、<code class="notranslate">curl</code>コマンドをインストールしたいとしましょう。その場合、まずは次のようにコンテナを作成します。</p>
<pre class="shell notranslate"><code class="notranslate">$ docker run -it compilerbook</code></pre>
<p><code class="notranslate">--rm</code>オプションを渡していないことに注意してください。その後、次のようにコンテナの中のシェルから<code class="notranslate">apt</code>を使って<code class="notranslate">curl</code>をインストールして、<code class="notranslate">exit</code>コマンドでコンテナから抜けます。</p>
<pre class="shell notranslate"><code class="notranslate">$ sudo apt update
$ sudo apt install -y curl
$ exit</code></pre>
<p><code class="notranslate">docker run</code>を実行するときに<code class="notranslate">--rm</code>オプションをつけなかったので、コンテナのシェルからexitした後でもコンテナはサスペンド状態として残っています。<code class="notranslate">docker container ls -a</code>コマンドを使うと、次のようにサスペンドしたコンテナを表示することができます。</p>
<pre class="shell notranslate"><code class="notranslate">$ docker container ls -a
CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                     PORTS               NAMES
a377e570d1da        compilerbook        "/bin/bash"         7 seconds ago       Exited (0) 5 seconds ago                       pedantic_noyce</code></pre>
<p><code class="notranslate">compilerbook</code>というイメージを実行した<code class="notranslate">a377e570d1da</code>というIDのコンテナがあることがわかるはずです。<code class="notranslate">docker commit</code>コマンドを使うと、コンテナをイメージに書き戻すことができます。</p>
<pre class="shell notranslate"><code class="notranslate">$ docker commit a377e570d1da compilerbook</code></pre>
<p>上記の手順で、イメージに変更を加えることができます。</p>
<p>サスペンドしたコンテナや古いイメージなどは、残っていても多少ディスクスペースを消費するだけで特に問題はありませんが、気になる場合は<code class="notranslate">docker system prune</code>を実行することにより削除することができます。</p>
<hr>
<h1 id="参考資料"><a href="https://www.sigbus.info/compilerbook#%E5%8F%82%E8%80%83%E8%B3%87%E6%96%99" style="text-decoration: none; color: inherit;">参考資料</a></h1>
<ul>
<li><a href="https://godbolt.org/">Compiler Explorer</a>: 便利なオンラインコンパイラ</li>
<li><a href="http://www.open-std.org/jtc1/sc22/wg14/www/docs/n1570.pdf">N1570 [PDF]</a>: C11言語仕様の最終ドラフト（公式の規格書と内容は同一）</li>
<li><a href="http://port70.net/~nsz/c/c11/n1570.html">N1570</a>: HTML版のC11言語仕様</li>
<li><a href="https://github.com/rui314/8cc/wiki/cpp.algo.pdf">X4J11/86-196 [PDF]</a>: Cプリプロセッサのマクロ展開アルゴリズムの解説</li>
<li><a href="http://www.lysator.liu.se/c/rat/title.html">Rationale for American National Standard for Information Systems - Programming Language - C</a>: 標準化委員会がどのようなことを考慮してC89言語仕様を決めたのかを説明している文章</li>
<li><a href="https://github.com/rui314/8cc">8cc</a>: 筆者によるCコンパイラ</li>
<li><a href="https://github.com/rui314/9cc">9cc</a>: 筆者によるCコンパイラ</li>
<li><a href="https://qiita.com/ruiu/items/4d471216b71ab48d8b74">Cコンパイラをスクラッチから開発してみた（日記）</a></li>
<li><a href="http://scheme2006.cs.uchicago.edu/11-ghuloum.pdf">An Incremental Approach to Compiler Construction [PDF]</a>: インクリメンタルなコンパイラ開発のアイデアを得た論文</li>
<li><a href="https://craftinginterpreters.com/contents.html">Crafting Interpreters</a>: Robert Nystromさんによるオンラインブック</li>
<li><a href="https://www.amazon.co.jp/dp/0805316701">A Retargetable C Compiler: Design and Implementation. David R. Hanson and Christopher W. Fraser</a>: シンプルなCコンパイラlccの実装の解説書</li>
</ul>
<hr>
<h1 id="索引"><a href="https://www.sigbus.info/compilerbook#%E7%B4%A2%E5%BC%95" style="text-decoration: none; color: inherit;">索引</a></h1>
<div id="index">

<ul><li><a href="https://www.sigbus.info/compilerbook#index19">.gitignore</a></li><li><a href="https://www.sigbus.info/compilerbook#index69">2の補数表現</a></li><li><a href="https://www.sigbus.info/compilerbook#index46">2項演算子</a></li><li><a href="https://www.sigbus.info/compilerbook#index65">ABI</a></li><li><a href="https://www.sigbus.info/compilerbook#index7">AMD64</a></li><li><a href="https://www.sigbus.info/compilerbook#index66">Application Binary Interface</a></li><li><a href="https://www.sigbus.info/compilerbook#index57">ASCIIコード</a></li><li><a href="https://www.sigbus.info/compilerbook#index15">AT&amp;T記法</a></li><li><a href="https://www.sigbus.info/compilerbook#index32">Backus–Naur form</a></li><li><a href="https://www.sigbus.info/compilerbook#index31">BNF</a></li><li><a href="https://www.sigbus.info/compilerbook#index42">CISC</a></li><li><a href="https://www.sigbus.info/compilerbook#index24">clang-format</a></li><li><a href="https://www.sigbus.info/compilerbook#index33">EBNF</a></li><li><a href="https://www.sigbus.info/compilerbook#index34">Extended BNF</a></li><li><a href="https://www.sigbus.info/compilerbook#index18">git</a></li><li><a href="https://www.sigbus.info/compilerbook#index20">GitHub</a></li><li><a href="https://www.sigbus.info/compilerbook#index23">gofmt</a></li><li><a href="https://www.sigbus.info/compilerbook#index8">Intel 64</a></li><li><a href="https://www.sigbus.info/compilerbook#index14">Intel記法</a></li><li><a href="https://www.sigbus.info/compilerbook#index40">LL(1)</a></li><li><a href="https://www.sigbus.info/compilerbook#index60">lvalue</a></li><li><a href="https://www.sigbus.info/compilerbook#index16">make</a></li><li><a href="https://www.sigbus.info/compilerbook#index17">Makefile</a></li><li><a href="https://www.sigbus.info/compilerbook#index26">operator precedence</a></li><li><a href="https://www.sigbus.info/compilerbook#index43">RISC</a></li><li><a href="https://www.sigbus.info/compilerbook#index61">rvalue</a></li><li><a href="https://www.sigbus.info/compilerbook#index9">x64</a></li><li><a href="https://www.sigbus.info/compilerbook#index6">x86-64</a></li><li><a href="https://www.sigbus.info/compilerbook#index10">アセンブラ</a></li><li><a href="https://www.sigbus.info/compilerbook#index11">アセンブル</a></li><li><a href="https://www.sigbus.info/compilerbook#index2">インストラクションポインタ</a></li><li><a href="https://www.sigbus.info/compilerbook#index56">エピローグ</a></li><li><a href="https://www.sigbus.info/compilerbook#index71">オーバーフロー</a></li><li><a href="https://www.sigbus.info/compilerbook#index49">オブジェクトファイル</a></li><li><a href="https://www.sigbus.info/compilerbook#index62">カナリー</a></li><li><a href="https://www.sigbus.info/compilerbook#index0">クロスコンパイラ</a></li><li><a href="https://www.sigbus.info/compilerbook#index12">スタック</a></li><li><a href="https://www.sigbus.info/compilerbook#index41">スタックマシン</a></li><li><a href="https://www.sigbus.info/compilerbook#index77">セグメント</a></li><li><a href="https://www.sigbus.info/compilerbook#index79">データセグメント</a></li><li><a href="https://www.sigbus.info/compilerbook#index78">テキストセグメント</a></li><li><a href="https://www.sigbus.info/compilerbook#index22">トークナイズ</a></li><li><a href="https://www.sigbus.info/compilerbook#index21">トークン</a></li><li><a href="https://www.sigbus.info/compilerbook#index30">ノーム・チョムスキー</a></li><li><a href="https://www.sigbus.info/compilerbook#index47">フラグレジスタ</a></li><li><a href="https://www.sigbus.info/compilerbook#index1">プログラムカウンタ</a></li><li><a href="https://www.sigbus.info/compilerbook#index80">プログラムローダ</a></li><li><a href="https://www.sigbus.info/compilerbook#index63">ブロック</a></li><li><a href="https://www.sigbus.info/compilerbook#index55">プロローグ</a></li><li><a href="https://www.sigbus.info/compilerbook#index52">ヘッダファイル</a></li><li><a href="https://www.sigbus.info/compilerbook#index75">マイナス2進数</a></li><li><a href="https://www.sigbus.info/compilerbook#index54">リンクエラー</a></li><li><a href="https://www.sigbus.info/compilerbook#index4">レジスタ</a></li><li><a href="https://www.sigbus.info/compilerbook#index81">ローダ</a></li><li><a href="https://www.sigbus.info/compilerbook#index59">右辺値</a></li><li><a href="https://www.sigbus.info/compilerbook#index25">演算子の優先順位</a></li><li><a href="https://www.sigbus.info/compilerbook#index67">関数呼び出し規約</a></li><li><a href="https://www.sigbus.info/compilerbook#index3">機械語</a></li><li><a href="https://www.sigbus.info/compilerbook#index39">具象構文木</a></li><li><a href="https://www.sigbus.info/compilerbook#index76">言語弁護士</a></li><li><a href="https://www.sigbus.info/compilerbook#index27">構文木</a></li><li><a href="https://www.sigbus.info/compilerbook#index58">左辺値</a></li><li><a href="https://www.sigbus.info/compilerbook#index13">再帰下降構文解析法</a></li><li><a href="https://www.sigbus.info/compilerbook#index72">最上位ビット</a></li><li><a href="https://www.sigbus.info/compilerbook#index44">最適化コンパイラ</a></li><li><a href="https://www.sigbus.info/compilerbook#index35">終端記号</a></li><li><a href="https://www.sigbus.info/compilerbook#index29">生成規則</a></li><li><a href="https://www.sigbus.info/compilerbook#index50">宣言</a></li><li><a href="https://www.sigbus.info/compilerbook#index53">前方宣言</a></li><li><a href="https://www.sigbus.info/compilerbook#index45">単項演算子</a></li><li><a href="https://www.sigbus.info/compilerbook#index28">抽象構文木</a></li><li><a href="https://www.sigbus.info/compilerbook#index51">定義</a></li><li><a href="https://www.sigbus.info/compilerbook#index36">非終端記号</a></li><li><a href="https://www.sigbus.info/compilerbook#index70">符号ありの数</a></li><li><a href="https://www.sigbus.info/compilerbook#index68">符号なしの数</a></li><li><a href="https://www.sigbus.info/compilerbook#index73">符号ビット</a></li><li><a href="https://www.sigbus.info/compilerbook#index74">符号拡張</a></li><li><a href="https://www.sigbus.info/compilerbook#index64">複文</a></li><li><a href="https://www.sigbus.info/compilerbook#index48">分割コンパイル</a></li><li><a href="https://www.sigbus.info/compilerbook#index37">文脈自由文法</a></li><li><a href="https://www.sigbus.info/compilerbook#index5">命令セットアーキテクチャ</a></li><li><a href="https://www.sigbus.info/compilerbook#index38">ε（イプシロン）</a></li></ul></div>
<section class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn1" role="doc-endnote"><p><a href="http://www.drdobbs.com/cpp/increasing-compiler-speed-by-over-75/240158941">http://www.drdobbs.com/cpp/increasing-compiler-speed-by-over-75/240158941</a></p>
<blockquote>
<p>DMD does memory allocation in a bit of a sneaky way. Since compilers are short-lived programs, and speed is of the essence, DMD just mallocs away, and never frees.</p>
</blockquote>
<a href="https://www.sigbus.info/compilerbook#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></li>
<li id="fn2" role="doc-endnote"><p>Linkers and Loaders, ISBN 978-1558604964, John R. Levine (1999) 1.2章</p>
<blockquote>
<p>Programmers were using libraries of subprograms even before they used assemblers. By 1947, John Mauchly, who led the ENIAC project, wrote about loading programs along with subprograms selected from a catalog of programs stored on tapes, and of the need to relocate the subprograms' code to reflect the addresses at which they were loaded. Perhaps surprisingly, these two basic linker functions, relocation and library search, appear to predate even assemblers, as Mauchly expected both the program and subprograms to be written in machine language. The relocating loader allowed the authors and users of the subprograms to write each subprogram as though it would start at location zero, and to defer the actual address binding until the subprograms were linked with a particular main program.</p>
</blockquote>
<a href="https://www.sigbus.info/compilerbook#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></li>
<li id="fn3" role="doc-endnote"><p><a href="https://parisc.wiki.kernel.org/images-parisc/b/b2/Rad_11_0_32.pdf">https://parisc.wiki.kernel.org/images-parisc/b/b2/Rad_11_0_32.pdf</a> The 32-bit PA-RISC run-time architecture document, v. 1.0 for HP-UX 11.0, 2.2.3章</p>
<blockquote>
<p>When a process is initiated by the operating system, a virtual address range is allocated for that process to be used for the call stack, and the stack pointer (GR 30) is initialized to point to the low end of this range. As procedures are called, the stack pointer is incremented to allow the called procedure frame to exist at the address below the stack pointer. When procedures are exited, the stack pointer is decremented by the same amount.</p>
</blockquote>
<a href="https://www.sigbus.info/compilerbook#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></li>
<li id="fn4" role="doc-endnote"><p><a href="https://www.acsac.org/2002/papers/classic-multics.pdf">https://www.acsac.org/2002/papers/classic-multics.pdf</a></p>
<blockquote>
<p>Thirty Years Later: Lessons from the Multics Security Evaluation, "Third, stacks on the Multics processors grew in the positive direction, rather than the negative direction. This meant that if you actually accomplished a buffer overflow, you would be overwriting unused stack frames, rather than your own return pointer, making exploitation much more difficult.</p>
</blockquote>
<a href="https://www.sigbus.info/compilerbook#fnref4" class="footnote-back" role="doc-backlink">↩︎</a></li>
<li id="fn5" role="doc-endnote"><p><a href="https://en.wikipedia.org/wiki/ASCII#cite_note-Mackenzie_1980-1">https://en.wikipedia.org/wiki/ASCII#cite_note-Mackenzie_1980-1</a></p>
<blockquote>
<p>There was some debate at the time whether there should be more control characters rather than the lowercase alphabet.</p>
</blockquote>
<a href="https://www.sigbus.info/compilerbook#fnref5" class="footnote-back" role="doc-backlink">↩︎</a></li>
<li id="fn6" role="doc-endnote"><p><a href="http://catb.org/~esr/jargon/html/L/language-lawyer.html">http://catb.org/~esr/jargon/html/L/language-lawyer.html</a></p>
<blockquote>
<p>language lawyer: n. A person, usually an experienced or senior software engineer, who is intimately familiar with many or most of the numerous restrictions and features (both useful and esoteric) applicable to one or more computer programming languages. A language lawyer is distinguished by the ability to show you the five sentences scattered through a 200-plus-page manual that together imply the answer to your question “if only you had thought to look there”. Compare wizard, legal, legalese.</p>
</blockquote>
<a href="https://www.sigbus.info/compilerbook#fnref6" class="footnote-back" role="doc-backlink">↩︎</a></li>
<li id="fn7" role="doc-endnote"><p>C Programming Language, 2nd Edition (ISBN 978-0131103627), 5.12, p.122</p>
<blockquote>
<p>C is sometimes castigated for the syntax of its declarations, particularly ones that involve pointers to functions.</p>
</blockquote>
<a href="https://www.sigbus.info/compilerbook#fnref7" class="footnote-back" role="doc-backlink">↩︎</a></li>
<li id="fn8" role="doc-endnote"><p><a href="https://blog.golang.org/gos-declaration-syntax">Go's Declaration Syntax</a> by Rob Pike<a href="https://www.sigbus.info/compilerbook#fnref8" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>


<deepl-input-controller><template shadowrootmode="open"><link rel="stylesheet" href="chrome-extension://cofdbpoegempjloogbagkncekinflcnj/build/content.css"><div><div class="dl-input-translation-container svelte-ju4595"><div></div></div></div></template></deepl-input-controller></body></html>